<!DOCTYPE html>
<html dir="ltr" prefix="og: https://ogp.me/ns#" class=" js supports cssanimations flexbox csstransforms csstransforms3d" style="" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style><style type="text/css">.truste_cursor_pointer {cursor: pointer;}.truste_border_none {border: none;}</style>
    <meta charset="utf-8">
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<meta property="og:site_name" content="Red Hat Customer Portal">
<meta property="og:type" content="article">
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<meta property="og:title" content="Composing, installing, and managing RHEL for Edge images Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<meta property="og:description" content="Use the image builder tool to compose customized RHEL (rpm-ostree) images optimized for Edge. Then, you can remotely install, and securely manage and scale deployments of the images on Edge servers.">
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="Use the image builder tool to compose customized RHEL (rpm-ostree) images optimized for Edge. Then, you can remotely install, and securely manage and scale deployments of the images on Edge servers.">
<meta name="twitter:title" content="Composing, installing, and managing RHEL for Edge images Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<meta name="twitter:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png">
<meta name="title" content="Composing, installing, and managing RHEL for Edge images Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<link rel="alternate" hreflang="en" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="ko" href="https://access.redhat.com/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="zh-hans" href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="ja" href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="es" href="https://access.redhat.com/documentation/es-es/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="ru" href="https://access.redhat.com/documentation/ru-ru/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="pt-br" href="https://access.redhat.com/documentation/pt-br/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="it" href="https://access.redhat.com/documentation/it-it/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="de" href="https://access.redhat.com/documentation/de-de/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="fr" href="https://access.redhat.com/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<link rel="alternate" hreflang="zh-hant" href="https://access.redhat.com/documentation/zh-tw/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)">
<meta name="MobileOptimized" content="width">
<meta name="HandheldFriendly" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="revision" product="0ad2e1c5-8cc7-4fb9-8e05-1c2d8c07d005" title="7cee07f1-01ed-4042-941a-97d6f421cb35" page="54bf8365-b841-4c4a-91c6-59324e019f7a" revision="a049e7b9a73db4812eb85a393996d1d12913fc33:en-us" body="caf19040e8f42b784e3ec64f4079e228.html" toc="f5ffa0c2443fbd632171cc440d2de491.json">

    <title>Composing, installing, and managing RHEL for Edge images Red Hat Enterprise Linux 9 | Red Hat Customer Portal</title>
    <link rel="stylesheet" media="all" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css">
<link rel="stylesheet" media="all" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/css__Xq4GfgPDJw9K_yYJFmlRZGJeCENu3R3r4s0K7Tr_9g.css">

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"documentation\/en-us\/red_hat_enterprise_linux\/9\/html-single\/composing_installing_and_managing_rhel_for_edge_images\/index","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"red_hat_jwt":{"client_id":"customer-portal","cookie_name":"rh_jwt","leeway":"0","realm":"redhat-external","sso_host":"https:\/\/sso.redhat.com\/","user_integration":1,"user_plugin":"drupal_user_auth","use_external_js":0,"use_internal_js":0,"use_in_admin":0},"user":{"uid":0,"permissionsHash":"e301988aec96403b7b03860ee81161237ee18c188536caa2bfab8701012b505e"}}</script>
<script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/js_EQWKo9EokWkWS99x_e1oM-NEM0zlKyTkp_83mGdm5Ks.js"></script>

    <!-- CP_PRIMER_HEAD -->  <!-- TrustArc & DTM -->
  <script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/trustarc.js"></script><script type="text/javascript" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/notice" id="truste_0.40624149022137235"></script>
  <script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/dtm.js"></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement.min.js" async=""></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement_Module_ActivityMap.min.js" async=""></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement_Module_AudienceManagement.min.js" async=""></script><script id="mktgJS" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh.mktg.js"></script><script>_satellite["_runScript1"](function(event, target, Promise) {
var targetWaitAttempts = 0;

var awaitBody = function(offer){
	//mbox call has returned, ensure <body> exists, then add the mbox DIV
	var docBody  = document.getElementsByTagName("body"),
		int_mbox;
	if(docBody.length){
		int_mbox = document.createElement("div");
		docBody = docBody[0];
		int_mbox.id = "int_mbox";
		int_mbox.classList.add("mboxDefault");
		int_mbox.style.display = "none";
		//place mbox DIV as first tag within BODY
		docBody.insertBefore(int_mbox, docBody.firstChild);
	
		//now that receiving DIV is in place, inject the offer code
		adobe.target.applyOffer({
			"mbox": "int_mbox",
			"selector": "#int_mbox",
			"offer": offer
		});
	
		//and then un-hide the mbox DIV
		int_mbox.style.display = "block";
	}else{
		setTimeout(function(){awaitBody(offer)},100);
	}
}

var awaitTarget = function(){
	if (typeof adobe !== "undefined" && typeof adobe.target !== "undefined" && typeof adobe.target.getOffer !== "undefined") {
		//First get the mbox call going out
		adobe.target.getOffer({
			"mbox": "int_mbox",
			"success": function(offer) {
				awaitBody(offer);
			},
			// Handle errors gracefully
			"error": function(status, error) {}
		});
	}else{
		if(++targetWaitAttempts < 50){
			setTimeout(awaitTarget,100);
		}
	}
}
awaitTarget();
});</script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/v1.7-920" async="async" crossorigin="" importance="high"></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="dxp-kbase-prod-138-57cf79cd99-wkvtp">
<meta name="avalon-version" content="eb0593bd">
<meta name="cp-chrome-build-date" content="2023-09-01T18:06:20.591Z">

<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml">
<!-- title -->
<title>Red Hat Customer Portal - Access to 24x7 support and knowledge</title>
<!-- /title -->
<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en", 
        version   : "eb0593bd",
        builddate : "2023-09-01T18:06:20.591Z",        fetchdate : "2023-09-03T14:30:08-0400",        nrid      : "NOLONGERSUPPORTED",
        nrlk      : "NOLONGERSUPPORTED"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="https://access.redhat.com/webassets/avalon/g/favicon.ico"><link media="all" rel="stylesheet" type="text/css" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/bootstrap.css">
<link media="all" rel="stylesheet" type="text/css" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/bootstrap-grid.css">
<link media="all" rel="stylesheet" type="text/css" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/main.css">



<link href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/chosen.css" rel="stylesheet" type="text/css">

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]--><noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>
<link media="all" rel="stylesheet" type="text/css" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-navigation--lightdom.min.css">
<!-- /cssInclude -->
<script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/ie-polyfills.js"></script>

<script async="">
  if (!HTMLScriptElement.supports || !HTMLScriptElement.supports('importmap')) {
    import("https://www.redhatstatic.com/dx/v1-alpha/es-module-shims@1.7.3.js");
  }
</script>
<script type="importmap">
{
  "imports": {
    "@patternfly/elements/" : "https://www.redhatstatic.com/dx/v1-alpha/@patternfly/elements@2.2.2/",
    "@rhds/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/elements/",
    "@rhds/elements/lib/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/lib/",
    "@cpelements/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@cpelements/elements@2.0.0-alpha.7/elements/"
  }
}
</script><script type="text/javascript" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/require.js" data-main="/webassets/avalon/j/"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
<script type="text/javascript" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/new-nav.js"></script>
<!-- /CP_PRIMER_HEAD -->

  <script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC89cb5efc622a491caa02ca11adc4672f-source.min.js" async=""></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC4291db99e867433ca8496d298dca09cb-source.min.js" async=""></script><link href="data:text/css,%5Bid*%3D'google_ads_iframe'%5D%2C%5Bid*%3D'taboola-'%5D%2C.taboolaHeight%2C.taboola-placeholder%2C%23credential_picker_container%2C%23credentials-picker-container%2C%23credential_picker_iframe%2C%5Bid*%3D'google-one-tap-iframe'%5D%2C%23google-one-tap-popup-container%2C.google-one-tap-modal-div%2C%23amp_floatingAdDiv%2C%23ez-content-blocker-container%2C%23notify-adblock%7Bdisplay%3Anone!important%3Bmin-height%3A0!important%3Bheight%3A0!important%3B%7D" rel="stylesheet" type="text/css"><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/prompt.js"></script><script charset="utf-8" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/12.2158c5447122fa995560.chunk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="https://access.redhat.com/webassets/avalon/j/lib/require-css/require.css.min.js" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/require.css.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="rhn-modal" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rhn-modal.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="status-widget" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/status-widget.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="avatars" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/avatars.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="cookie-monster" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/cookie-monster.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="pfe" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="wc" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/wc.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nimbus/searchbar" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/searchbar.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="webcomponentsjs/custom-elements-es5-adapter" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/custom-elements-es5-adapter.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="webcomponentsjs/webcomponents-bundle" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/webcomponents-bundle.js"></script><link rel="stylesheet" media="all" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-table--lightdom.min.css"><script charset="utf-8" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/7.41dc96447e48575a0cfd.chunk.js"></script><script charset="utf-8" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/1.e4bb9861ae9a0d936559.chunk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="data-action" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/data-action.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-icon/dist/pfe-icon.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-icon.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-cta/dist/pfe-cta.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-cta.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-avatar/dist/pfe-avatar.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-avatar.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/cp-search-autocomplete/dist/cp-search-autocomplete.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/cp-search-autocomplete.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nimbus/tour" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/tour.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfelement/dist/pfelement.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfelement.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-autocomplete/dist/pfe-autocomplete.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-autocomplete.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="introjs" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/introjs.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="moment" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/moment.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-button/dist/pfe-button.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-button.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-site-switcher/dist/site-switcher.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/site-switcher.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/pfe-navigation/dist/pfe-navigation.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-navigation.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-primary-detail/dist/pfe-primary-detail.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-primary-detail.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-table/dist/rh-table.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-table.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ieSVGfix" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/ieSVGfix.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-account-dropdown/dist/rh-account-dropdown.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-account-dropdown.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-clipboard/dist/pfe-clipboard.umd.min" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-clipboard.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="prism" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/prism.js"></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC1badf0bc400d462b892df3a5874c0bc4-source.min.js" async=""></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RCb1afac0346e94d81bf645b608336061e-source.min.js" async=""></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RCa65a5b793a1a4b4abe76ffa69f30f470-source.min.js" async=""></script></head>
  <body class="en loggedOut">
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas="">
      <!-- CP_PRIMER_HEADER -->
<div id="page-wrap" class="page-wrap">
    <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">

      <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
      <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden">Skip to navigation</a>
            <a href="#doc-wrapper" class="skip-link visually-hidden">Skip to main content</a>            <nav id="portal-utility-nav" class="utility-navigation utility-navigation--bar hidden-at-mobile" data-analytics-region="utility" aria-labelledby="nav__utility-nav--desktop">
                <h3 id="nav__utility-nav--desktop" class="element-invisible">Utilities
                </h3>
                <ul aria-labelledby="nav__utility-nav--desktop">
                    <li id="nav-subscription" data-portal-tour-1="1">
                        <a class="top-nav-subscriptions" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Subscription" href="https://access.redhat.com/management/">Subscriptions
                        </a>
                    </li>
                    <li id="nav-downloads" data-portal-tour-1="2">
                        <a class="top-nav-downloads" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/">Downloads
                        </a>
                    </li>
                    <li id="nav-containers">
                        <a class="top-nav-containers" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/">Containers
                        </a>
                    </li>
                    <li id="nav-support" data-portal-tour-1="3">
                        <a class="top-nav-support-cases" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/">Support Cases
                        </a>
                    </li>
                </ul>
            </nav>

            <pfe-navigation id="pfe-navigation" data-analytics-region="mega menu" pfelement="" class="PFElement pfe-navigation--processed pfe-navigation--has-search pfe-navigation--custom-dropdowns--processed" type="combo" has_search="" has_account="" breakpoint="desktop" lang="en">
                <div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper">
                    <a href="https://access.redhat.com/" class="pfe-navigation__logo-link" data-analytics-text="logo" data-analytics-category="MM|logo">
                        <img class="pfe-navigation__logo-image" alt="Red Hat Customer Portal" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/red-hat-customer-portal.svg">
                    </a>
                </div>

                <nav class="pfe-navigation" aria-label="Main Navigation" data-analytics-region="main nav">
                    <ul class="pfe-navigation__menu" id="pfe-navigation__menu">                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-subscription--mobile" data-portal-tour-1="1">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Subscription" href="https://access.redhat.com/management/">Subscriptions
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-downloads--mobile" data-portal-tour-1="2">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/">Downloads
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-containers--mobile">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/">Containers
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-support--mobile" data-portal-tour-1="3">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/">Support Cases
                            </a>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Products and Services">Products &amp; Services
                            </a>
                            <div class="pfe-navigation__dropdown has-primary-detail">                                <div class="desktop-col-span-2 tablet-col-span-all">
                                    <h3>
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Products" href="https://access.redhat.com/products/">Products
                                        </a>
                                    </h3>
                                    <slot name="main-menu__dropdown--product__product-listing"></slot>
                                </div>                                <div>
                                    <h3 id="nav__products__support">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Support" href="https://access.redhat.com/support">Support
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__support">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Production Support" href="https://access.redhat.com/support/offerings/production/">Production Support
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Development Support" href="https://access.redhat.com/support/offerings/developer/">Development Support
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Product Life Cycles" href="https://access.redhat.com/product-life-cycles/">Product Life Cycles
                                                    </a></li>
                                    </ul>

                                    <h3 id="nav__products__services">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Services" href="https://www.redhat.com/en/services">Services
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__services">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Consulting" href="https://www.redhat.com/en/services/consulting">Consulting
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Technical Account Management" href="https://access.redhat.com/support/offerings/tam/">Technical Account Management
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Training and Certifications" href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__products__documentation">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Documentation" href="https://access.redhat.com/documentation">Documentation
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__documentation">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform
                                                        </a></li>
                                    </ul>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="All Documentation" data-analytics-linktype="cta" href="https://access.redhat.com/documentation">All Documentation
                                        </a>
                                    </pfe-cta>

                                    <h3 id="nav__products__catalog"><a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Ecosystem Catalog" href="https://catalog.redhat.com/">Ecosystem Catalog
                                        </a></h3>
                                        <ul aria-labelledby="nav__products__catalog">
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Red Hat Partner Ecosystem" href="https://access.redhat.com/ecosystem/">Red Hat Partner Ecosystem
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Partner Resources" href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources
                                                    </a></li>
                                        </ul>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Tools" href="https://access.redhat.com/labs/">Tools
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__tools__tools" data-analytics-level="2" data-analytics-text="Tools" data-analytics-category="Tools">Tools
                                    </h3>
                                    <ul aria-labelledby="nav__tools__tools">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Solution Engine" href="https://access.redhat.com/support/cases/#/troubleshoot">Troubleshoot a product issue
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Packages" href="https://access.redhat.com/downloads/content/package-browser">Packages
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Errata" href="https://access.redhat.com/errata/">Errata
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__tools__labs">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Customer Portal Labs" href="https://access.redhat.com/labs/">Customer Portal Labs
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__tools__labs">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Configuration" href="https://access.redhat.com/labs/#!?type=config">Configuration
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Deployment" href="https://access.redhat.com/labs/#!?type=deploy">Deployment
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Security" href="https://access.redhat.com/labs/#!?type=security">Security
                                                    </a></li>                                                    <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Troubleshooting" href="https://access.redhat.com/labs/#!?type=troubleshoot">Troubleshoot
                                                        </a></li>
                                    </ul>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="All Labs" data-analytics-linktype="cta" href="https://access.redhat.com/labs/">All labs
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h4 id="nav__tools__red-hat-insights">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Red Hat Insights" href="https://www.redhat.com/en/technologies/management/insights">Red Hat Insights
                                        </a>
                                    </h4>
                                    <p>Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Learn more" href="https://www.redhat.com/en/technologies/management/insights">Learn More
                                    </a>
                                    <br>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Go to Insights" href="https://cloud.redhat.com/insights">Go to Insights
                                    </a>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Security" href="https://access.redhat.com/security/">Security
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="security__security-center">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Red Hat Product Security Center" href="https://access.redhat.com/security">Red Hat Product Security Center
                                        </a>
                                    </h3>
                                    <p>Engage with our Red Hat Product 
Security team, access security updates, and ensure your environments are
 not exposed to any known security vulnerabilities.
                                    </p>
                                    <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Security|Red Hat Product Security Center" data-analytics-text="Product Security Center" data-analytics-linktype="cta" href="https://access.redhat.com/security/">Product Security Center
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__updates" data-analytics-level="2" data-analytics-text="Security Updates" data-analytics-category="Security">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Security Updates" href="https://access.redhat.com/security">Security Updates
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__updates">
                                        <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Advisories" href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Red Hat CVE Database" href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Labs" href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs
                                                    </a></li>
                                    </ul>
                                    <p class="margin-top-xl">Keep your systems secure with Red Hat's specialized responses to security vulnerabilities.
                                    </p>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="View Responses" data-analytics-linktype="cta" href="https://access.redhat.com/security/vulnerability">View Responses
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__resources">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Resources" href="https://access.redhat.com/security/overview">Resources
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__resources">                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Blog" href="https://redhat.com/en/blog/channel/security">Security Blog
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Measurement" href="https://www.redhat.com/security/data/metrics/">Security Measurement
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Severity Ratings" href="https://access.redhat.com/security/updates/classification/">Severity Ratings
                                                        </a></li>
                                                        <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Backporting Policies" href="https://access.redhat.com/security/updates/backporting/">Backporting Policies
                                                            </a></li>
                                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Product Signing (GPG) Keys" href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys
                                                                </a></li>
                                    </ul>
                                </div>

                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/community/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Community">Community
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__community__cp-community">
                                        <a href="https://access.redhat.com/community" data-analytics-level="2" data-analytics-text="Customer Portal Community" data-analytics-category="Community">Customer Portal Community
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__community__cp-community">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Discussions" href="https://access.redhat.com/discussions">Discussions
                                            </a></li>                                                <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Private Groups" href="https://access.redhat.com/groups/">Private Groups
                                                    </a></li>
                                    </ul>

                                    <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Community Activity" data-analytics-linktype="cta" href="https://access.redhat.com/community/">Community Activity
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__community__events" data-analytics-level="2" data-analytics-text="Customer Events" data-analytics-category="Community">Customer Events
                                    </h3>
                                    <ul aria-labelledby="nav__community__events">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Convergence" href="https://access.redhat.com/convergence/">Red Hat Convergence
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Summit" href="http://www.redhat.com/summit/">Red Hat Summit
                                                </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__community__stories" data-analytics-level="2" data-analytics-text="Stories" data-analytics-category="Community">Stories
                                    </h3>
                                    <ul aria-labelledby="nav__community__stories">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Red Hat Subscription Value" href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-text="You Asked. We Acted." data-analytics-category="Community|Stories" href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Open Source Communities" href="http://www.redhat.com/en/open-source">Open Source Communities
                                                    </a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>                </nav>                <div id="site-search" slot="search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <cp-search-autocomplete class="push-bottom PFElement" path="/webassets/avalon/j/data.json" num-items="5" placeholder="Enter your search term" pfelement="" type="container"></cp-search-autocomplete>                            <div>Or <a href="https://access.redhat.com/support/cases/#/troubleshoot">troubleshoot an issue</a>.
                            </div>
                        </form>
                    </div>
                </div>


                <div slot="secondary-links" id="localesMenu" class="pfe-navigation__custom-dropdown__wrapper--single-column pfe-navigation__custom-dropdown__wrapper">
                    <button class="pfe-navigation__secondary-link" id="pfe-navigation__secondary-link--English" aria-controls="pfe-navigation__custom-dropdown--English" aria-expanded="false">
                        <pfe-icon icon="web-icon-globe" size="sm" aria-hidden="true" pfelement="" class="PFElement" on="light" type="content"></pfe-icon>English
                    </button>

                    
                <div id="pfe-navigation__custom-dropdown--English" class="pfe-navigation__dropdown-wrapper pfe-navigation__custom-dropdown--single-column pfe-navigation__dropdown-wrapper--invisible" aria-hidden="true" tabindex="-1"><pfe-navigation-dropdown dropdown-width="single" pfelement="" class="PFElement pfe-navigation__dropdown" type="container" data-id-suffix="English">
                        <h2 class="utility-header">Select Your Language
                        </h2>
                        <ul class="reset">
                            <li><a href="https://access.redhat.com/changeLanguage?language=en&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index" data-lang="en" id="en" data-analytics-text="English" class="selected">English</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ko&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index" data-lang="ko" id="ko" data-analytics-text="Korean"></a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ja&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index" data-lang="ja" id="ja" data-analytics-text="Japanese"></a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index" data-lang="zh_CN" id="zh_CN" data-analytics-text="Chinese"> ()</a></li>
                        </ul>

                    </pfe-navigation-dropdown></div></div>                <rh-account-dropdown slot="account" pfelement="" class="PFElement" type="content" login-link="https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/auth?client_id=customer-portal&amp;redirect_uri=https%3A%2F%2Faccess.redhat.com%2Fwebassets%2Favalon%2Fj%2Fincludes%2Fsession%2Fscribe%2F%3FredirectTo%3Dhttps%253A%252F%252Faccess.redhat.com%252Fdocumentation%252Fen-us%252Fred_hat_enterprise_linux%252F9%252Fhtml-single%252Fcomposing_installing_and_managing_rhel_for_edge_images%252Findex&amp;state=3cf7b564-feeb-4cb7-8af2-020c694ef1a9&amp;nonce=9daa7405-6e0b-49bb-8e8c-e6cd7bdb5df3&amp;response_mode=fragment&amp;response_type=code&amp;scope=openid" lang="en"></rh-account-dropdown>                <pfe-primary-detail breakpoint-width="600" class="main-menu__dropdown--product__product-listing PFElement" slot="main-menu__dropdown--product__product-listing" consistent-height="" aria-orientation="vertical" role="tablist" pfelement="" on="&quot;light&quot;" type="container" has_details="" breakpoint="compact">
                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-g5jf024tw" data-index="0" aria-controls="pfe-detail-1pnuzglrd" aria-expanded="false">Infrastructure and Management                    </button>
                    <div slot="details" data-index="0" id="pfe-detail-1pnuzglrd" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-g5jf024tw" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Satellite" href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Subscription Management" href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Insights" href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights
                                </a>
                            </li>
                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Ansible Automation Platform" href="https://access.redhat.com/products/red-hat-ansible-automation-platform/">Red Hat Ansible Automation Platform
                                </a></li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-veoch6saw" data-index="1" aria-controls="pfe-detail-a8gvy3wyk" aria-expanded="false">Cloud Computing                    </button>
                    <div slot="details" data-index="1" id="pfe-detail-a8gvy3wyk" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-veoch6saw" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift" href="https://access.redhat.com/products/openshift">Red Hat OpenShift
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Data Science" href="https://access.redhat.com/products/red-hat-openshift-data-science/">Red Hat OpenShift Data Science
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Dedicated" href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat Advanced Cluster Security for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/">Red Hat Advanced Cluster Security for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Advanced Cluster Management for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Quay" href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat CodeReady Workspaces" href="https://access.redhat.com/products/red-hat-codeready-workspaces/">OpenShift Dev Spaces
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Service on AWS" href="https://access.redhat.com/products/red-hat-openshift-service-aws">Red Hat OpenShift Service on AWS
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-2wf0yegri" data-index="2" aria-controls="pfe-detail-hvsjiq4tn" aria-expanded="false">Storage                    </button>
                    <div slot="details" data-index="2" id="pfe-detail-hvsjiq4tn" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-2wf0yegri" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Gluster Storage" href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Hyperconverged Infrastructure" href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Ceph Storage" href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Openshift Container Storage" href="https://access.redhat.com/products/red-hat-openshift-data-foundation">Red Hat OpenShift Data Foundation
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-g5b1obaqr" data-index="3" aria-controls="pfe-detail-fum6zg9mb" aria-expanded="false">Runtimes                    </button>
                    <div slot="details" data-index="3" id="pfe-detail-fum6zg9mb" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-g5b1obaqr" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Runtimes" href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Data Grid" href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Web Server" href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Single Sign On" href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat support for Spring Boot" href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Node.js" href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js
                                </a>
                            </li>                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Quarkus" href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-bkkrux3bg" data-index="4" aria-controls="pfe-detail-lbx4w99gs" aria-expanded="false">Integration and Automation                    </button>
                    <div slot="details" data-index="4" id="pfe-detail-lbx4w99gs" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-bkkrux3bg" data-processed="true" aria-hidden="true" hidden="">
                        <ul class="border-bottom" id="portal-menu-border-bottom">
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Application Foundations" href="https://access.redhat.com/products/red-hat-application-foundations/">Red Hat Application Foundations
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Fuse" href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat AMQ" href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat 3scale API Management" href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div slot="details-nav--footer">
                        <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" on="&quot;light&quot;" has_link="">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="2" data-analytics-text="All Products" data-analytics-category="Products and Services|Products:" data-analytics-linktype="cta">All Products
                            </a>
                        </pfe-cta>
                    </div>
                </pfe-primary-detail>

            <div slot="secondary-links" class="pfe-navigation__site-switcher pfe-navigation__custom-dropdown__wrapper--full pfe-navigation__custom-dropdown__wrapper" mobile-slider=""><button class="pfe-navigation__secondary-link" id="pfe-navigation__secondary-link--All-Red-Hat" aria-controls="pfe-navigation__custom-dropdown--All-Red-Hat" aria-expanded="false"><pfe-icon icon="web-icon-grid-3x3" size="sm" aria-hidden="true" pfelement="" class="PFElement" on="light" type="content"></pfe-icon>All Red Hat</button> <div id="pfe-navigation__custom-dropdown--All-Red-Hat" class="pfe-navigation__dropdown-wrapper pfe-navigation__custom-dropdown--full pfe-navigation__dropdown-wrapper--invisible" aria-hidden="true" tabindex="-1"><pfe-navigation-dropdown dropdown-width="full" pfelement="" class="PFElement pfe-navigation__dropdown" type="container" data-id-suffix="All-Red-Hat"><div class="pfe-navigation__site-switcher__back-wrapper"><button class="pfe-navigation__site-switcher__back-button" aria-label="Close undefined and return to menu">Back to menu</button></div><site-switcher pfelement="" class="PFElement" type="content" lang="en"><article class="node-355871 node node-page clearfix">


    <div class="field field-name-body field-type-text-with-summary field-label-hidden">
        <div class="field-items">
            <div class="field-item even">
                <!--linking to stylesheets so /cms/ajax/site-switcher will load with styles -->
  <link type="text/css" rel="stylesheet" href="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/site-switcher.css" media="all">
  
  <!-- overriding css variables to get the redhat.com logo box and text to change style indicating you are on this site-->

                <style>
                    :root {
                        --rhdc--logo: var(--rhdc--logo--you-are-here);
                        --rhdc--backgroundColor: var(--background--you-are-here);
                        --rhdc--label: var(--label--you-are-here);
                        --rhdc--margin-top: 0px;
                    }
                </style>

                <section class="site-switcher-tray" data-analytics-region="site-switcher">
                    <div class="content">
                        <div class="container">
                            <section class="site-switcher-container">
                                <ul class="site-switcher-primary-list">
                                    <li class="rhdc">
                                        <a href="https://www.redhat.com/?intcmp=701f20000012k69AAA" data-analytics-category="Websites" data-analytics-text="redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat</h3>
                                            <p>Learn about our open source products, services, and company.</p>
                                        </a>
                                    </li>
                                    <li class="customer-portal">
                                        <a href="https://access.redhat.com/?intcmp=701f20000012k6EAAQ" data-analytics-category="Websites" data-analytics-text="access_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Customer portal -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Customer Portal</h3>
                                            <p>Get product support and knowledge from the open source experts.</p>
                                        </a>
                                    </li>
                                    <li class="developers">
                                        <a href="https://developers.redhat.com/?intcmp=701f20000012k6JAAQ" data-analytics-category="Websites" data-analytics-text="developers_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Red Hat Developer -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Developer</h3>
                                            <p>Read developer tutorials and download Red Hat software for cloud
                                                application development.</p>
                                        </a>
                                    </li>
                                    <li class="connect">
                                        <a href="https://connect.redhat.com/" data-analytics-category="Websites" data-analytics-text="connect_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Red Hat Partner Connect -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Partner Connect</h3>
                                            <p>Become a Red Hat partner and get support in building customer solutions.
                                            </p>
                                        </a>
                                    </li>
                                </ul>
                                <hr>

                                <ul class="site-switcher-secondary-list">
                                    <li>
                                        <h2>Products</h2>
                                        <ul>
                                            <li><a href="https://www.ansible.com/?intcmp=701f20000012k6TAAQ" data-analytics-category="Websites" data-analytics-text="ansible">
                                                    <h3>Ansible.com</h3>
                                                </a>Learn about and try our IT automation product.</li>

                                        </ul>
                                    </li>
                                    <li>
                                        <h2>Try, Buy, Sell</h2>
                                        <ul>
                                            <li><a href="https://cloud.redhat.com/" data-analytics-category="Websites" data-analytics-text="hybrid-cloud">
                                                    <h3>Red Hat Hybrid Cloud</h3>
                                                </a>Access technical how-tos, tutorials, and learning paths focused on
                                                Red Hats hybrid cloud managed services.</li>

                                            <li><a href="https://www.redhat.com/store?intcmp=701f20000012k6nAAA" data-analytics-category="Websites" data-analytics-text="store">
                                                    <h3>Red Hat Store</h3>
                                                </a>Buy select Red Hat products and services online.</li>

                                            <li><a href="https://marketplace.redhat.com/" data-analytics-category="Websites" data-analytics-text="marketplace">
                                                    <h3>Red Hat Marketplace</h3>
                                                </a>Try, buy, sell, and manage certified enterprise software for
                                                container-based environments.</li>

                                        </ul>
                                    </li>
                                    <li>
                                        <h2>Community &amp; Open Source</h2>
                                        <ul>
                                            <li><a href="https://enterprisersproject.com/?intcmp=701f20000012k6sAAA" data-analytics-category="Websites" data-analytics-text="enterprisersproject">
                                                    <h3>The Enterprisers Project</h3>
                                                </a>Read analysis and advice articles written by CIOs, for CIOs.</li>
                                            <li><a href="https://opensource.com/?intcmp=701f20000012k6OAAQ" data-analytics-category="Websites" data-analytics-text="opensource">
                                                    <h3>Opensource.com</h3>
                                                </a>Read articles on a range of topics about open source.</li>
                                        </ul>
                                    </li>
                                    <li>
                                        <h2>&nbsp;</h2>
                                        <ul>
                                            <li><a href="https://www.redhat.com/summit?intcmp=701f20000012k6xAAA" data-analytics-category="Websites" data-analytics-text="summit">
                                                    <h3>Red Hat Summit</h3>
                                                </a>Register for and learn about our annual open source IT industry
                                                event.</li>
                                            <li><a href="https://catalog.redhat.com/" data-analytics-category="Websites" data-analytics-text="catalog">
                                                    <h3>Red Hat Ecosystem Catalog</h3>
                                                </a>Find hardware, software, and cloud providersand download container
                                                imagescertified to perform with Red Hat technologies.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>



</article></site-switcher></pfe-navigation-dropdown></div></div></pfe-navigation>

            <div id="scroll-anchor"></div>

            <!--[if IE 8]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>
                You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
                </div>
            <![endif]-->
            <!--[if IE 9]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
                </div>
            <![endif]-->
            <div id="site-section"></div>
        <div class="breadcrumbs"><div id="breadcrumbs" class="container"><ul><li><a href="https://access.redhat.com/products/">Products &amp; Services</a></li><li><a href="https://access.redhat.com/documentation">Product Documentation</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red&nbsp;Hat Enterprise Linux</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9">9</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images">Composing, installing, and managing RHEL for Edge images</a></li><li>Composing, installing, and managing RHEL for Edge images</li></ul></div></div></header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">                            <!-- /CP_PRIMER_HEADER -->

      <div class="container">
        

                                                                                                        <script>breadcrumbs = [["Products & Services","\/products\/"],["Product Documentation","\/documentation"],["Red Hat Enterprise Linux","\/documentation\/en-us\/red_hat_enterprise_linux"],["9","\/documentation\/en-us\/red_hat_enterprise_linux\/9"],["Composing, installing, and managing RHEL for Edge images","\/documentation\/en-us\/red_hat_enterprise_linux\/9\/html\/composing_installing_and_managing_rhel_for_edge_images"],["Composing, installing, and managing RHEL for Edge images","\/documentation\/en-us\/red_hat_enterprise_linux\/9\/html\/composing_installing_and_managing_rhel_for_edge_images\/--single-page-document--"]]</script>

<div data-drupal-messages-fallback="" class="hidden"></div>


    </div>
        <div class="j-chrome-content-container">
        

  

  


  <article class="pvof-doc__content-wrapper__outer">
    <script>
      'use strict';

            var $outerWrapper = document.querySelector('.pvof-doc__content-wrapper__outer');
      if ($outerWrapper && $outerWrapper.closest) {
        var $containerWrapper = $outerWrapper.closest('.container');
        if ($containerWrapper) {
          $containerWrapper.classList.remove('container');
          $containerWrapper.classList.add('j-chrome-content-container');
        }
      }

            var cssRemoved = false;
      try {
        var $crapCss = document.querySelectorAll(
          'link[href*="/chrome_themes/nimbus/css/pages.css"], link[href*="/chrome_themes/nimbus/css/components.css"]'
        );
        if ($crapCss.length) {
          for (let index = 0; index < $crapCss.length; index++) {
            const $stylesheet = $crapCss[index];
            $stylesheet.remove();
          }
        }
        cssRemoved = true;
      }
      catch (error) {
        console.error('Ran into an issue while trying to retheme page', error);
        cssRemoved = false;
      }

            if (cssRemoved) {
        var $pvofOuterWrapper = document.querySelector('.pvof-doc__content-wrapper__outer--css-not-removed');
        if ($pvofOuterWrapper) {
          $pvofOuterWrapper.classList.remove('pvof-doc__content-wrapper__outer--css-not-removed');
        }
      }
    </script>
    <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
    <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
    <div class="pvof-doc__content-wrapper pvof-doc__content-wrapper--has-sidebar">
                                <div class="pvof-doc__content-wrapper__inner j-superdoc j-superdoc--has-nav j-reading-mode-initialized">
                            <div class="pvof-sidebar__wrapper j-doc-nav j-superdoc__nav">
            <div class="j-sidebar__menu-container j-sidebar__menu-container--processed">
              <button class="j-sidebar__menu-trigger content-expander__trigger content-expander__trigger--processed" aria-expanded="true" aria-controls="content-expander-nqc98uz">
                <span class="j-sidebar__menu-trigger__open-text">Jump To</span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>

              <div class="pvof-sidebar__inner-wrapper j-doc-nav__wrapper content-expander content-expander--processed" id="content-expander-nqc98uz" open="">
                <div class="j-sidebar__menu-details-container">
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--expand">
                    Expand all
                  </button>
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--collapse">
                    Collapse all
                  </button>
                </div>
                

  <nav id="pvof-doc__toc" class="pvof-doc__toc">
  <h2 class="j-doc-nav__title" id="j-doc-nav__title">
    Table of contents
  </h2>
  <div class="pvof-doc__toc-inner">
              <ol class="j-doc-nav__list" aria-labelledby="j-doc-nav__title">
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#doc-wrapper" class="j-doc-nav__link is-active">
    Composing, installing, and managing RHEL for Edge images
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#making-open-source-more-inclusive" class="j-doc-nav__link ">
    Making open source more inclusive
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link ">
    Providing feedback on Red Hat documentation
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    1. Introducing RHEL for Edge images
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-5rau762">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1. Introducing RHEL for Edge images"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1. Introducing RHEL for Edge images"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-5rau762" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#edge-supported-architecture_introducing-rhel-for-edge-images" class="j-doc-nav__link ">
    1.1. RHEL for Edgesupported architecture
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images" class="j-doc-nav__link ">
    1.2. How to compose and deploy a RHEL for Edge image
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_non-network-based-deployments_introducing-rhel-for-edge-images" class="j-doc-nav__link ">
    1.3. Non-network-based deployments
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_network-based-deployments_introducing-rhel-for-edge-images" class="j-doc-nav__link ">
    1.4. Network-based deployments
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images" class="j-doc-nav__link ">
    1.5. Difference between RHEL RPM images and RHEL for Edge images
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#setting-up-image-builder_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    2. Setting up image builder
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-nnq5kg9">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2. Setting up image builder"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2. Setting up image builder"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-nnq5kg9" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#edge-image-builder-system-requirements_setting-up-image-builder" class="j-doc-nav__link ">
    2.1. Image builder system requirements
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#edge-installing-image-builder_setting-up-image-builder" class="j-doc-nav__link ">
    2.2. Installing image builder
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#managing-repositories_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    3. Managing image builder repositories
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-egsnan1">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3. Managing image builder repositories"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3. Managing image builder repositories"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-egsnan1" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_adding-custom-third-party-repositories_managing-repositories" class="j-doc-nav__link ">
    3.1. Adding custom third-party repositories
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_adding-third-party-repositories-with-specific-distributions_managing-repositories" class="j-doc-nav__link ">
    3.2. Adding third-party repositories with specific distributions
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_checking-repositories-metadata-with-gpg_managing-repositories" class="j-doc-nav__link ">
    3.3. Checking repositories metadata with GPG
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#image-builder-default-system-repositories_managing-repositories" class="j-doc-nav__link ">
    3.4. Image builder default system repositories
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#overriding-a-system-repository_managing-repositories" class="j-doc-nav__link ">
    3.5. Overriding a system repository
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#overriding-a-system-repository-with-support-for-subscriptions_managing-repositories" class="j-doc-nav__link ">
    3.6. Overriding a system repository with support for subscriptions
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    4. Composing a RHEL for Edge image using image builder in RHEL web console
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-lym12vn">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "4. Composing a RHEL for Edge image using image builder in RHEL web console"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "4. Composing a RHEL for Edge image using image builder in RHEL web console"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-lym12vn" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" class="j-doc-nav__link ">
    4.1. Accessing image builder in the RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" class="j-doc-nav__link ">
    4.2. Creating a blueprint for the RHEL for Edge Commit image using image builder in RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" class="j-doc-nav__link ">
    4.3. Creating a RHEL for Edge Commit image using image builder in RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" class="j-doc-nav__link ">
    4.4. Creating a RHEL for Edge Container image using image builder in RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" class="j-doc-nav__link ">
    4.5. Creating a RHEL for Edge Installer image using image builder in RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" class="j-doc-nav__link ">
    4.6. Downloading a RHEL for Edge image
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#additional_resources" class="j-doc-nav__link ">
    4.7. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    5. Composing a RHEL for Edge image using image builder command-line
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-9ld2x4l">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5. Composing a RHEL for Edge image using image builder command-line"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5. Composing a RHEL for Edge image using image builder command-line"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-9ld2x4l" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#network_based_deployments_workflow" class="j-doc-nav__link j-doc-nav__link--has-children">
    5.1. Network-based deployments workflow
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-9j9jt3q">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5.1. Network-based deployments workflow"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5.1. Network-based deployments workflow"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-9j9jt3q" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.1.1. Creating a RHEL for Edge Commit image blueprint using image builder command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.1.2. Creating a RHEL for Edge Commit image using image builder command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.1.3. Creating a RHEL for Edge image update with a ref commit using image builder command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#non_network_based_deployments_workflow" class="j-doc-nav__link j-doc-nav__link--has-children">
    5.2. Non-network-based deployments workflow
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-gjzben0">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5.2. Non-network-based deployments workflow"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5.2. Non-network-based deployments workflow"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-gjzben0" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.2.1. Creating a RHEL for Edge Container blueprint by using image builder CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.2.2. Creating a RHEL for Edge Installer blueprint using image builder CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.2.3. Creating a RHEL for Edge Container image by using image builder CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.2.4. Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.2.5. Downloading a RHEL for Edge Installer image using the image builder CLI
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="j-doc-nav__link ">
    5.3. Supported image customizations
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#additional_resources_2" class="j-doc-nav__link ">
    5.4. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    6. Building simplified installer images to provision a RHEL for Edge image
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-wd0vvqi">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6. Building simplified installer images to provision a RHEL for Edge image"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6. Building simplified installer images to provision a RHEL for Edge image"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-wd0vvqi" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.1. Simplified installer image build and deployment
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.2. Creating a blueprint for a Simplified image using image builder CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.4. Downloading a simplified RHEL for Edge image using the image builder command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.5. Creating a blueprint for a Simplified image using image builder GUI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.6. Creating a RHEL for Edge Simplified Installer image using image builder GUI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.7. Downloading a simplified RHEL for Edge image using the image builder GUI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.8. Setting up an UEFI HTTP Boot server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.9. Deploying the Simplified ISO image in a Virtual Machine
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images" class="j-doc-nav__link ">
    6.10. Deploying the Simplified ISO image from a USB flash drive
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    7. Using the Ignition tool for the RHEL for Edge Simplified Installer images
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-ncorjkf">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7. Using the Ignition tool for the RHEL for Edge Simplified Installer images"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7. Using the Ignition tool for the RHEL for Edge Simplified Installer images"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-ncorjkf" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" class="j-doc-nav__link ">
    7.1. Creating an Ignition configuration file
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" class="j-doc-nav__link ">
    7.2. Creating a blueprint in the GUI with support to Ignition
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" class="j-doc-nav__link ">
    7.3. Creating a blueprint with support to Ignition using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    8. Automatically provisioning and onboarding RHEL for Edge devices with FDO
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-ercf2ce">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8. Automatically provisioning and onboarding RHEL for Edge devices with FDO"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8. Automatically provisioning and onboarding RHEL for Edge devices with FDO"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-ercf2ce" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" class="j-doc-nav__link ">
    8.1. The FIDO Device Onboarding (FDO) process
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" class="j-doc-nav__link ">
    8.2. Automatically provisioning and onboarding RHEL for Edge devices
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" class="j-doc-nav__link ">
    8.3. Generating key and certificates
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" class="j-doc-nav__link ">
    8.4. Installing and running the manufacturing server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" class="j-doc-nav__link ">
    8.5. Installing, configuring, and running the Rendezvous server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" class="j-doc-nav__link ">
    8.6. Installing, configuring, and running the Owner server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" class="j-doc-nav__link ">
    8.7. Automatically onboarding a RHEL for Edge device by using FDO authentication
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    9. Deploying a RHEL for Edge image in a network-base environment
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-5hew0ai">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "9. Deploying a RHEL for Edge image in a network-base environment"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "9. Deploying a RHEL for Edge image in a network-base environment"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-5hew0ai" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#extracting-the-tar-file-commit_installing-rpm-ostree-images" class="j-doc-nav__link ">
    9.1. Extracting the RHEL for Edge image commit
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images" class="j-doc-nav__link ">
    9.2. Setting up a web server to install RHEL for Edge images
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#downloading-rhel-boot-iso-image_installing-rpm-ostree-images" class="j-doc-nav__link ">
    9.3. Downloading RHEL Boot ISO image
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images" class="j-doc-nav__link ">
    9.4. Installing the RHEL for Edge image using a Kickstart file
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    10. Deploying a RHEL for Edge image in a non-network-base environment
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-5swmw3y">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "10. Deploying a RHEL for Edge image in a non-network-base environment"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "10. Deploying a RHEL for Edge image in a non-network-base environment"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-5swmw3y" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" class="j-doc-nav__link ">
    10.1. Creating a RHEL for Edge Container image for non-network-based deployments
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" class="j-doc-nav__link ">
    10.2. Creating a RHEL for Edge Installer image for non-network-based deployments
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" class="j-doc-nav__link ">
    10.3. Installing the RHEL for Edge image for non-network-based deployments
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    11. Managing RHEL for Edge images
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-q7inoyg">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "11. Managing RHEL for Edge images"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "11. Managing RHEL for Edge images"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-q7inoyg" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#editing_a_rhel_for_edge_image_blueprint_by_using_image_builder" class="j-doc-nav__link j-doc-nav__link--has-children">
    11.1. Editing a RHEL for Edge image blueprint by using image builder
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-gcdckko">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "11.1. Editing a RHEL for Edge image blueprint by using image builder"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "11.1. Editing a RHEL for Edge image blueprint by using image builder"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-gcdckko" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.1.1. Adding a component to RHEL for Edge image blueprint using image builder in RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.1.2. Removing a component from RHEL for Edge image blueprint using image builder in RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.1.3. Editing a RHEL for Edge image blueprint using command-line interface
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#updating_rhel_for_edge_images" class="j-doc-nav__link j-doc-nav__link--has-children">
    11.2. Updating RHEL for Edge images
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-3kb9rp4">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "11.2. Updating RHEL for Edge images"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "11.2. Updating RHEL for Edge images"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-3kb9rp4" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.2.1. How are RHEL for Edge image updates deployed
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_building-a-commit-update_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.2.2. Building a commit update
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.2.3. Deploying RHEL for Edge image updates manually
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.2.4. Deploying RHEL for Edge image updates manually using the command-line
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.2.5. Deploying RHEL for Edge image updates manually for non-network-base deployments
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#upgrading_rhel_for_edge_systems" class="j-doc-nav__link j-doc-nav__link--has-children">
    11.3. Upgrading RHEL for Edge systems
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-ukhuke8">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "11.3. Upgrading RHEL for Edge systems"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "11.3. Upgrading RHEL for Edge systems"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-ukhuke8" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.3.1. Upgrading your RHEL 8 system to RHEL 9
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#deploying_rhel_for_edge_automatic_image_updates" class="j-doc-nav__link j-doc-nav__link--has-children">
    11.4. Deploying RHEL for Edge automatic image updates
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-tbmgaqi">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "11.4. Deploying RHEL for Edge automatic image updates"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "11.4. Deploying RHEL for Edge automatic image updates"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-tbmgaqi" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.4.1. Updating the RHEL for Edge image update policy
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.4.2. Enabling RHEL for Edge automatic download and staging of updates
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#rolling_back_rhel_for_edge_images" class="j-doc-nav__link j-doc-nav__link--has-children">
    11.5. Rolling back RHEL for Edge images
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-myzkoz9">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "11.5. Rolling back RHEL for Edge images"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "11.5. Rolling back RHEL for Edge images"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-myzkoz9" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.5.1. How are RHEL for Edge images rolled back
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.5.2. Rolling back RHEL for Edge images manually
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images" class="j-doc-nav__link ">
    11.5.3. Rolling back RHEL for Edge images using an automated process
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images" class="j-doc-nav__link j-doc-nav__link--has-children">
    A. Terminology and commands
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-e6lmr5d">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "A. Terminology and commands"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "A. Terminology and commands"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-e6lmr5d" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#edge-rpmostree-terminology_edge-terminology-and-commands" class="j-doc-nav__link ">
    A.1. OSTree and rpm-ostree terminology
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#edge-ostree-commands_edge-terminology-and-commands" class="j-doc-nav__link ">
    A.2. OSTree commands
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#rpm-ostree-commands_edge-terminology-and-commands" class="j-doc-nav__link ">
    A.3. rpm-ostree commands
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#ref_fdo-terminology_edge-terminology-and-commands" class="j-doc-nav__link ">
    A.4. FDO automatic onboarding terminology
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands" class="j-doc-nav__link ">
    A.5. FDO automatic onboarding technologies
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#idm140115509536560" class="j-doc-nav__link ">
    Legal Notice
  </a>
  
          </li>
              </ol>
    
  </div>
</nav>


              </div>
            </div>
            <div class="j-options-container j-options-container--mobile">
              <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--options content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-b6gfh01">
                <span class="j-sidebar__menu-trigger__open-headline">
                  Settings
                </span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>
              

  <ul class="j-doc-options__list content-expander content-expander--processed" id="content-expander-b6gfh01" aria-hidden="true">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language">
        Language:
      </label>
      <select id="j-doc-language" class="j-doc-option__select" data-ddg-inputtype="unknown">
                  <option value="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            
          </option>
                  <option value="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            
          </option>
                  <option value="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            
          </option>
                  <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images" selected="selected">
            English
          </option>
                  <option value="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            Franais
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images"></a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images"></a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images"></a>
            </li>
                      <li>
              <a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">English</a>
            </li>
                      <li>
              <a href="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">Franais</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode" class="j-doc-option__select" data-ddg-inputtype="unknown">
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images" class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images" selected="selected" class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_installing_and_managing_rhel_for_edge_images/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_installing_and_managing_rhel_for_edge_images/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


              </div>
          </div>
                <div class="pvof-doc__tertiary-sidebar j-doc__tertiary-sidebar j-doc__tertiary-sidebar--sticky">
          <div class="pvof-doc__tertiary-sidebar__inner j-doc__tertiary-sidebar__inner"><div id="j-reading-mode-toggle" class="j-switch__wrapper j-reading-mode__toggle"><input type="checkbox" name="reading-mode" value="false" id="reading-mode-checkbox" class="j-reading-mode j-switch__input visually-hidden"><label for="reading-mode-checkbox" class="j-switch__label">Focus mode<span class="j-reading-mode__shortcut-hint" hidden=""><kbd>F</kbd></span><div class="j-switch"></div></label></div>
            <div class="j-doc__doc-options">
              <div class="j-options-container j-options-container--desktop j-options-container--desktop--processed">
                <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--tablet content-expander__trigger content-expander__trigger--processed" aria-expanded="true" aria-controls="content-expander-tqnoodm">
                  <span class="j-sidebar__menu-trigger-icon"></span>
                  <h2 class="visually-hidden">Language and Page Formatting Options</h2>
                </button>
                  

  <ul class="j-doc-options__list content-expander content-expander--processed" id="content-expander-tqnoodm" open="">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language--2">
        Language:
      </label>
      <select id="j-doc-language--2" class="j-doc-option__select" data-ddg-inputtype="unknown">
                  <option value="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            
          </option>
                  <option value="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            
          </option>
                  <option value="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            
          </option>
                  <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images" selected="selected">
            English
          </option>
                  <option value="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">
            Franais
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images"></a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images"></a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images"></a>
            </li>
                      <li>
              <a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">English</a>
            </li>
                      <li>
              <a href="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">Franais</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode--2" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode--2" class="j-doc-option__select" data-ddg-inputtype="unknown">
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images" class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images" selected="selected" class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_installing_and_managing_rhel_for_edge_images/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_installing_and_managing_rhel_for_edge_images/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


                </div>
              </div>
          </div>
        </div>

                  <div class="doc-wrapper pvof-doc__wrapper j-superdoc__content-wrapper" id="doc-wrapper">
            

  <div class="pane-page-title">
    <h1 class="title" itemprop="name">Composing, installing, and managing RHEL for Edge images</h1>
  </div>


  <div xml:lang="en-US" class="book" id="idm140115511064016"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red&nbsp;Hat Enterprise&nbsp;Linux</span> <span class="productnumber">9</span></div><div><h2 class="subtitle">Creating, deploying, and managing Edge systems with Red&nbsp;Hat Enterprise&nbsp;Linux&nbsp;9</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red&nbsp;Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140115509536560">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Use the image builder tool to compose customized RHEL (rpm-ostree) 
images optimized for Edge. Then, you can remotely install, and securely 
manage and scale deployments of the images on Edge servers.
			</div></div></div></div><hr></div><section class="preface" id="making-open-source-more-inclusive"><div class="titlepage"><div><div><h1 class="title">Making open source more inclusive</h1></div></div></div><p class="_abstract _abstract">
			Red Hat is committed to replacing problematic language in our code, 
documentation, and web properties. We are beginning with these four 
terms: master, slave, blacklist, and whitelist. Because of the enormity 
of this endeavor, these changes will be implemented gradually over 
several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wrights message</a>.
		</p></section><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting comments on specific passages</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					View the documentation in the <span class="strong strong"><strong>Multi-page HTML</strong></span> format and ensure that you see the <span class="strong strong"><strong>Feedback</strong></span> button in the upper right corner after the page fully loads.
				</li><li class="listitem">
					Use your cursor to highlight the part of the text that you want to comment on.
				</li><li class="listitem">
					Click the <span class="strong strong"><strong>Add Feedback</strong></span> button that appears near the highlighted text.
				</li><li class="listitem">
					Add your feedback and click <span class="strong strong"><strong>Submit</strong></span>.
				</li></ol></div><div class="orderedlist"><p class="title"><strong>Submitting feedback through Bugzilla (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%209&amp;component=Documentation">Bugzilla</a> website.
				</li><li class="listitem">
					Select the correct version from the <span class="strong strong"><strong>Version</strong></span> menu.
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Submit Bug</strong></span>.
				</li></ol></div></section><section class="chapter" id="introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Introducing RHEL for Edge images</h1></div></div></div><p class="_abstract _abstract">
			A RHEL for Edge image is an <code class="literal">rpm-ostree</code> image that includes system packages to remotely install RHEL on Edge servers.
		</p><p>
			The system packages include:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">Base OS</code> package
				</li><li class="listitem">
					Podman as the container engine
				</li><li class="listitem">
					Additional RPM content
				</li></ul></div><p>
			Differently from RHEL images, RHEL for Edge is an immutable operating system, that is, it contains a <code class="literal">read-only</code> root directory with the following characteristics:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					The packages are isolated from root directory
				</li><li class="listitem">
					Package installs create layers that make it easy to rollback to previous versions
				</li><li class="listitem">
					Efficient updates to disconnected environments
				</li><li class="listitem">
					Supports multiple operating system branches and repositories
				</li><li class="listitem">
					Has a hybrid <code class="literal">rpm-ostree</code> package system
				</li></ul></div><p>
			You can deploy a RHEL for Edge image on Bare Metal, Appliance, and Edge servers.
		</p><p>
			You can compose customized RHEL for Edge images using the image 
builder tool. You can also create RHEL for Edge images by accessing the <a class="link" href="https://console.redhat.com/edge/fleet-management">edge management</a> application in the Red Hat Hybrid Cloud Console platform and configure automated management.
		</p><p>
			The edge management application simplifies the way you can provision 
and register your images. To learn more about the edge management, see 
the <a class="link" href="https://access.redhat.com/documentation/en-us/edge_management/2022/html/create_rhel_for_edge_images_and_configure_automated_management/index">Create RHEL for Edge images and configure automated management</a> documentation.
		</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
				Using RHEL for Edge customized images that were created using the <span class="strong strong"><strong>image builder</strong></span> on-prem version artifacts is not supported in the <a class="link" href="https://console.redhat.com/edge/fleet-management">edge management</a> application. See <a class="link" href="https://access.redhat.com/articles/7010809">Edge management supportability</a>.
			</p></div></div><p>
			With a RHEL for Edge image, you can achieve the following:
		</p><div class="informalfigure"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/8244d26e830b925375cfbb7e5b5ec4d7/edge-features.png" class="rh_docs--zoom" title="Key features"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/edge-features.png" alt="Key features"></a></div></div><section class="section" id="edge-supported-architecture_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">1.1. RHEL for Edgesupported architecture</h2></div></div></div><p class="_abstract _abstract">
				Currently, you can deploy RHEL for Edge images on AMD and Intel 64-bit systems.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Currently, RHEL for Edge does not support ARM systems.
				</p></div></div></section><section class="section" id="edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">1.2. How to compose and deploy a RHEL for Edge image</h2></div></div></div><p class="_abstract _abstract">
				Composing and deploying a RHEL for Edge image involves two phases:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Composing a RHEL <code class="literal">rpm-ostree</code> image using the image builder tool. You can access image builder through a command-line interface in the <code class="literal">composer-cli</code> tool, or use a graphical user interface in the RHEL web console.
					</li><li class="listitem">
						Deploying the image using RHEL installer.
					</li></ol></div><p>
				While composing a RHEL for Edge image, you can select any of the 
following image types. Composing the different RHEL for Edge images 
might or might not require network access. See the table:
			</p><div class="table" id="idm140115507665296"><p class="title">Table 1.1. RHEL for Edge images type</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="kp2tjw8" id="rh-table--kp2tjw8" style="--rh-table--scrollbar--width: 0px;"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 25%; " class="col_3"><!--Empty--><col style="width: 25%; " class="col_4"><!--Empty--></colgroup><thead><tr><th id="idm140115509536416" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Image type</th><th id="idm140115509535328" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Description</th><th id="idm140115509534240" scope="col" data-row="1" data-col="3" class="content--md" valign="top" align="left">Suitable for network-based deployments</th><th id="idm140115509533136" scope="col" data-row="1" data-col="4" class="content--md" valign="top" align="left">Suitable for non-network-based deployments</th></tr></thead><tbody><tr><td headers="idm140115509536416" data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								<span class="strong strong"><strong>RHEL for Edge Commit (<code class="literal">.tar</code>)</strong></span>
							</p>
							 </td><td headers="idm140115509535328" data-row="2" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Commit image is not directly bootable, even though it contains a
 full operating system. To boot the Commit image type, you must deploy 
it.
							</p>
							 </td><td headers="idm140115509534240" data-row="2" data-col="3" class="content--sm" valign="top" align="left"> <p>
								Yes
							</p>
							 </td><td headers="idm140115509533136" data-row="2" data-col="4" class="content--sm" valign="top" align="left"> <p>
								No
							</p>
							 </td></tr><tr><td headers="idm140115509536416" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								<span class="strong strong"><strong>RHEL for Edge Container (<code class="literal">.tar</code>)</strong></span>
							</p>
							 </td><td headers="idm140115509535328" data-row="3" data-col="2" class="content--lg" valign="top" align="left"> <p>
								The Container creates an <code class="literal">OSTree</code> 
commit and embeds it into an OCI container with a web server. When the 
Container is started, the web server serves the commit as an OSTree 
repository.
							</p>
							 </td><td headers="idm140115509534240" data-row="3" data-col="3" class="content--sm" valign="top" align="left"> <p>
								No
							</p>
							 </td><td headers="idm140115509533136" data-row="3" data-col="4" class="content--sm" valign="top" align="left"> <p>
								Yes
							</p>
							 </td></tr><tr><td headers="idm140115509536416" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								<span class="strong strong"><strong>RHEL for Edge Installer (<code class="literal">.iso</code>)</strong></span>
							</p>
							 </td><td headers="idm140115509535328" data-row="4" data-col="2" class="content--lg" valign="top" align="left"> <p>
								The RHEL for Edge Installer image type pulls the commit from the
 running container and creates an installable boot ISO with a Kickstart 
file configured to use the embedded OSTree commit.
							</p>
							 </td><td headers="idm140115509534240" data-row="4" data-col="3" class="content--sm" valign="top" align="left"> <p>
								No
							</p>
							 </td><td headers="idm140115509533136" data-row="4" data-col="4" class="content--sm" valign="top" align="left"> <p>
								Yes
							</p>
							 </td></tr><tr><td headers="idm140115509536416" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								<span class="strong strong"><strong>RHEL for Edge Raw image (.raw.xz)</strong></span>
							</p>
							 </td><td headers="idm140115509535328" data-row="5" data-col="2" class="content--lg" valign="top" align="left"> <p>
								The compressed raw images consist of a file that contains a 
partition layout with an existing deployed OSTree commit in it. You can 
flash the RHEL Raw Images on a hard disk or boot on a virtual machine.
							</p>
							 </td><td headers="idm140115509534240" data-row="5" data-col="3" class="content--sm" valign="top" align="left"> <p>
								Yes
							</p>
							 </td><td headers="idm140115509533136" data-row="5" data-col="4" class="content--sm" valign="top" align="left"> <p>
								Yes
							</p>
							 </td></tr><tr><td headers="idm140115509536416" data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								<span class="strong strong"><strong>RHEL for Edge Simplified Installer (<code class="literal">.iso</code>)</strong></span>
							</p>
							 </td><td headers="idm140115509535328" data-row="6" data-col="2" class="content--lg" valign="top" align="left"> <p>
								The Simplified Installer image type pulls the commit from a 
running container and creates an installable boot ISO with a Kickstart 
file configured to use the embedded OSTree commit.
							</p>
							 </td><td headers="idm140115509534240" data-row="6" data-col="3" class="content--sm" valign="top" align="left"> <p>
								Yes
							</p>
							 </td><td headers="idm140115509533136" data-row="6" data-col="4" class="content--sm" valign="top" align="left"> <p>
								Yes
							</p>
							 </td></tr></tbody></table></rh-table></div><p>
				The image types vary in terms of their contents, and are therefore suitable for different types of deployment environments.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/">Performing a standard RHEL 9 installation</a>.
					</li></ul></div></section><section class="section" id="con_non-network-based-deployments_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">1.3. Non-network-based deployments</h2></div></div></div><p class="_abstract _abstract">
				Use image builder to create flexible RHEL <code class="literal">rpm-ostree</code> images to suit your requirements, and then use Anaconda to deploy them in your environment.
			</p><p>
				You can access image builder through a command-line interface in the <code class="literal">composer-cli</code> tool, or use a graphical user interface in the RHEL web console.
			</p><p>
				Composing and deploying a RHEL for Edge image in non-network-based deployments involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install image builder
					</li><li class="listitem">
						Using image builder, create a blueprint with customizations for RHEL for Edge Container image
					</li><li class="listitem">
						Import the RHEL for Edge blueprint in image builder
					</li><li class="listitem">
						Create a RHEL for Edge image embed in an OCI container with a webserver ready to deploy the commit as an OSTree repository
					</li><li class="listitem">
						Download the RHEL for Edge Container image file
					</li><li class="listitem">
						Deploy the container serving a repository with the RHEL for Edge Container commit
					</li><li class="listitem">
						Using image builder, create another blueprint for RHEL for Edge Installer image
					</li><li class="listitem">
						Create a RHEL for Edge Installer image configured to pull the 
commit from the running container embedded with RHEL for Edge Container 
image
					</li><li class="listitem">
						Download the RHEL for Edge Installer image
					</li><li class="listitem">
						Run the installation
					</li></ol></div><p>
				The following diagram represents the RHEL for Edge image non-network deployment workflow:
			</p><div class="figure" id="non-network-based_introducing-rhel-for-edge-images"><p class="title">Figure 1.1. Deploying RHEL for Edge in non-network environment</p><div class="figure-contents"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/7e7bb5d0cb4a69c2a481b08c6c6a7b02/edge_non-network-deployment-workflow.png" class="rh_docs--zoom" title="RHEL for Edge non-network deployment workflow"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/edge_non-network-deployment-workflow.png" alt="RHEL for Edge non-network deployment workflow"></a></div></div></div></section><section class="section" id="con_network-based-deployments_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">1.4. Network-based deployments</h2></div></div></div><p class="_abstract _abstract">
				Use image builder to create flexible RHEL <code class="literal">rpm-ostree</code>
 images to suit your requirements, and then use Anaconda to deploy them 
in your environment. image builder automatically identifies the details 
of your deployment setup and generates the image output as an <code class="literal">edge-commit</code> as a <code class="literal">.tar</code> file.
			</p><p>
				You can access image builder through a command-line interface in the <code class="literal">composer-cli</code> tool, or use a graphical user interface in the RHEL web console.
			</p><p>
				You can compose and deploy the RHEL for Edge image by performing the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install image builder
					</li><li class="listitem">
						Using image builder, create a blueprint for RHEL for Edge image
					</li><li class="listitem">
						Import the RHEL for Edge blueprint in image builder
					</li><li class="listitem">
						Create a RHEL for Edge Commit (<code class="literal">.tar</code>) image
					</li><li class="listitem">
						Download the RHEL for Edge image file
					</li><li class="listitem">
						Set up a web server
					</li><li class="listitem">
						Create a new blueprint for a RHEL for Edge Installer (<code class="literal">.iso</code>)
					</li><li class="listitem">
						Create the RHEL for Edge Installer (<code class="literal">.iso</code>) image, pointing at the OSTree content from the RHEL for Edge Commit (<code class="literal">.tar</code>) artifact
					</li><li class="listitem">
						Download the RHEL for Edge installer ISO image you created
					</li><li class="listitem">
						Boot the edge device using the RHEL for Edge Installer ISO image
					</li></ol></div><p>
				The following diagram represents the RHEL for Edge network image deployment workflow:
			</p><div class="figure" id="network-based_introducing-rhel-for-edge-images"><p class="title">Figure 1.2. Deploying RHEL for Edge in network-base environment</p><div class="figure-contents"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/1ade9df16e6fde0abab1e4a498dabc88/edge-deployment-workflow.png" class="rh_docs--zoom" title="RHEL for Edge network deployment workflow"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/edge-deployment-workflow.png" alt="RHEL for Edge network deployment workflow"></a></div></div></div></section><section class="section" id="edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">1.5. Difference between RHEL RPM images and RHEL for Edge images</h2></div></div></div><p class="_abstract _abstract">
				You can create RHEL system images in traditional package-based RPM format and also as RHEL for Edge (<code class="literal">rpm-ostree</code>) images.
			</p><p>
				You can use the traditional package-based RPMs to deploy RHEL on 
traditional data centers. However, with RHEL for Edge images you can 
deploy RHEL on servers other than traditional data centers. These 
servers include systems where processing of large amounts of data is 
done closest to the source where data is generatedEdge servers.
			</p><p>
				The RHEL for Edge (<code class="literal">rpm-ostree</code>) images 
are not a package manager. They only support complete bootable file 
system trees, not individual files. These images do not have information
 regarding the individual files such as how these files were generated 
or anything related to their origin.
			</p><p>
				The <code class="literal">rpm-ostree</code> images need a separate mechanism, the package manager, to install additional applications in the <code class="literal">/var</code> directory. With that, the <code class="literal">rpm-ostree</code> image keeps the operating system unchanged, while maintaining the state of the <code class="literal">/var</code> and <code class="literal">/etc</code> directories. The atomic updates enable rollbacks and background staging of updates.
			</p><p>
				Refer to the following table to know how RHEL for Edge images differ from the package-based RHEL RPM images.
			</p><div class="table" id="idm140115505635168"><p class="title">Table 1.2. Difference between RHEL RPM images and RHEL for Edge images</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="sy5tj6w" id="rh-table--sy5tj6w" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><tbody><tr><td data-row="1" data-col="1" class="content--md" valign="top" align="left"> <p>
								Key attributes
							</p>
							 </td><td data-row="1" data-col="2" class="content--md" valign="top" align="left"> <p>
								RHEL RPM image
							</p>
							 </td><td data-row="1" data-col="3" class="content--md" valign="top" align="left"> <p>
								RHEL for Edge image
							</p>
							 </td></tr><tr><td data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">OS assembly</code>
							</p>
							 </td><td data-row="2" data-col="2" class="content--lg" valign="top" align="left"> <p>
								You can assemble the packages locally to form an image.
							</p>
							 </td><td data-row="2" data-col="3" class="content--lg" valign="top" align="left"> <p>
								The packages are assembled in an ostree which you can install on a system.
							</p>
							 </td></tr><tr><td data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">OS updates</code>
							</p>
							 </td><td data-row="3" data-col="2" class="content--lg" valign="top" align="left"> <p>
								You can use <code class="literal">dnf update</code> to apply the available updates from the enabled repositories.
							</p>
							 </td><td data-row="3" data-col="3" class="content--lg" valign="top" align="left"> <p>
								You can use <code class="literal">rpm-ostree upgrade</code> to stage an update if any new commit is available in the ostree remote at <code class="literal">/etc/ostree/remotes.d/</code>. The update takes effect on system reboot.
							</p>
							 </td></tr><tr><td data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">Repository</code>
							</p>
							 </td><td data-row="4" data-col="2" class="content--md" valign="top" align="left"> <p>
								The package contains DNF repositories
							</p>
							 </td><td data-row="4" data-col="3" class="content--md" valign="top" align="left"> <p>
								The package contains Ostree remote repository
							</p>
							 </td></tr><tr><td data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">User access permissions</code>
							</p>
							 </td><td data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								Read write
							</p>
							 </td><td data-row="5" data-col="3" class="content--md" valign="top" align="left"> <p>
								Read-only (<code class="literal">/usr</code>)
							</p>
							 </td></tr><tr><td data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">Data persistence</code>
							</p>
							 </td><td data-row="6" data-col="2" class="content--lg" valign="top" align="left"> <p>
								You can mount the image to any non tmpfs mount point
							</p>
							 </td><td data-row="6" data-col="3" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">/etc</code> &amp; <code class="literal">/var</code> are read-write enabled and include persisting data.
							</p>
							 </td></tr></tbody></table></rh-table></div></section></section><section class="chapter" id="setting-up-image-builder_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Setting up image builder</h1></div></div></div><p class="_abstract _abstract">
			Use image builder to create your customized RHEL for Edge images. 
After you install image builder on a RHEL system, image builder is 
available as an application in RHEL web console. You can also access 
image builder through a command line interface in the <code class="literal">composer-cli</code> tool.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				It is recommended to install image builder on a virtual machine.
			</p></div></div><p>
			In the environment where you want to install image builder, ensure 
that you first meet the system requirements and then install it.
		</p><section class="section" id="edge-image-builder-system-requirements_setting-up-image-builder"><div class="titlepage"><div><div><h2 class="title">2.1. Image builder system requirements</h2></div></div></div><p class="_abstract _abstract">
				The environment where RHEL image builder runs, for example a virtual
 machine, must meet the requirements that are listed in the following 
table.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Running RHEL image builder inside a container is not supported.
				</p></div></div><div class="table" id="idm140115507367152"><p class="title">Table 2.1. Image builder system requirements</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="g75nynk" id="rh-table--g75nynk" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><tbody><tr><td data-row="1" data-col="1" class="content--md" valign="top" align="left"> <p>
								<span class="strong strong"><strong>Parameter</strong></span>
							</p>
							 </td><td data-row="1" data-col="2" class="content--md" valign="top" align="left"> <p>
								<span class="strong strong"><strong>Minimal Required Value</strong></span>
							</p>
							 </td></tr><tr><td data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								System type
							</p>
							 </td><td data-row="2" data-col="2" class="content--md" valign="top" align="left"> <p>
								A dedicated virtual machine
							</p>
							 </td></tr><tr><td data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								Processor
							</p>
							 </td><td data-row="3" data-col="2" class="content--md" valign="top" align="left"> <p>
								2 cores
							</p>
							 </td></tr><tr><td data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								Memory
							</p>
							 </td><td data-row="4" data-col="2" class="content--md" valign="top" align="left"> <p>
								4 GiB
							</p>
							 </td></tr><tr><td data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								Disk space
							</p>
							 </td><td data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								20 GiB
							</p>
							 </td></tr><tr><td data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								Access privileges
							</p>
							 </td><td data-row="6" data-col="2" class="content--md" valign="top" align="left"> <p>
								Administrator level (root)
							</p>
							 </td></tr><tr><td data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								Network
							</p>
							 </td><td data-row="7" data-col="2" class="content--md" valign="top" align="left"> <p>
								Connectivity to Internet
							</p>
							 </td></tr></tbody></table></rh-table></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The 20 GiB disk space requirement is enough to install and run 
image builder in the host. To build and deploy image builds, you must 
allocate additional dedicated disk space.
				</p></div></div></section><section class="section" id="edge-installing-image-builder_setting-up-image-builder"><div class="titlepage"><div><div><h2 class="title">2.2. Installing image builder</h2></div></div></div><p class="_abstract _abstract">
				To install image builder on a dedicated virtual machine, follow these steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The virtual machine is created and is powered on.
					</li><li class="listitem">
						You have installed RHEL and you have subscribed to RHSM or Red Hat Satellite.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the following packages on the virtual machine.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								osbuild-composer
							</li><li class="listitem">
								composer-cli
							</li><li class="listitem">
								cockpit-composer
							</li><li class="listitem">
								bash-completion
							</li><li class="listitem">
								firewalld
							</li></ul></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wl5vaew"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install osbuild-composer composer-cli cockpit-composer bash-completion firewalld</pre></div></div><p class="simpara">
						Image builder is installed as an application in RHEL web console.
					</p></li><li class="listitem">
						Reboot the virtual machine
					</li><li class="listitem"><p class="simpara">
						Configure the system firewall to allow access to the web console:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--upq7tjb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># firewall-cmd --add-service=cockpit &amp;&amp; firewall-cmd --add-service=cockpit --permanent</pre></div></div></li><li class="listitem"><p class="simpara">
						Enable image builder.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--defzq18"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl enable osbuild-composer.socket cockpit.socket --now</pre></div></div><p class="simpara">
						The osbuild-composer and cockpit services start automatically on first access.
					</p></li><li class="listitem"><p class="simpara">
						Load the shell configuration script so that the autocomplete feature for the <code class="literal">composer-cli</code> command starts working immediately without reboot:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--515d7av"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ source /etc/bash_completion.d/composer-cli</pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/managing-repositories_composing-installing-managing-rhel-for-edge-images">Managing repositories.</a>
					</li></ul></div></section></section><section class="chapter" id="managing-repositories_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Managing image builder repositories</h1></div></div></div><p>
			You can use the following types of repositories in image builder:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Custom third-party repositories</span></dt><dd>
						Use these to include packages that are not available in the official RHEL repositories.
					</dd><dt><span class="term">Official repository overrides</span></dt><dd>
						Use these if you want to download base system RPMs from elsewhere 
than the official repositories, for example, a custom mirror in your 
network. Because using official repository overrides disables the 
default repositories, your custom mirror must contain all the necessary 
packages.
					</dd></dl></div><section class="section" id="proc_adding-custom-third-party-repositories_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.1. Adding custom third-party repositories</h2></div></div></div><p>
				You can add custom third-party sources to your repositories and manage these repositories by using the <code class="literal">composer-cli</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have the URL of the custom third-party repository.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a repository source file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--skn46z7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository_name</em></span>"
type = "<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository-url</em></span>"
check_gpg = false
check_ssl = false</pre></div></div><p class="simpara">
						For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--y8ugb2o"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">id = "k8s"
name = "Kubernetes"
type = "yum-baseurl"
url = "https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64"
check_gpg = false
check_ssl = false
system = false</pre></div></div></li><li class="listitem">
						Save the file in the TOML format.
					</li><li class="listitem"><p class="simpara">
						Add the new third-party source with the following command:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--s68434u"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>composer-cli sources add <span class="emphasis"><em><span class="replaceable replaceable">&lt;file-name&gt;</span></em></span>.toml</strong></span></pre></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check if the new source was successfully added:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--tt731xv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>composer-cli sources list</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Check the new source content:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--g8j8yge"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>composer-cli sources info <span class="emphasis"><em><span class="replaceable replaceable">&lt;source_id&gt;</span></em></span></strong></span></pre></div></div></li></ul></div></section><section class="section" id="proc_adding-third-party-repositories-with-specific-distributions_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.2. Adding third-party repositories with specific distributions</h2></div></div></div><p>
				You can specify a list of distributions in the custom third-party source file by using the optional field <code class="literal">distro</code>. The repository file uses the distribution string list while resolving dependencies during the image building.
			</p><p>
				Any request that specifies <code class="literal">rhel-9</code> will use this source. For example, if you list packages and specify <code class="literal">rhel-9</code>, it will include this source. However, listing packages for the host distribution will not include this source.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a repository source file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ieu73g3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
distros = ["<span class="emphasis"><em>list_of_distributions</em></span>"]
id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository-name</em></span>"
system = false
type = ""<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository-url</em></span>"</pre></div></div><p class="simpara">
						For example, to specify the distribution:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--503p7k8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
distros = ["rhel-9"]
id = "rh9-local"
name = "packages for RHEL"
system = false
type = "yum-baseurl"
url = "http://local/repos/rhel9/projectrepo/"</pre></div></div></li><li class="listitem">
						Save the file in the TOML format.
					</li></ol></div></section><section class="section" id="proc_checking-repositories-metadata-with-gpg_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.3. Checking repositories metadata with GPG</h2></div></div></div><p>
				To detect and avoid corrupted packages, you can use the DNF package 
manager to check the GNU Privacy Guard (GPG) signature on RPM packages, 
and also to check if the repository metadata has been signed with a GPG 
key.
			</p><p>
				For security reasons, you can distribute the key in a separate channel from the RPMs, by making your GPG key available over <code class="literal">https</code>. You can indicate which GPG key to use to do the check, by setting <code class="literal">check_repogpg = true</code> in the source. If the key is available over <code class="literal">https</code>, set the <code class="literal">gpgkeys</code> entry to the URL for the key. Optionally, you can also embed the whole key into the source <code class="literal">gpgkeys</code> entry to import it directly instead of fetching it from the URL.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Access the folder where you want to create a repository:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kzu0xt1"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cd repo/</pre></div></div></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">createrepo_c</code> to create a repository from RPM packages:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--q3nlx7z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ createrepo_c .</pre></div></div></li><li class="listitem"><p class="simpara">
						Access the directory where the repodata is:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ckmplit"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cd repodata/</pre></div></div></li><li class="listitem"><p class="simpara">
						Set up a repository by signing your <code class="literal">repomd.xml</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--u1z2srp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ gpg -u YOUR-GPG-KEY-EMAIL --yes --detach-sign --armor repomd.xml</pre></div></div></li><li class="listitem"><p class="simpara">
						Check the GPG signature.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set <code class="literal">check_repogpg = true</code> in the repository source.
							</li><li class="listitem"><p class="simpara">
								If your key is available over <code class="literal">https</code>, set the <code class="literal">gpgkeys</code> field with the key URL for the key. You can add as many URL keys as you need The following is an example:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9echxv1"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository_name</em></span>"
system = false
type = "<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository_URL</em></span>"
check_repogpg = true
gpgkeys=["_GPG_key_URL"]</pre></div></div></li><li class="listitem"><p class="simpara">
								Optional: You can embed the whole key into the <code class="literal">gpgkeys</code> field. You can add as many keys as you need. For example, add the GPG key directly in the <code class="literal">gpgkeys</code> field:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--g2mmfvw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
check_repogpg
id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository_name</em></span>"
system = false
type = "<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository_URL</em></span>"
gpgkeys=["<span class="emphasis"><em>GPG_key</em></span>"]</pre></div></div></li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Test the signature of the repository manually:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ggzneyh"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ gpg --verify repomd.xml.asc</pre></div></div></li><li class="listitem"><p class="simpara">
						If the test does not find the signature, you will be prompt with an error similar to the following one:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zltz1te"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">$ GPG verification is enabled, but GPG signature is not available.
This may be an error or the repository does not support GPG verification:
Status code: 404 for <a class="link" href="http://repo-server/rhel/repodata/repomd.xml.asc">http://repo-server/rhel/repodata/repomd.xml.asc</a> (IP: 192.168.1.3)</pre></div></div></li><li class="listitem"><p class="simpara">
						If the signature is invalid, you will be prompt with an error similar to the following one:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--lkw06ok"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">repomd.xml GPG signature verification error: Bad GPG signature</pre></div></div></li></ul></div></section><section class="section" id="image-builder-default-system-repositories_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.4. Image builder default system repositories</h2></div></div></div><p class="_abstract _abstract">
				The <code class="literal">osbuild-composer</code> back end does not inherit the system repositories located in the <code class="literal">/etc/yum.repos.d/</code> directory. Instead, it has its own set of official repositories defined in the <code class="literal">/usr/share/osbuild-composer/repositories</code>
 directory. This includes the Red Hat official repository, which 
contains the base system RPMs to install additional software or update 
already installed programs to newer versions. If you want to override 
the official repositories, you must define overrides in <code class="literal">/etc/osbuild-composer/repositories</code>. This directory is for user defined overrides and the files located there take precedence over those in the <code class="literal">/usr</code> directory.
			</p><p>
				The configuration files are not in the usual DNF repository format known from the files in <code class="literal">/etc/yum.repos.d/</code>. Instead, they are simple JSON files.
			</p></section><section class="section" id="overriding-a-system-repository_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.5. Overriding a system repository</h2></div></div></div><p class="_abstract _abstract">
				You can configure a repository override for image builder in the <code class="literal">/etc/osbuild-composer/repositories</code> directory with the following steps.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a custom repository that is accessible from the host system
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a directory where you want to store your repository overrides:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4iquwt5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo mkdir -p /etc/osbuild-composer/repositories</pre></div></div></li><li class="listitem">
						You can create your own JSON file structure.
					</li><li class="listitem"><p class="simpara">
						Create a JSON file, using a name corresponding to your RHEL 
version. Alternatively, you can copy the file for your distribution from
 <code class="literal">/usr/share/osbuild-composer/</code> and modify its content.
					</p><p class="simpara">
						For RHEL 9, use <code class="literal">/etc/osbuild-composer/repositories/rhel-92.json</code>.
					</p></li><li class="listitem"><p class="simpara">
						Add the following structure to your JSON file, for example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ldhofft"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">{
    "&lt;ARCH&gt;": [
        {
            "name": "baseos",
            "baseurl": "http://mirror.example.com/composes/released/RHEL-9/9.0/BaseOS/x86_64/os/",
            "gpgkey": "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n ()",
            "check_gpg": true,
            "metadata_expire": ""
        }
    ]
}</pre></div></div><p class="simpara">
						Specify only one of the following attributes:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">baseurl</code> - string: a base URL of the repository.
							</li><li class="listitem">
								<code class="literal">metalink</code> - string: a URL of a metalink file that contains a list of valid mirror repositories.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">mirrorlist</code> - string: a URL of a mirrorlist file that contains a list of valid mirror repositories
							</p><p class="simpara">
								The remaining fields are optional.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Alternatively, you can copy the JSON file for your distribution.
									</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
												Copy the repository file to the directory you created. In the following command, replace <code class="literal">rhel-version.json</code> with your RHEL version, for example: rhel-9.json.
											</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--r6ozgfk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$  cp /usr/share/osbuild-composer/repositories/rhel-<span class="emphasis"><em>version</em></span>.json /etc/osbuild-composer/repositories/</pre></div></div></li></ol></div></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Using a text editor, edit the <code class="literal">baseurl</code> paths in the <code class="literal">rhel-9.json</code> file and save it. For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--atn0obu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ vi /etc/osbuild-composer/repositories/rhel-<span class="emphasis"><em>version</em></span>.json</pre></div></div></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal">osbuild-composer.service</code>:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ozu8mdn"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo systemctl restart osbuild-composer.service</pre></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check if the repository points to the correct URLs:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--675cmv7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cat /etc/yum.repos.d/redhat.repo</pre></div></div><p class="simpara">
						You can see that the repository points to the correct URLs which are copied from the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6957312">The latest RPMs version available in repository not visible for <code class="literal">osbuild-composer</code>.</a>
					</li></ul></div></section><section class="section" id="overriding-a-system-repository-with-support-for-subscriptions_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.6. Overriding a system repository with support for subscriptions</h2></div></div></div><p class="_abstract _abstract">
				The <code class="literal">osbuild-composer</code> service can use system subscriptions that are defined in the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file. To use a system subscription in <code class="literal">osbuild-composer</code>, define a repository override that has:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The same <code class="literal">baseurl</code> as the repository defined in <code class="literal">/etc/yum.repos.d/redhat.repo</code>.
					</li><li class="listitem">
						The value of <code class="literal">rhsm: true</code> defined in the JSON object.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Your system has a subscription defined in <code class="literal">/etc/yum.repos.d/redhat.repo</code>
					</li><li class="listitem">
						You have created a repository override. See <a class="link" href="#overriding-a-system-repository_managing-repositories" title="3.5.&nbsp;Overriding a system repository">Overriding a system repository</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Obtain the <code class="literal">baseurl</code> from the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6ddaowa"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed"># cat /etc/yum.repos.d/redhat.repo
[AppStream]
name = AppStream mirror example
baseurl = https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/
enabled = 1
gpgcheck = 0
sslverify = 1
sslcacert = /etc/pki/ca1/ca.crt
sslclientkey = /etc/pki/ca1/client.key
sslclientcert = /etc/pki/ca1/client.crt
metadata_expire = 86400
enabled_metadata = 0</pre></div></div></li><li class="listitem"><p class="simpara">
						Configure the repository override to use the same <code class="literal">baseurl</code> and set <code class="literal">rhsm</code> to true:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1cwmrrj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">{
    "x86_64": [
        {
            "name": "AppStream mirror example",
            "baseurl": "https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/",
            "gpgkey": "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n ()",
            "check_gpg": true,
            "rhsm": true
        }
    ]
}</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							<code class="literal">osbuild-composer</code> does not automatically use repositories defined in <code class="literal">/etc/yum.repos.d/</code>. You need to manually specify them either as a system repository override or as an additional <code class="literal">source</code> using <code class="literal">composer-cli</code>. System repository overrides are usually used for BaseOS and AppStream repositories, whereas <code class="literal">composer-cli</code> sources are used for all the other repositories.
						</p></div></div></li></ol></div><p>
				As a result, image builder reads the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file from the host system and uses it as a source of subscriptions.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/5773421">Image builder uses CDN repositories when host is registered to Satellite 6</a>
					</li></ul></div></section></section><section class="chapter" id="composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Composing a RHEL for Edge image using image builder in RHEL web console</h1></div></div></div><p class="_abstract _abstract">
			Use image builder to create a custom RHEL for Edge image (OSTree commit).
		</p><p>
			To access image builder and to create your custom RHEL for Edge 
image, you can either use the RHEL web console interface or the 
command-line interface.
		</p><p>
			You can compose RHEL for Edge images using image builder in RHEL web console by performing the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Access image builder in RHEL web console
				</li><li class="listitem">
					Create a blueprint for RHEL for Edge image.
				</li><li class="listitem"><p class="simpara">
					Create a RHEL for Edge image. You can create the following images:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							RHEL for Edge Commit image.
						</li><li class="listitem">
							RHEL for Edge Container image.
						</li><li class="listitem">
							RHEL for Edge Installer image.
						</li></ul></div></li><li class="listitem">
					Download the RHEL for Edge image
				</li></ol></div><section class="section" id="accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h2 class="title">4.1. Accessing image builder in the RHEL web console</h2></div></div></div><p class="_abstract _abstract">
				To access image builder in RHEL web console, ensure that you have 
met the following prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed a RHEL system.
					</li><li class="listitem">
						You have administrative rights on the system.
					</li><li class="listitem">
						You have subscribed the RHEL system to Red Hat Subscription Manager (RHSM) or to Red Hat Satellite Server.
					</li><li class="listitem">
						The system is powered on and accessible over network.
					</li><li class="listitem">
						You have installed image builder on the system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On your RHEL system, access https://localhost:9090/ in a web browser.
					</li><li class="listitem">
						For more information about how to remotely access image builder, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/index">Managing systems using the RHEL 9 web console</a> document.
					</li><li class="listitem">
						Log in to the web console using an administrative user account.
					</li><li class="listitem">
						On the web console, in the left hand menu, click <span class="guibutton">Apps</span>.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">image builder</span>.
					</p><p class="simpara">
						The image builder dashboard opens in the right pane. You can now 
proceed to create a blueprint for the RHEL for Edge images.
					</p></li></ol></div></section><section class="section" id="creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h2 class="title">4.2. Creating a blueprint for the RHEL for Edge Commit image using image builder in RHEL web console</h2></div></div></div><p class="_abstract _abstract">
				To create a blueprint for the RHEL for Edge Commit image using image
 builder in RHEL web console, ensure that you have met the following 
prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have opened the image builder dashboard.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On the image builder dashboard, click <span class="guibutton">Create Blueprint</span>.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Create Blueprint</strong></span> dialogue box opens.
					</p></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Details</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the name of the blueprint and, optionally, its description. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: In the <code class="literal">Packages</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Available packages</code> search, enter the package name and click the <span class="guibutton">&gt;</span> button to move it to the Chosen packages field. Search and include as many packages as you want. Click <span class="guibutton">Next</span>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									These customizations are all optional unless otherwise specified.
								</p></div></div></li></ol></div></li><li class="listitem">
						On the <code class="literal">Kernel</code> page, enter a kernel name and the command-line arguments.
					</li><li class="listitem">
						On the <code class="literal">File system</code> page, select <code class="literal">Use automatic partitioning</code>.
 The filesystem customization is not supported for OSTree systems, 
because OSTree images have their own mount rule, such as read-only. 
Click <span class="guibutton">Next</span>.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal">Services</code> page, you can enable or disable services:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the service names you want to enable or disable, separating them by a comma, by space, or by pressing the <span class="guibutton">Enter</span> key. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Firewall</code> page, set up your firewall setting:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the <code class="literal">Ports</code>, and the firewall services you want to enable or disable.
							</li><li class="listitem">
								Click the <span class="guibutton">Add zone</span> button to manage your firewall rules for each zone independently. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Users</code> page, add a users by following the steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click <span class="guibutton">Add user</span>.
							</li><li class="listitem">
								Enter a <code class="literal">Username</code>, a <code class="literal">password</code>, and a <code class="literal">SSH key</code>. You can also mark the user as a privileged user, by clicking the <code class="literal">Server administrator</code> checkbox. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Groups</code> page, add groups by completing the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add groups</span> button:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter a <code class="literal">Group name</code> and a <code class="literal">Group ID</code>. You can add more groups. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">SSH keys</code> page, add a key:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add key</span> button.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter the SSH key.
									</li><li class="listitem">
										Enter a <code class="literal">User</code>. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Timezone</code> page, set your timezone settings:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Timezone</code> field, enter the timezone you want to add to your system image. For example, add the following timezone format: "US/Eastern".
							</p><p class="simpara">
								If you do not set a timezone, the system uses Universal Time, Coordinated (UTC) as default.
							</p></li><li class="listitem">
								Enter the <code class="literal">NTP</code> servers. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Locale</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Keyboard</code> search field, enter the package name you want to add to your system image. For example: ["en_US.UTF-8"].
							</li><li class="listitem">
								On the <code class="literal">Languages</code> search field, enter the package name you want to add to your system image. For example: "us". Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Others</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Hostname</code> field, enter the 
hostname you want to add to your system image. If you do not add a 
hostname, the operating system determines the hostname.
							</li><li class="listitem">
								Mandatory only for the Simplifier Installer image: On the <code class="literal">Installation Devices</code> field, enter a valid node for your system image. For example: <code class="literal">dev/sda</code>. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory only when building FIDO images: On the <code class="literal">FIDO device onboarding</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Manufacturing server URL</code> field, enter the following information:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										On the <code class="literal">DIUN public key insecure</code> field, enter the insecure public key.
									</li><li class="listitem">
										On the <code class="literal">DIUN public key hash</code> field, enter the public key hash.
									</li><li class="listitem">
										On the <code class="literal">DIUN public key root certs</code> field, enter the public key root certs. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">OpenSCAP</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Datastream</code> field, enter the <code class="literal">datastream</code> remediation instructions you want to add to your system image.
							</li><li class="listitem">
								On the <code class="literal">Profile ID</code> field, enter the <code class="literal">profile_id</code> security profile you want to add to your system image. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory only when building Ignition images: On the <code class="literal">Ignition</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Firstboot URL</code> field, enter the package name you want to add to your system image.
							</li><li class="listitem">
								On the <code class="literal">Embedded Data</code> field, drag or upload your file. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem">
						. On the <code class="literal">Review</code> page, review the details about the blueprint. Click <span class="guibutton">Create</span>.
					</li></ol></div><p>
				The image builder view opens, listing existing blueprints.
			</p></section><section class="section" id="creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h2 class="title">4.3. Creating a RHEL for Edge Commit image using image builder in RHEL web console</h2></div></div></div><p class="_abstract _abstract">
				The <span class="strong strong"><strong>RHEL for Edge Commit (.tar)</strong></span>
 image type contains a full operating system, but it is not directly 
bootable. To boot the Commit image type, you must deploy it in a running
 container.
			</p><p>
				To create a RHEL for Edge Commit image using image builder in RHEL web console, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have accessed the image builder dashboard.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the image builder dashboard click <span class="guibutton">Create Image</span>.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Image output</strong></span> page, perform the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown menu, select the blueprint you want to use.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <span class="strong strong"><strong>RHEL for Edge Commit (.tar)</strong></span> for network-based deployment.
							</li><li class="listitem">
								Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										<span class="strong strong"><strong>Repository URL</strong></span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/.
									</li><li class="listitem">
										<span class="strong strong"><strong>Parent commit</strong></span>: specify a previous commit, or leave it empty if you do not have a commit at this time.
									</li><li class="listitem">
										In the <span class="strong strong"><strong>Ref</strong></span> textbox, specify a reference path for where your commit is going to be created. By default, the web console specifies <code class="literal">rhel/9/$ARCH/edge</code>. The "$ARCH" value is determined by the host machine. Click <span class="guibutton">Next</span>.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>Review</strong></span> page, check the customizations and click <span class="guibutton">Create</span>.
							</p><p class="simpara">
								Image builder starts to create a RHEL for Edge Commit image for the blueprint that you created.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The image creation process takes up to 20 minutes to complete.
								</p></div></div></li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To check the RHEL for Edge Commit image creation progress:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click the <span class="guibutton">Images</span> tab.
							</li></ol></div></li></ol></div><p>
				After the image creation process is complete, you can download the resulting <span class="strong strong"><strong>RHEL for Edge Commit (.tar)</strong></span> image.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h2 class="title">4.4. Creating a RHEL for Edge Container image using image builder in RHEL web console</h2></div></div></div><p class="_abstract _abstract">
				You can create RHEL for Edge images by selecting <span class="strong strong"><strong>RHEL for Edge Container (.tar)</strong></span>. The <span class="strong strong"><strong>RHEL for Edge Container (.tar)</strong></span>
 image type creates an OSTree commit and embeds it into an OCI container
 with a web server. When the container is started, the web server serves
 the commit as an OSTree repository.
			</p><p>
				Follow the steps in this procedure to create a RHEL for Edge Container image using image builder in RHEL web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have accessed the image builder dashboard.
					</li><li class="listitem">
						You have created a blueprint.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the image builder dashboard click <span class="guibutton">Create Image</span>.
					</li><li class="listitem">
						On the <span class="strong strong"><strong>Image output</strong></span> page, perform the following steps:
					</li><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown menu, select the blueprint you want to use.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <span class="strong strong"><strong>RHEL for Edge Container (.tar)</strong></span> for network-based deployment.
							</li><li class="listitem">
								Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>OSTree</strong></span> page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
										<span class="strong strong"><strong>Repository URL</strong></span>:
 specify the URL to the OSTree repository of the commit to embed in the 
image. For example, http://10.0.2.2:8080/repo/. By default, the 
repository folder for a RHEL for Edge Container image is "/repo".
									</p><p class="simpara">
										To find the correct URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. To find which URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. Inside the <code class="literal">nginx.conf</code> file, find the <code class="literal">root</code> directory entry to search for the <code class="literal">/repo/</code> folder information. Note that, if you do not specify a repository URL when creating a RHEL for Edge Container image <code class="literal">(.tar)</code> using image builder, the default <code class="literal">/repo/</code> entry is created in the <code class="literal">nginx.conf</code> file.
									</p></li><li class="listitem">
										<span class="strong strong"><strong>Parent commit</strong></span>: specify a previous commit, or leave it empty if you do not have a commit at this time.
									</li><li class="listitem">
										In the <span class="strong strong"><strong>Ref</strong></span> textbox, specify a reference path for where your commit is going to be created. By default, the web console specifies <code class="literal">rhel/9/$ARCH/edge</code>. The "$ARCH" value is determined by the host machine. Click <span class="guibutton">Next</span>.
									</li></ol></div></li><li class="listitem">
								On the <span class="strong strong"><strong>Review</strong></span> page, check the customizations. Click <span class="guibutton">Save blueprint</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create</span>.
					</p><p class="simpara">
						Image builder starts to create a RHEL for Edge Container image for the blueprint that you created.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The image creation process takes up to 20 minutes to complete.
						</p></div></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To check the RHEL for Edge Container image creation progress:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click the <span class="guibutton">Images</span> tab.
							</li></ol></div></li></ol></div><p>
				After the image creation process is complete, you can download the resulting <span class="strong strong"><strong>RHEL for Edge Container (.tar)</strong></span> image.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h2 class="title">4.5. Creating a RHEL for Edge Installer image using image builder in RHEL web console</h2></div></div></div><p class="_abstract _abstract">
				You can create RHEL for Edge Installer images for non-network-based deployment by selecting <code class="literal">RHEL for Edge Installer (.iso)</code>. The <code class="literal">RHEL for Edge Installer (.iso)</code> image type pulls the OSTree commit repository from the running container served by the <code class="literal">RHEL for Edge Container (.tar)</code> and creates an installable boot ISO image with a Kickstart file that is configured to use the embedded OSTree commit.
			</p><p>
				Follow the steps in this procedure to create a RHEL for Edge image using image builder in RHEL web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have accessed the image builder dashboard.
					</li><li class="listitem">
						You created a blueprint.
					</li><li class="listitem">
						You created a RHEL for Edge Container image and loaded it into a running container. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the image builder dashboard click <span class="guibutton">Create Image</span>.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Image output</strong></span> page, perform the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown menu, select the blueprint you want to use.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <span class="strong strong"><strong>RHEL for Edge Installer (<code class="literal">.iso</code>)</strong></span> image.
							</li><li class="listitem">
								Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										<span class="strong strong"><strong>Repository URL</strong></span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/.
									</li><li class="listitem">
										In the <span class="strong strong"><strong>Ref</strong></span> textbox, specify a reference path for where your commit is going to be created. By default, the web console specifies <code class="literal">rhel/9/$ARCH/edge</code>. The "$ARCH" value is determined by the host machine. Click <span class="guibutton">Next</span>.
									</li></ol></div></li><li class="listitem">
								On the <span class="strong strong"><strong>Review</strong></span> page, check the customizations. Click <span class="guibutton">Save blueprint</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create</span>.
					</p><p class="simpara">
						Image builder starts to create a RHEL for Edge Installer image for the blueprint that you created.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The image creation process takes up to 20 minutes to complete.
						</p></div></div></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After the image creation process is complete, you can download the resulting <code class="literal">RHEL for Edge Installer (.iso)</code> image.
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To check the RHEL for Edge Installer image creation progress:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click the <span class="guibutton">Images</span> tab.
							</li></ol></div></li></ol></div><p>
				After the image creation process is complete, you can download the resulting <code class="literal">RHEL for Edge Installer (.iso)</code> image and boot the ISO image into a device.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>.
					</li></ul></div></section><section class="section" id="downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h2 class="title">4.6. Downloading a RHEL for Edge image</h2></div></div></div><p class="_abstract _abstract">
				After you successfully create the RHEL for Edge image by using image builder, download the image on the local host.
			</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To download an image:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>More Options</strong></span> menu, click <span class="guibutton">Download</span>.
					</p><p class="simpara">
						The image builder tool downloads the file at your default download location.
					</p></li></ol></div><p>
				The downloaded file consists of a <code class="literal">.tar</code> file with an OSTree repository for RHEL for Edge Commit and RHEL for Edge Container images, or a <code class="literal">.iso</code> file for RHEL for Edge Installer images, with an OSTree repository. This repository contains the commit and a <code class="literal">json</code> file which contains information metadata about the repository content.
			</p></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h2 class="title">4.7. ADDITIONAL RESOURCES</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder command-line</a>.
					</li></ul></div></section></section><section class="chapter" id="composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Composing a RHEL for Edge image using image builder command-line</h1></div></div></div><p class="_abstract _abstract">
			You can use image builder to create a customized RHEL for Edge image (OSTree commit).
		</p><p>
			To access image builder and to create your custom RHEL for Edge 
image, you can either use the RHEL web console interface or the 
command-line interface.
		</p><p>
			For Network-based deployments, the workflow to compose RHEL for Edge 
images using the CLI, involves the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Create a blueprint for RHEL for Edge image
				</li><li class="listitem">
					Create a RHEL for Edge Commit image
				</li><li class="listitem">
					Download the RHEL for Edge Commit image
				</li></ol></div><p>
			For Non-Network-based deployments, the workflow to compose RHEL for 
Edge images using the CLI, involves the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Create a blueprint for RHEL for Edge image
				</li><li class="listitem">
					Create a blueprint for the RHEL for Edge Installer image
				</li><li class="listitem">
					Create a RHEL for Edge Container image
				</li><li class="listitem">
					Create a RHEL for Edge Installer image
				</li><li class="listitem">
					Download the RHEL for Edge image
				</li></ol></div><p>
			To perform the steps, use the <code class="literal">composer-cli</code> package.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				To run the <code class="literal">composer-cli</code> commands as non-root, you must be part of the <code class="literal">weldr</code> group or you must have administrator access to the system.
			</p></div></div><section class="section" id="network_based_deployments_workflow"><div class="titlepage"><div><div><h2 class="title">5.1. Network-based deployments workflow</h2></div></div></div><p>
				This provides steps on how to build <code class="literal">OSTree</code> commits. These <code class="literal">OSTree</code>
 commits contain a full operating system, but are not directly bootable.
 To boot them, you need to deploy them using a Kickstart file.
			</p><section class="section" id="creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.1.1. Creating a RHEL for Edge Commit image blueprint using image builder command-line interface</h3></div></div></div><p class="_abstract _abstract">
					Create a blueprint for RHEL for Edge Commit image using the CLI.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisite</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You do not have an existing blueprint. To verify that, list the existing blueprints:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--f9sdssu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo composer-cli blueprints list</pre></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a plain text file in the TOML format, with the following content:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kstdxui"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "blueprint-name"
description = "blueprint-text-description"
version = "0.0.1"
modules = [ ]
groups = [ ]</pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the name and blueprint-text-description is the description for your blueprint.
								</li><li class="listitem">
									<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Modules</em></span> describe the 
package name and matching version glob to be installed into the image, 
for example, the package name = "tmux" and the matching version glob is 
version = "2.9a".
								</p><p class="simpara">
									Notice that currently there are no differences between packages and modules.
								</p></li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Groups</em></span> are packages groups to be installed into the image, for example the group package anaconda-tools.
								</p><p class="simpara">
									At this time, if you do not know the modules and groups, leave them empty.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Include the required packages and customize the other details in the blueprint to suit your requirements.
						</p><p class="simpara">
							For every package that you want to include in the blueprint, add the following lines to the file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--76k122u"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[packages]]
name = "package-name"
version = "package-version"</pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									package-name is the name of the package, such as httpd, gdb-doc, or coreutils.
								</li><li class="listitem"><p class="simpara">
									package-version is the version number of the package that you want to use.
								</p><p class="simpara">
									The package-version supports the following dnf version specifications:
								</p></li><li class="listitem">
									For a specific version, use the exact version number such as 9.0.
								</li><li class="listitem">
									For the latest available version, use the asterisk *.
								</li><li class="listitem">
									For the latest minor version, use formats such as 9.*.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Push (import) the blueprint to the image builder server:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bxod4pz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kiocm9s"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show BLUEPRINT-NAME</pre></div></div></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7wkjrkm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image#image-customizations_creating-system-images-with-composer-command-line-interface">Supported Image Customizations</a>.
						</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.1.2. Creating a RHEL for Edge Commit image using image builder command-line interface</h3></div></div></div><p class="_abstract _abstract">
					To create a RHEL for Edge Commit image using image builder 
command-line interface, ensure that you have met the following 
prerequisites and follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a blueprint for RHEL for Edge Commit image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge Commit image.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--hy4582k"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge blueprint name.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-commit</code> for <span class="strong strong"><strong>network-based deployment</strong></span>.
								</p><p class="simpara">
									A confirmation that the composer process has been added to the 
queue appears. It also shows a Universally Unique Identifier (UUID) 
number for the image created. Use the UUID number to track your build. 
Also keep the UUID number handy for further tasks.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--awbttk9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
							The output displays the status in the following format:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--fqbv783"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The image creation process takes up to 20 minutes to complete.
							</p></div></div><p class="simpara">
							To interrupt the image creation process, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6tqauz5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
							To delete an existing image, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1t7c4rb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
							After the image is ready, you can download it and use the image on your <span class="strong strong"><strong>network deployments</strong></span>.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder command-line</a>
						</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.1.3. Creating a RHEL for Edge image update with a ref commit using image builder command-line interface</h3></div></div></div><p class="_abstract _abstract">
					If you performed a change in an existing blueprint, for example, 
you added a new package, and you want to update an existing RHEL for 
Edge image with this new package, you can use the <code class="literal">--parent</code> argument to generate an updated <code class="literal">RHEL for Edge Commit (.tar)</code> image. The <code class="literal">--parent</code> argument must be a <code class="literal">ref</code> that exists in the repository specified by the <code class="literal">URL</code> argument. The <code class="literal">--ref</code> argument enables you to specify an existing <code class="literal">ref</code> that retrieves a parent for the new commit that you are building. You must specify the parent commit as a <code class="literal">ref</code> value to be resolved and pulled, not as a commit ID, for example <code class="literal">rhel/9/x86_64/edge</code>. When you specify the parent commit as a <code class="literal">ref</code>
 value, image builder can read information from the parent commit that 
will affect parts of the new commit that you are building. As a result, 
image builder reads the parent commits user database and preserves UIDs
 and GIDs for the package-created system users and groups.
				</p><p>
					To create a RHEL for Edge image with a parent argument using image 
builder CLI, ensure that you have met the following prerequisites and 
follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have updated an existing blueprint for RHEL for Edge image.
						</li><li class="listitem">
							You have an existing RHEL for Edge image (OSTree commit). See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images">Extracting RHEL for Edge image commit</a>.
						</li><li class="listitem">
							The <code class="literal">ref</code> being built is available at the <code class="literal">OSTree</code> repository specified by the URL.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge commit image:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0obrjjt"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --parent <span class="emphasis"><em>parent-OSTree-REF</em></span> --url <span class="emphasis"><em>URL</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><p class="simpara">
							For example:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									To create a new RHEL for Edge commit based on a <code class="literal">parent</code> and with a new <code class="literal">ref</code>, run the following command::
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--05clcmp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --parent <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span> <span class="emphasis"><em>rhel_update</em></span> <span class="emphasis"><em>edge-commit</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
									To create a new RHEL for Edge commit based on the same <code class="literal">ref</code>, run the following command:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vzfvw1u"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref rhel/9/x86_64/edge --url <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span> <span class="emphasis"><em>rhel_update</em></span> <span class="emphasis"><em>edge-commit</em></span></pre></div></div><p class="simpara">
									Where:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											The <span class="emphasis"><em>--ref</em></span> argument specifies the same path value that you used to build an OSTree repository.
										</li><li class="listitem">
											The <span class="emphasis"><em>--parent</em></span> argument specifies the parent commit as a ref to be resolved and pulled, not as a commit ID, for example <code class="literal">rhel/9/x86_64/edge</code>.
										</li><li class="listitem">
											<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge blueprint name.
										</li><li class="listitem">
											The <code class="literal">--url</code> argument specifies the
 URL to the OSTree repository of the commit to embed in the image, for 
example, http://10.0.2.2:8080/repo.
										</li><li class="listitem"><p class="simpara">
											<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-commit</code> for <span class="strong strong"><strong>network-based deployment</strong></span>.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
														The <code class="literal">--parent</code> argument can only be used for the <code class="literal">RHEL for Edge Commit (.tar)</code> image type. Using the <code class="literal">--url</code> and <code class="literal">--parent</code> arguments together results in errors with the <code class="literal">RHEL for Edge Container (.tar)</code> image type.
													</li><li class="listitem">
														If you omit the <code class="literal">parent ref</code> argument, the system falls back to the <code class="literal">ref</code> specified by the <code class="literal">--ref</code> argument.
													</li></ul></div></div></div><p class="simpara">
											A confirmation that the composer process has been added to 
the queue appears. It also shows a Universally Unique Identifier (UUID) 
number for the image created. Use the UUID number to track your build. 
Also keep the UUID number handy for further tasks.
										</p></li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4slx6nv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
							The output displays the status in the following format:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--adnrsvd"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The image creation process takes a few minutes to complete.
							</p></div></div><p class="simpara">
							(Optional) To interrupt the image creation process, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--tw3thng"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
							(Optional) To delete an existing image, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--00i2y36"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div></li></ol></div><p>
					After the image creation is complete, to upgrade an existing OSTree deployment, you need:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Set up a repository. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images">Deploying a RHEL for Edge image</a> .
						</li><li class="listitem">
							Add this repository as a remote, that is, the http or https endpoint that hosts the OSTree content.
						</li><li class="listitem">
							Pull the new OSTree commit onto their existing running instance. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images">Deploying RHEL for Edge image updates manually</a> .
						</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Creating a system image with image builder in the command-line interface</a>.
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line">Downloading a RHEL for Edge image using the image builder command-line interface</a>.
						</li></ul></div></section><section class="section" id="downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface</h3></div></div></div><p class="_abstract _abstract">
					To download a RHEL for Edge image using image builder command line 
interface, ensure that you have met the following prerequisites and then
 follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a RHEL for Edge image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Review the RHEL for Edge image status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yyk0tc6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
							The output must display the following:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kxvny2t"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Download the image.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7wsvjmf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image &lt;UUID&gt;</pre></div></div><p class="simpara">
							Image builder downloads the image as a <code class="literal">tar</code> file to the current directory.
						</p><p class="simpara">
							The UUID number and the image size is displayed alongside.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9n83n7p"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span>-commit.tar: <span class="emphasis"><em>size</em></span> MB</pre></div></div></li></ol></div><p>
					The image contains a commit and a <code class="literal">json</code> file with information metadata about the repository content.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images">Deploying a RHEL for Edge image in a network-base environment</a>.
						</li></ul></div></section></section><section class="section" id="non_network_based_deployments_workflow"><div class="titlepage"><div><div><h2 class="title">5.2. Non-network-based deployments workflow</h2></div></div></div><p>
				To build a boot ISO image that installs an OSTree-based system using
 the "RHEL for Edge Container" and the "RHEL for Edge Installer" images 
and that can be later deployed to a device in disconnected environments,
 follow the steps.
			</p><section class="section" id="proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.2.1. Creating a RHEL for Edge Container blueprint by using image builder CLI</h3></div></div></div><p class="_abstract _abstract">
					To create a blueprint for RHEL for Edge Container image, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a plain text file in the TOML format, with the following content:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--u5irrvy"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "blueprint-name"
description = "blueprint-text-description"
version = "0.0.1"
modules = [ ]
groups = [ ]</pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the name and blueprint-text-description is the description for your blueprint.
								</li><li class="listitem">
									<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Modules</em></span> describe the 
package name and matching version glob to be installed into the image, 
for example, the package name = "tmux" and the matching version glob is 
version = "2.9a".
								</p><p class="simpara">
									Notice that currently there are no differences between packages and modules.
								</p></li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Groups</em></span> are packages groups to be installed into the image, for example the group package anaconda-tools.
								</p><p class="simpara">
									At this time, if you do not know the modules and groups, leave them empty.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Include the required packages and customize the other details in the blueprint to suit your requirements.
						</p><p class="simpara">
							For every package that you want to include in the blueprint, add the following lines to the file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2xgm6l1"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[packages]]
name = "package-name"
version = "package-version"</pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									package-name is the name of the package, such as httpd, gdb-doc, or coreutils.
								</li><li class="listitem"><p class="simpara">
									package-version is the version number of the package that you want to use.
								</p><p class="simpara">
									The package-version supports the following dnf version specifications:
								</p></li><li class="listitem">
									For a specific version, use the exact version number such as 9.0.
								</li><li class="listitem">
									For the latest available version, use the asterisk *.
								</li><li class="listitem">
									For the latest minor version, use formats such as 9.*.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Push (import) the blueprint to the image builder server:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--s822hvf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--j0zgber"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show BLUEPRINT-NAME</pre></div></div></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--y4zpezp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image#image-customizations_creating-system-images-with-composer-command-line-interface">Supported Image Customizations</a>.
						</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.2.2. Creating a RHEL for Edge Installer blueprint using image builder CLI</h3></div></div></div><p class="_abstract _abstract">
					You can create a blueprint to build a <code class="literal">RHEL for Edge Installer (.iso)</code> image, and specify user accounts to automatically create one or more users on the system at installation time. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#creating-an-administrative-user-account-for-a-rhel-for-edge-image-blueprint_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Creating an administrative user account for a RHEL for Edge image blueprint</a>. It creates a user on the system at installation time.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						When you create a user in the blueprint with the <code class="literal">customizations.user</code> customization, the blueprint creates the user under the <code class="literal">/usr/lib/passwd</code> directory and the password, under the <code class="literal">/usr/etc/shadow</code> directory. Note that you cannot change the password in further versions of the image in a running system using <code class="literal">OSTree</code>
 updates. The users you create with blueprints must be used only to gain
 access to the created system. After you access the system, you need to 
create users, for example, using the <code class="literal">useradd</code> command.
					</p></div></div><p>
					To create a blueprint for RHEL for Edge Installer image, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a plain text file in the TOML format, with the following content:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2b86pxy"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "blueprint-installer"
description = "blueprint-for-installer-image"
version = "0.0.1"

[[customizations.user]]
name = "<span class="emphasis"><em>user</em></span>"
description = "<span class="emphasis"><em>account</em></span>"
password = "<span class="emphasis"><em>user-password</em></span>"
key = "<span class="emphasis"><em>user-ssh-key</em></span> "
home = "<span class="emphasis"><em>path</em></span>"
groups = ["<span class="emphasis"><em>user-groups</em></span>"]</pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the name and blueprint-text-description is the description for your blueprint.
								</li><li class="listitem">
									<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Push (import) the blueprint to the image builder server:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--umu92jl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9kg0c45"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--tmus2dx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line">Supported Image Customizations</a>.
						</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.2.3. Creating a RHEL for Edge Container image by using image builder CLI</h3></div></div></div><p class="_abstract _abstract">
					To create a RHEL for Edge Container image using image builder 
command-line interface, ensure that you have met the following 
prerequisites and follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a blueprint for RHEL for Edge Container image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge Container image.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3yf4gdb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">--ref</code> is the same value that customer used to build ostree repository
								</li><li class="listitem"><p class="simpara">
									<code class="literal">--url</code> is the URL to the OSTree 
repository of the commit to embed in the image. For example, 
http://10.0.2.2:8080/repo/. By default, the repository folder for a RHEL
 for Edge Container image is "/repo". See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
								</p><p class="simpara">
									To find the correct URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. To find which URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. Inside the <code class="literal">nginx.conf</code> file, find the <code class="literal">root</code> directory entry to search for the <code class="literal">/repo/</code> folder information. Note that, if you do not specify a repository URL when creating a RHEL for Edge Container image <code class="literal">(.tar)</code> using image builder, the default <code class="literal">/repo/</code> entry is created in the <code class="literal">nginx.conf</code> file.
								</p></li><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge blueprint name.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-container</code> for <span class="strong strong"><strong>non-network-based deployment</strong></span>.
								</p><p class="simpara">
									A confirmation that the composer process has been added to the 
queue appears. It also shows a Universally Unique Identifier (UUID) 
number for the image created. Use the UUID number to track your build. 
Also keep the UUID number handy for further tasks.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0140cpt"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
							The output displays the status in the following format:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5jsytds"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The image creation process takes up to 20 minutes to complete.
							</p></div></div><p class="simpara">
							To interrupt the image creation process, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--diixur5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
							To delete an existing image, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ak1nq08"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
							After the image is ready, it can be used for <span class="strong strong"><strong>non-network deployments</strong></span>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder command-line</a>
						</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.2.4. Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments</h3></div></div></div><p class="_abstract _abstract">
					To create a RHEL for Edge Installer image that embeds the <code class="literal">OSTree</code>
 commit, using image builder command-line interface, ensure that you 
have met the following prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a blueprint for RHEL for Edge Installer image.
						</li><li class="listitem">
							You have created a RHEL for Edge Edge Container image and deployed it using a web server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Begin to create the RHEL for Edge Installer image.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ric9ekz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>ref</em></span> is the same value that customer used to build ostree repository
								</li><li class="listitem">
									<span class="emphasis"><em>URL-OSTree-repository</em></span> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
								</li><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge Installer blueprint name.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-installer</code>.
								</p><p class="simpara">
									A confirmation that the composer process has been added to the 
queue appears. It also shows a Universally Unique Identifier (UUID) 
number for the image created. Use the UUID number to track your build. 
Also keep the UUID number handy for further tasks.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pkvorcp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
							The command output displays the status in the following format:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--momzlfx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The image creation process takes a few minutes to complete.
							</p></div></div><p class="simpara">
							To interrupt the image creation process, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4ny6dbn"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
							To delete an existing image, run:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--t875rg4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
							After the image is ready, you can use it for <span class="strong strong"><strong>non-network deployments</strong></span>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Installing the RHEL for Edge image for non-network-based deployments</a>.
						</p></li></ol></div></section><section class="section" id="proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.2.5. Downloading a RHEL for Edge Installer image using the image builder CLI</h3></div></div></div><p class="_abstract _abstract">
					To download a RHEL for Edge Installer image using image builder 
command line interface, ensure that you have met the following 
prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a RHEL for Edge Installer image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Review the RHEL for Edge image status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--b62gtc8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
							The output must display the following:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--rvn5b0z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Download the image.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7v194zm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image &lt;UUID&gt;</pre></div></div><p class="simpara">
							Image builder downloads the image as an <code class="literal">.iso</code> file to the current directory.
						</p><p class="simpara">
							The UUID number and the image size is displayed alongside.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--55bc5li"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span>-boot.iso: <span class="emphasis"><em>size</em></span> MB</pre></div></div></li></ol></div><p>
					The resulting image is a bootable ISO image.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images">Deploying a RHEL for Edge image in a non-network-based environment</a>.
						</li></ul></div></section></section><section class="section" id="image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h2 class="title">5.3. Supported image customizations</h2></div></div></div><p class="_abstract _abstract">
				You can customize your image by adding to your blueprint an 
additional RPM package, by enabling a service, or by customizing a 
kernel command line parameter. You can use several image customizations 
within blueprints. To make use of these options, you must configure the 
customizations in the blueprint and import (push) it to image builder.
			</p><div class="informalexample"><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These customizations are not supported when using image builder in the web console.
				</p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Select a distribution</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--nznsifd"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "<span class="emphasis"><em>blueprint_name</em></span>"
description = "<span class="emphasis"><em>blueprint_version</em></span>"
version = "0.1"
distro = "<span class="emphasis"><em>different_minor_version</em></span>"</pre></div></div><p class="simpara">
							Replace "<span class="emphasis"><em>different_minor_version</em></span>" to build a different minor version, for example, if you want to build a RHEL 9.0, use <code class="literal">distro</code>
 = "rhel-90". On a RHEL 9.1, you can build minor versions such as RHEL 
9.1, RHEL 8.7 and earlier releases. If you do not specify a 
distribution, the blueprint uses the host distribution. In case you 
upgrade the host operating system, the blueprints with no distribution 
set will build images using the new OS version.
						</p></dd><dt><span class="term">Select a package group</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--waodyv6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[packages]]
name = "<span class="emphasis"><em>package_group_name</em></span>"</pre></div></div><p class="simpara">
							Replace "<span class="emphasis"><em>package_group_name</em></span>" with the name of the group. For example, "@server with gui".
						</p></dd><dt><span class="term">Set the image hostname</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dwdnikk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations]
hostname = "<span class="emphasis"><em>baseimage</em></span>"</pre></div></div></dd><dt><span class="term">User specifications for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4dh8m5g"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.user]]
name = "<span class="emphasis"><em>USER-NAME</em></span>"
description = "<span class="emphasis"><em>USER-DESCRIPTION</em></span>"
password = "<span class="emphasis"><em>PASSWORD-HASH</em></span>"
key = "<span class="emphasis"><em>PUBLIC-SSH-KEY</em></span>"
home = "/home/<span class="emphasis"><em>USER-NAME</em></span>/"
shell = "<span class="emphasis"><em>/usr/bin/bash</em></span>"
groups = [<span class="emphasis"><em>"users", "wheel"</em></span>]
uid = <span class="emphasis"><em>NUMBER</em></span>
gid = <span class="emphasis"><em>NUMBER</em></span></pre></div></div><p class="simpara">
							The GID is optional and must already exist in the image. 
Optionally, a package creates it, or the blueprint creates the GID by 
using the <code class="literal">[[customizations.group]]</code> entry.
						</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								To generate the <code class="literal">password hash</code>, you must install <span class="strong strong"><strong>python3</strong></span> on your system.
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9ew1ag5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install python3</pre></div></div></div></div><p class="simpara">
							Replace <span class="emphasis"><em>PASSWORD-HASH</em></span> with the actual <code class="literal">password hash</code>. To generate the <code class="literal">password hash</code>, use a command such as:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dbub1sx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ python3 -c 'import crypt,getpass;pw=getpass.getpass();print(crypt.crypt(pw) if (pw==getpass.getpass("Confirm: ")) else exit())'</pre></div></div><p class="simpara">
							Replace <span class="emphasis"><em>PUBLIC-SSH-KEY</em></span> with the actual public key.
						</p><p class="simpara">
							Replace the other placeholders with suitable values.
						</p><p class="simpara">
							You must enter the <code class="literal">name</code>. You can omit any of the lines that you do not need.
						</p><p class="simpara">
							Repeat this block for every user to include.
						</p></dd><dt><span class="term">Group specifications for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ndmdh8j"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.group]]
name = "<span class="emphasis"><em>GROUP-NAME</em></span>"
gid = <span class="emphasis"><em>NUMBER</em></span></pre></div></div><p class="simpara">
							Repeat this block for every group to include.
						</p></dd><dt><span class="term">Set an existing users SSH key</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--mn9gzjx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.sshkey]]
user = "<span class="emphasis"><em>root</em></span>"
key = "<span class="emphasis"><em>PUBLIC-SSH-KEY</em></span>"</pre></div></div><div class="informalexample"><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The "Set an existing user SSH key" customization is only 
applicable for existing users. To create a user and set an SSH key, see 
the <span class="strong strong"><strong>User specifications for the resulting system image</strong></span> customization.
							</p></div></div></div></dd><dt><span class="term">Append a kernel boot parameter option to the defaults</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--w9j8dzh"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.kernel]
append = "<span class="emphasis"><em>KERNEL-OPTION</em></span>"</pre></div></div></dd><dt><span class="term">By
 default, image builder builds a default kernel into the image. But, you
 can customize the kernel with the following configuration in blueprint</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qsymvn5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.kernel]
name = "<span class="emphasis"><em>KERNEL-rt</em></span>"</pre></div></div></dd><dt><span class="term">Define a kernel name to use in an image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--le9cfbx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.kernel.name]
name = "<span class="emphasis"><em>KERNEL-NAME</em></span>"</pre></div></div></dd><dt><span class="term">Set the timezone and the <span class="emphasis"><em>Network Time Protocol</em></span> <span class="strong strong"><strong>(NTP)</strong></span> servers for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--cop36li"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.timezone]
timezone = "<span class="emphasis"><em>TIMEZONE</em></span>"
ntpservers = "<span class="emphasis"><em>NTP_SERVER</em></span>"</pre></div></div><p class="simpara">
							If you do not set a timezone, the system uses <span class="emphasis"><em>Universal Time, Coordinated</em></span> <span class="strong strong"><strong>(UTC)</strong></span> as default. Setting NTP servers is optional.
						</p></dd><dt><span class="term">Set the locale settings for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--j7ov2we"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.locale]
languages = <span class="emphasis"><em>["LANGUAGE"]</em></span>
keyboard = "<span class="emphasis"><em>KEYBOARD</em></span>"</pre></div></div><p class="simpara">
							Setting both the language and the keyboard options is mandatory. 
You can add many other languages. The first language you add will be the
 primary language and the other languages will be secondary. For 
example:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--91gixap"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.locale]
languages = ["en_US.UTF-8"]
keyboard = "us"</pre></div></div><p class="simpara">
							To list the values supported by the languages, run the following command:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ocm9r1n"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ localectl list-locales</pre></div></div><p class="simpara">
							To list the values supported by the keyboard, run the following command:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5u18org"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ localectl list-keymaps</pre></div></div></dd><dt><span class="term">Firewall customization</span></dt><dd><p class="simpara">
							Set the firewall for the resulting system image. By default, the 
firewall blocks all access, except for services that enable their ports 
explicitly, such as <code class="literal">sshd</code>. The following blueprint can be used to open other ports or services.
						</p><p class="simpara">
							If you do not want to use the <code class="literal">[customizations.firewall]</code> or the <code class="literal">[customizations.firewall.services]</code>,
 either remove the attributes, or set them to an empty list []. If you 
only want to use the default firewall setup, you can omit the 
customization from the blueprint.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The Google and OpenStack templates explicitly disable the 
firewall for their environment. This cannot be overridden by the 
blueprint.
							</p></div></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--236x12w"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall]
ports = <span class="emphasis"><em>["PORTS"]</em></span></pre></div></div><p class="simpara">
							Where <code class="literal">ports</code> is an optional list of 
strings that contain ports or a range of ports and protocols to open. 
You can configure ports by using the following format: <code class="literal">port:protocol</code> format
						</p><p class="simpara">
							You can configure the port ranges by using the <code class="literal">portA-portB:protocol</code> format. For example:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5ml9ikb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall]
ports = ["22:tcp", "80:tcp", "imap:tcp", "53:tcp", "53:udp", "30000-32767:tcp", "30000-32767:udp"]</pre></div></div></dd></dl></div><p>
				You can use numeric ports, or their names from the <code class="literal">/etc/services</code> to enable or disable port lists.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Customize the firewall services</span></dt><dd><p class="simpara">
							<code class="literal">services</code> is an optional object with the following attributes containing services to enable or disable for <code class="literal">firewalld</code>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">enabled</code> - An optional list of strings for services to enable.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">disabled</code> - An optional list of strings for services to disable.
								</p><p class="simpara">
									Check the available firewall services.
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kszmd6t"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ firewall-cmd --get-services</pre></div></div><p class="simpara">
									In the blueprint, under section <code class="literal">customizations.firewall.service</code>, specify the firewall services that you want to customize.
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6uphvod"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall.services]
enabled = <span class="emphasis"><em>["SERVICES"]</em></span>
disabled = <span class="emphasis"><em>["SERVICES"]</em></span></pre></div></div><p class="simpara">
									For example:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4bca8qr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall.services]
enabled = ["ftp", "ntp", "dhcp"]
disabled = ["telnet"]</pre></div></div><p class="simpara">
									The services listed in <code class="literal">firewall.services</code> are different from the service-names available in the <code class="literal">/etc/services</code> file.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you do not want to customize the firewall services, omit the <code class="literal">[customizations.firewall]</code> and <code class="literal">[customizations.firewall.services]</code> sections from the blueprint.
									</p></div></div></li></ul></div></dd><dt><span class="term">Set which services to enable during the boot time</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--57sc3zg"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.services]
enabled = <span class="emphasis"><em>["SERVICES"]</em></span>
disabled = <span class="emphasis"><em>["SERVICES"]</em></span></pre></div></div><p class="simpara">
							You can control which services to enable during the boot time. 
Some image types already have services enabled or disabled to ensure 
that the image works correctly and this setup cannot be overridden. The <code class="literal">[customizations.services]</code>
 customization in the blueprint do not replace these services, but add 
them to the list of services already present in the image templates.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Each time a build starts, it clones the repository of the host 
system. If you refer to a repository with a large amount of history, it 
might take some time to clone and it uses a significant amount of disk 
space. Also, the clone is temporary and the build removes it after it 
creates the RPM package.
							</p></div></div></dd><dt><span class="term">Specify a custom filesystem configuration</span></dt><dd><p class="simpara">
							You can specify a custom filesystem configuration in your 
blueprints and therefore create images with a specific disk layout, 
instead of the default layout configuration. By using the non-default 
layout configuration in your blueprints, you can benefit from:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									security benchmark compliance
								</li><li class="listitem">
									protection against out-of-disk errors
								</li><li class="listitem">
									improved performance
								</li><li class="listitem"><p class="simpara">
									consistency with existing setups
								</p><p class="simpara">
									To customize the filesystem configuration in your blueprint:
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										The filesystem customization is not supported for OSTree 
systems, because OSTree images have their own mount rule, such as 
read-only.
									</p></div></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kgfv6gl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.filesystem]]
mountpoint = <span class="emphasis"><em>"MOUNTPOINT"</em></span>
size = <span class="emphasis"><em>MINIMUM-PARTITION-SIZE</em></span></pre></div></div><p class="simpara">
									The blueprint supports the following <code class="literal">mountpoints</code> and their sub-directories:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">/</code> - the root mount point
										</li><li class="listitem">
											<code class="literal">/var</code>
										</li><li class="listitem">
											<code class="literal">/home</code>
										</li><li class="listitem">
											<code class="literal">/opt</code>
										</li><li class="listitem">
											<code class="literal">/srv</code>
										</li><li class="listitem">
											<code class="literal">/usr</code>
										</li><li class="listitem">
											<code class="literal">/app</code>
										</li><li class="listitem">
											<code class="literal">/data</code>
										</li><li class="listitem"><p class="simpara">
											<code class="literal">/boot</code> - Supported from RHEL 8.7 and RHEL 9.1 onward.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												Customizing mount points is only supported from RHEL 8.5 and
 RHEL 9.0 distributions onward, by using the CLI. In earlier 
distributions, you can only specify the <code class="literal">root</code> partition as a mount point and specify the <code class="literal">size</code> argument as an alias for the image size.
											</p></div></div><p class="simpara">
											If you have more than one partition in the customized image, 
you can create images with a customized file system partition on LVM and
 resize those partitions at runtime. To do this, you can specify a 
customized filesystem configuration in your blueprint and therefore 
create images with the desired disk layout. The default filesystem 
layout remains unchanged - if you use plain images without file system 
customization, and <code class="literal">cloud-init</code> resizes the root partition.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												From 8.6 onward, for the <code class="literal">osbuild-composer-46.1-1.el8</code> RPM and later version, the physical partitions are no longer available and filesystem customizations create logical volumes.
											</p></div></div><p class="simpara">
											The blueprint automatically converts the file system customization to a LVM partition.
										</p><p class="simpara">
											The <code class="literal">MINIMUM-PARTITION-SIZE</code> value
 has no default size format. The blueprint customization supports the 
following values and units: kB to TB and KiB to TiB. For example, you 
can define the mount point size in bytes:
										</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4f8j0xx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.filesystem]]
mountpoint = "/var"
size = 1073741824</pre></div></div><p class="simpara">
											You can also define the mount point size by using units.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												You can only define the mount point size by using units for 
the package version provided for RHEL 8.6 and RHEL 9.0 distributions 
onward.
											</p></div></div><p class="simpara">
											For example:
										</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ehkoq87"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.filesystem]]
mountpoint = "/opt"
size = "20 GiB"

or

[[customizations.filesystem]]
mountpoint = "/boot"
size = "1 GiB"</pre></div></div></li></ul></div></li></ul></div></dd><dt><span class="term">Create customized directories and files for your image under the <code class="literal">/etc</code> directory</span></dt><dd><p class="simpara">
							To create customized files and directories in your image, use the <code class="literal">[[customizations.files]]</code> and the <code class="literal">[[customizations.directories]]</code> blueprint customizations. Currently, you can use these customizations only in the <code class="literal">/etc</code> directory.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								These blueprint customizations are supported by all image types,
 except the image types that deploy OSTree commits, such as <code class="literal">edge-raw-image</code>, <code class="literal">edge-installer</code>, and <code class="literal">edge-simplified-installer</code>.
							</p></div></div></dd></dl></div><p>
				<span class="strong strong"><strong>Create a custom directory blueprint customization</strong></span>
			</p><p>
				With the <code class="literal">[[customizations.directories]]</code> blueprint customization, you can create customized directories in the <code class="literal">/etc</code> directory of your image.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					If you use the <code class="literal">customizations.directories</code> with a directory path which already exists in the image with <code class="literal">mode</code>, <code class="literal">user</code> or <code class="literal">group</code> already set, the image build fails to prevent changing the ownership or permissions of the existing directory.
				</p></div></div><p>
				With the <code class="literal">[[customizations.directories]]</code> blueprint customization you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create new directories.
					</li><li class="listitem">
						Set user and group ownership for the directory you are creating.
					</li><li class="listitem">
						Set the directory mode permission in the octal format.
					</li><li class="listitem">
						Ensure that parent directories are created as needed.
					</li></ul></div><p>
				To customize a directory configuration in your blueprint, create a file with the following content, for example:
			</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--c4xloq1"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.directories]]
path = "/etc/<span class="emphasis"><em>directory_name</em></span>"
mode = "<span class="emphasis"><em>octal_access_permission</em></span>"
user = "<span class="emphasis"><em>user_string_or_integer</em></span>"
group = "<span class="emphasis"><em>group_string_or_integer</em></span>"
ensure_parents = <span class="emphasis"><em>boolean</em></span></pre></div></div><p>
				The blueprint entries are described as following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">path</code> - Mandatory - enter the path to the directory that you want to create. It must be an absolute path under the <code class="literal">/etc</code> directory.
					</li><li class="listitem">
						<code class="literal">mode</code> - Optional - set the access 
permission on the directory, in the octal format. If you do not specify a
 permission, it defaults to 0755. The leading zero is optional.
					</li><li class="listitem">
						<code class="literal">user</code> - Optional - set a user as the owner of the directory. If you do not specify a user, it defaults to <code class="literal">root</code>. You can specify the user as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">group</code> - Optional - set a group as the owner of the directory. If you do not specify a group, it defaults to <code class="literal">root</code>. You can specify the group as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">ensure_parents</code> - Optional - Specify whether you want to create parent directories as needed. If you do not specify a value, it defaults to <code class="literal">false</code>.
					</li></ul></div><p>
				<span class="strong strong"><strong>Create a custom file blueprint customization</strong></span>
			</p><p>
				You can use the custom file blueprint customization to create new 
files or to replace existing files. The parent directory of the file you
 specify must exist, otherwise, the image build fails. Ensure that the 
parent directory exists by specifying it in the <code class="literal">[[customizations.directories]]</code> customization.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					If you combine the files customizations with other blueprint 
customizations, it might affect the functioning of the other 
customizations, or it might override the current files customizations. 
If you are not sure about the customizations, use the appropriate 
blueprint customization.
				</p></div></div><p>
				With the <code class="literal">[[customizations.files]]</code> blueprint customization you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create new text files.
					</li><li class="listitem">
						Modifying existing files. WARNING: this can override the existing content.
					</li><li class="listitem">
						Set user and group ownership for the file you are creating.
					</li><li class="listitem"><p class="simpara">
						Set the mode permission in the octal format.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You cannot create or replace the following files:
						</p></div></div></li><li class="listitem">
						<code class="literal">/etc/fstab</code>
					</li><li class="listitem">
						<code class="literal">/etc/shadow</code>
					</li><li class="listitem">
						<code class="literal">/etc/passwd</code>
					</li><li class="listitem">
						<code class="literal">/etc/group</code>
					</li></ul></div><p>
				To customize a file in your blueprint, create a file with the following content, for example:
			</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ac2q1jj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.files]]
path = "/etc/<span class="emphasis"><em>directory_name</em></span>"
mode = "<span class="emphasis"><em>octal_access_permission</em></span>"
user = "<span class="emphasis"><em>user_string_or_integer</em></span>"
group = "<span class="emphasis"><em>group_string_or_integer</em></span>"
data = "Hello world!"</pre></div></div><p>
				The blueprint entries are described as following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">path</code> - Mandatory - enter the path to the file that you want to create. It must be an absolute path under the <code class="literal">/etc</code> directory.
					</li><li class="listitem">
						<code class="literal">mode</code> Optional - set the access 
permission on the file, in the octal format. If you do not specify a 
permission, it defaults to 0644. The leading zero is optional.
					</li><li class="listitem">
						<code class="literal">user</code> - Optional - set a user as the owner of the file. If you do not specify a user, it defaults to <code class="literal">root</code>. You can specify the user as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">group</code> - Optional - set a group as the owner of the file. If you do not specify a group, it defaults to <code class="literal">root</code>. You can specify the group as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">data</code> - Optional - Specify the content of a plain text file. If you do not specify a content, it creates an empty file.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6971352">Blueprint import fails after adding filesystem customization "size"</a>.
					</li><li class="listitem">
						<a class="link" href="https://www.osbuild.org/guides/image-builder-on-premises/blueprint-reference.html#customizations">Blueprint reference</a>.
					</li></ul></div></section><section class="section _additional-resources" id="additional_resources_2"><div class="titlepage"><div><div><h2 class="title">5.4. ADDITIONAL RESOURCES</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder in RHEL web console</a>.
					</li></ul></div></section></section><section class="chapter" id="building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Building simplified installer images to provision a RHEL for Edge image</h1></div></div></div><p class="_abstract _abstract">
			You can build a RHEL for Edge Simplified Installer image, which is 
optimized for unattended installation to a device, and provision the 
image to a RHEL for Edge image.
		</p><section class="section" id="simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.1. Simplified installer image build and deployment</h2></div></div></div><p class="_abstract _abstract">
				Build a RHEL for Edge Simplified Installer image by using the <code class="literal">edge-simplified-installer</code> image type,.
			</p><p>
				To build a RHEL for Edge Simplified Installer image, provide an existing <code class="literal">OSTree</code>
 commit. The resulting simplified image contains a raw image that has 
the OSTree commit deployed. After you boot the Simplified installer ISO 
image, it provisions a RHEL for Edge system that you can use on a hard 
disk or as a boot image in a virtual machine. You can log in to the 
deployed system with the user name and password that you specified in 
the blueprint that you used to create the Simplified Installer image.
			</p><p>
				The RHEL for Edge Simplified Installer image is optimized for 
unattended installation to a device and supports both network-base 
deployment and non-network-based deployments. However, for network-based
 deployment, it supports only UEFI HTTP boot.
			</p><p>
				Composing and deploying a simplified RHEL for Edge image involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install image builder
					</li><li class="listitem">
						Using image builder, create a blueprint with customizations for RHEL for Edge Container image
					</li><li class="listitem">
						Import the RHEL for Edge blueprint in image builder
					</li><li class="listitem">
						Create a RHEL for Edge image embed in an OCI container with a web 
server ready to deploy the commit as an OSTree repository
					</li><li class="listitem">
						Create a blueprint for the <code class="literal">edge-simplified-installer</code> image
					</li><li class="listitem">
						Build a simplified RHEL for Edge image
					</li><li class="listitem">
						Download the RHEL for Edge simplified image
					</li><li class="listitem">
						Install the raw image with the <code class="literal">edge-simplified-installer</code> virt-install
					</li></ol></div><p>
				The following diagram represents the RHEL for Edge Simplified building and provisioning workflow:
			</p><div class="figure" id="idm140115507204784"><p class="title">Figure 6.1. Building and provisioning RHEL for Edge in network-base environment</p><div class="figure-contents"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/c30b3cddb9768927f71a93631132b1aa/RHEL_for_Edge_simplified_workflow.png" class="rh_docs--zoom" title="RHEL for Edge Simplified workflow"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RHEL_for_Edge_simplified_workflow.png" alt="RHEL for Edge Simplified workflow"></a></div></div></div></section><section class="section" id="creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.2. Creating a blueprint for a Simplified image using image builder CLI</h2></div></div></div><p class="_abstract _abstract">
				To create a blueprint for a simplified RHEL for Edge image, you must customize it with a <code class="literal">device file</code> location to enable an unattended installation to a device and a <code class="literal">URL</code>
 to perform the initial device credential exchange. You also must 
specify users and user groups in the blueprint. For that,follow the 
steps:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a plain text file in the Toms Obvious, Minimal Language (TOML) format, with the following content:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--eff9wta"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "simplified-installer-blueprint"
description = "blueprint for the simplified installer image"
version = "0.0.1"
packages = []
modules = []
groups = []
distro = ""

[customizations]
installation_device = <span class="emphasis"><em>"/dev/vda"</em></span>

[[customizations.user]]
name = "admin"
password = "admin"
groups = ["users", "wheel"]

[customizations.fdo]
manufacturing_server_url = <span class="emphasis"><em>"http://10.0.0.2:8080"</em></span>
diun_pub_key_insecure = <span class="emphasis"><em>"true"</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The FDO customization in the blueprints is optional, and you can 
build your RHEL for Edge Simplified Installer image with no errors.
						</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="emphasis"><em>name</em></span> is the name and <span class="emphasis"><em>description</em></span> is the description for your blueprint.
							</li><li class="listitem">
								<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
							</li><li class="listitem">
								<span class="emphasis"><em>Modules</em></span> describe the 
package name and matching version glob to be installed into the image, 
for example, the package name = "tmux" and the matching version glob is 
version = "2.9a". Notice that currently there are no differences between
 packages and modules.
							</li><li class="listitem">
								<span class="emphasis"><em>Groups</em></span> are packages groups to be installed into the image, for example the <code class="literal">anaconda-tools</code> group package. If you do not know the modules and groups, leave them empty.
							</li><li class="listitem">
								<span class="emphasis"><em>installation-device</em></span> is the customization to enable an unattended installation to your device.
							</li><li class="listitem">
								<span class="emphasis"><em>manufacturing_server_url</em></span> is the URL to perform the initial device credential exchange.
							</li><li class="listitem">
								<span class="emphasis"><em>name</em></span> is the user name to login to the image.
							</li><li class="listitem">
								<span class="emphasis"><em>password</em></span> is a password of your choice.
							</li><li class="listitem">
								<span class="emphasis"><em>groups</em></span> are any user groups, such as "widget".
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Push (import) the blueprint to the image builder server:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--l66uf6a"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wrgdpyq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gmsnyl4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder command-line</a>.
					</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI</h2></div></div></div><p class="_abstract _abstract">
				To create a RHEL for Edge Simplified image using image builder 
command-line interface, ensure that you have met the following 
prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint for the RHEL for Edge Simplified image.
					</li><li class="listitem">
						You served an OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the bootable ISO image.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ygykjx4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree \
<span class="emphasis"><em>blueprint-name</em></span> \
edge-simplified-installer \
--ref rhel/9/x86_64/edge \
--url <span class="emphasis"><em>URL-OSTree-repository</em></span> \</pre></div></div><p class="simpara">
						Where,
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">blueprint-name</code> is the RHEL for Edge blueprint name.
							</li><li class="listitem">
								<code class="literal">edge-simplified-installer</code> is the image type .
							</li><li class="listitem">
								<code class="literal">--ref</code> is the reference for where your commit is going to be created.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">--url</code> is the URL to the OSTree 
repository of the commit to embed in the image. For example, 
http://10.0.2.2:8080/repo/. You can either start a RHEL for Edge 
Container or set up a web server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a> and <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
							</p><p class="simpara">
								A confirmation that the composer process has been added to the 
queue appears. It also shows a Universally Unique Identifier (UUID) 
number for the image created. Use the UUID number to track your build. 
Also keep the UUID number handy for further tasks.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Check the image compose status.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6syp7yw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
						The output displays the status in the following format:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--s14cd6g"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The image creation processes can take up to ten minutes to complete.
						</p></div></div><p class="simpara">
						To interrupt the image creation process, run:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--y1or0zv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
						To delete an existing image, run:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vq61vcd"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder command-line</a>.
					</li></ul></div></section><section class="section" id="downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.4. Downloading a simplified RHEL for Edge image using the image builder command-line interface</h2></div></div></div><p class="_abstract _abstract">
				To download a RHEL for Edge image using image builder command line 
interface, ensure that you have met the following prerequisites and then
 follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a RHEL for Edge image.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Review the RHEL for Edge image status.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bf22khp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
						The output must display the following:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gf7bc4v"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Download the image.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--70io7k6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image &lt;UUID&gt;</pre></div></div><p class="simpara">
						Image builder downloads the image as an <code class="literal">.iso</code> file at the current directory path where you run the command.
					</p><p class="simpara">
						The UUID number and the image size is displayed alongside.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--l77u5l7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span>-simplified-installer.iso: <span class="emphasis"><em>size</em></span> MB</pre></div></div></li></ol></div><p>
				As a result, you downloaded a RHEL for Edge Simplified Installer ISO
 image. You can use it directly as a boot ISO to install a RHEL for Edge
 system.
			</p></section><section class="section" id="proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.5. Creating a blueprint for a Simplified image using image builder GUI</h2></div></div></div><p>
				To create a RHEL for Edge Simplified Installer image, you must create a blueprint and ensure that you customize it with:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A device node location to enable an unattended installation to your device.
					</li><li class="listitem">
						A URL to perform the initial device credential exchange.
					</li><li class="listitem">
						A user or user group.
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can also add any other customizations that your image requires.
				</p></div></div><p>
				To create a blueprint for a simplified RHEL for Edge image in the image builder GUI, complete the following steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have opened the image builder app from the web console in a browser. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface">Accessing the image builder GUI in the RHEL web console</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Click Create Blueprint in the upper-right corner of the image builder app.
					</p><p class="simpara">
						A dialog wizard with fields for the blueprint name and description opens.
					</p></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Details</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the name of the blueprint and, optionally, its description. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the Packages page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								In the <code class="literal">Available packages</code> search, enter the package name and click the <span class="guibutton">&gt;</span> button to move it to the Chosen packages field. Search and include as many packages as you want. Click <span class="guibutton">Next</span>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The customizations are all optional unless otherwise specified.
								</p></div></div></li></ol></div></li><li class="listitem">
						Optional: On the <code class="literal">Kernel</code> page, enter a kernel name and the command-line arguments.
					</li><li class="listitem">
						Optional: On the <code class="literal">File system</code> page, select <code class="literal">Use automatic partitioning</code>.The
 filesystem customization is not supported for OSTree systems, because 
OSTree images have their own mount rule, such as read-only. Click <span class="guibutton">Next</span>.
					</li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Services</code> page, you can enable or disable services:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the service names you want to enable or disable, separating them by a comma, by space, or by pressing the <span class="guibutton">Enter</span> key. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Firewall</code> page, set up your firewall setting:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the <code class="literal">Ports</code>, and the firewall services you want to enable or disable.
							</li><li class="listitem">
								Click the <span class="guibutton">Add zone</span> button to manage your firewall rules for each zone independently. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Users</code> page, add a users by following the steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click <span class="guibutton">Add user</span>.
							</li><li class="listitem"><p class="simpara">
								Enter a <code class="literal">Username</code>, a <code class="literal">password</code>, and a <code class="literal">SSH key</code>. You can also mark the user as a privileged user, by clicking the <code class="literal">Server administrator</code> checkbox.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									When you specify the user in the blueprint customization and 
then create an image from that blueprint, the blueprint creates the user
 under the <code class="literal">/usr/lib/passwd</code> directory and the password under the <code class="literal">/usr/etc/shadow</code>
 during installation time. You can log in to the device with the 
username and password you created for the blueprint. After you access 
the system, you must create users, for example, using the <code class="literal">useradd</code> command.
								</p></div></div><p class="simpara">
								Click <span class="guibutton">Next</span>.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Groups</code> page, add groups by completing the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add groups</span> button:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter a <code class="literal">Group name</code> and a <code class="literal">Group ID</code>. You can add more groups. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">SSH keys</code> page, add a key:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add key</span> button.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter the SSH key.
									</li><li class="listitem">
										Enter a <code class="literal">User</code>. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Timezone</code> page, set your timezone settings:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Timezone</code> field, enter the timezone you want to add to your system image. For example, add the following timezone format: "US/Eastern".
							</p><p class="simpara">
								If you do not set a timezone, the system uses Universal Time, Coordinated (UTC) as default.
							</p></li><li class="listitem">
								Enter the <code class="literal">NTP</code> servers. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Locale</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Keyboard</code> search field, enter the package name you want to add to your system image. For example: ["en_US.UTF-8"].
							</li><li class="listitem">
								On the <code class="literal">Languages</code> search field, enter the package name you want to add to your system image. For example: "us". Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory: On the <code class="literal">Others</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In the <code class="literal">Hostname</code> field, enter the 
hostname you want to add to your system image. If you do not add a 
hostname, the operating system determines the hostname.
							</li><li class="listitem">
								Mandatory: In the <code class="literal">Installation Devices</code> field, enter a valid node for your system image to enable an unattended installation to your device. For example: <code class="literal">dev/sda1</code>. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">FIDO device onboarding</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Manufacturing server URL</code> field, enter the <code class="literal">manufacturing server URL</code>
 to perform the initial device credential exchange, for example: 
"http://10.0.0.2:8080". The FDO customization in the blueprints is 
optional, and you can build your RHEL for Edge Simplified Installer 
image with no errors.
							</li><li class="listitem">
								On the <code class="literal">DIUN public key insecure</code> 
field, enter the certification public key hash to perform the initial 
device credential exchange. This field accepts "true" as value, which 
means this is an insecure connection to the manufacturing server. For 
example: <code class="literal">manufacturing_server_url="http://${FDO_SERVER}:8080" diun_pub_key_insecure="true"</code>. You must use only one of these three options: "key insecure", "key hash" and "key root certs".
							</li><li class="listitem"><p class="simpara">
								On the <code class="literal">DIUN public key hash</code> field, enter the hashed version of your public key. For example: <code class="literal">17BD05952222C421D6F1BB1256E0C925310CED4CE1C4FFD6E5CB968F4B73BF73</code>.
 You can get the key hash by generating it based on the certificate of 
the manufacturing server. To generate the key hash, run the command:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6wqtsmt"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># openssl x509 -fingerprint -sha256 -noout -in /etc/fdo/aio/keys/diun_cert.pem | cut -d"=" -f2 | sed 's/://g'</pre></div></div><p class="simpara">
								The <code class="literal">/etc/fdo/aio/keys/diun_cert.pem</code> is the certificate that is stored in the manufacturing server.
							</p></li><li class="listitem"><p class="simpara">
								On the <code class="literal">DIUN public key root certs</code> 
field, enter the public key root certs. This field accepts the content 
of the certification file that is stored in the manufacturing server. To
 get the content of certificate file, run the command:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--r5zs91o"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cat /etc/fdo/aio/keys/diun_cert.pem.</pre></div></div></li></ol></div></li><li class="listitem">
						Click <span class="guibutton">Next</span>.
					</li><li class="listitem">
						On the <code class="literal">Review</code> page, review the details about the blueprint. Click <span class="guibutton">Create</span>.
					</li></ol></div><p>
				The image builder view opens, listing existing blueprints.
			</p></section><section class="section" id="proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.6. Creating a RHEL for Edge Simplified Installer image using image builder GUI</h2></div></div></div><p>
				To create a RHEL for Edge Simplified image using image builder GUI, 
ensure that you have met the following prerequisites and then follow the
 procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You opened the image builder app from the web console in a browser.
					</li><li class="listitem">
						You created a blueprint for the RHEL for Edge Simplified image.
					</li><li class="listitem">
						You served an OSTree repository of the commit to embed in the image, for example, <code class="literal">http://10.0.2.2:8080/repo</code>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
					</li><li class="listitem">
						The FDO manufacturing server is up and running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Access mage builder dashboard.
					</li><li class="listitem">
						On the blueprint table, find the blueprint you want to build an image for.
					</li><li class="listitem">
						Navigate to the <code class="literal">Images</code> tab and click <code class="literal">Create Image</code>. The <code class="literal">Create image</code> wizard opens.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal">Image output</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <code class="literal">Select a blueprint</code> list, select the blueprint you created for the RHEL for Edge Simplified image.
							</li><li class="listitem">
								From the <code class="literal">Image output type</code> list, select <code class="literal">RHEL for Edge Simplified Installer (.iso)</code>.
							</li><li class="listitem">
								In the <code class="literal">Image Size</code> field, enter the image size. Minimum image size required for Simplified Installer image is:
							</li></ol></div></li><li class="listitem">
						Click <span class="guibutton">Next</span>.
					</li><li class="listitem"><p class="simpara">
						In the <code class="literal">OSTree settings</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In the <code class="literal">Repository URL</code> field, enter the repository URL to where the parent OSTree commit will be pulled from.
							</li><li class="listitem">
								In the <code class="literal">Ref</code> field, enter the <code class="literal">ref</code> branch name path. If you do not enter a <code class="literal">ref</code>, the default <code class="literal">ref</code> for the distro is used.
							</li></ol></div></li><li class="listitem">
						On the <code class="literal">Review</code> page, review the image customization and click <span class="guibutton">Create</span>.
					</li></ol></div><p>
				The image build starts and takes up to 20 minutes to complete. To stop the building, click <span class="guibutton">Stop build</span>.
			</p></section><section class="section" id="proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.7. Downloading a simplified RHEL for Edge image using the image builder GUI</h2></div></div></div><p>
				To download a RHEL for Edge image using image builder GUI, ensure 
that you have met the following prerequisites and then follow the 
procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have successfully created a RHEL for Edge image. See link.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Access <code class="literal">image builder</code> dashboard. The blueprint list dashboard opens.
					</li><li class="listitem">
						In the blueprint table, find the blueprint you built your RHEL for Edge Simplified Installer image for.
					</li><li class="listitem">
						Navigate to the <code class="literal">Images</code> tab.
					</li><li class="listitem"><p class="simpara">
						Choose one of the options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Download the image.
							</li><li class="listitem">
								Download the logs of the image to inspect the elements and verify if any issue is found.
							</li></ul></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can use the RHEL for Edge Simplified Installer ISO image that 
you downloaded directly as a boot ISO to install a RHEL for Edge system.
				</p></div></div></section><section class="section" id="setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.8. Setting up an UEFI HTTP Boot server</h2></div></div></div><p class="_abstract _abstract">
				To set up an <span class="strong strong"><strong>UEFI HTTP Boot</strong></span>
 server, so that you can start to provision a RHEL for Edge Virtual 
Machine over network by connecting to this UEFI HTTP Boot server, follow
 the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created the ISO simplified installer image.
					</li><li class="listitem">
						An http server that serves the ISO content.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Mount the ISO image to the directory your your choice:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--z3w27nn"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># mkdir /mnt/rhel9-install/
# mount -o loop,ro -t iso9660 /path_directory/installer.iso /mnt/rhel9-install/</pre></div></div><p class="simpara">
						Replace <code class="literal">/path_directory/installer.iso</code> with the path to the RHEL for Edge bootable ISO image.
					</p></li><li class="listitem"><p class="simpara">
						Copy the files from the mounted image to the HTTP server root. This command creates the <code class="literal">/var/www/html/rhel9-install/</code> directory with the contents of the image.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--i1nnfhw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># mkdir /var/www/html/httpboot/
# cp -R /mnt/rhel9-install/* /var/www/html/httpboot/
# chmod -R +r /var/www/html/httpboot/*</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Some copying methods can skip the <code class="literal">.treeinfo</code> file which is required for a valid installation source. Running the <code class="literal">cp</code> command for whole directories as shown in this procedure will copy <code class="literal">.treeinfo</code> correctly.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Update the <code class="literal">/var/www/html/EFI/BOOT/grub.cfg</code> file, by replacing:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								<code class="literal">coreos.inst.install_dev=/dev/sda</code> with <code class="literal">coreos.inst.install_dev=/dev/vda</code>
							</li><li class="listitem">
								<code class="literal">linux /images/pxeboot/vmlinuz</code> with <code class="literal">linuxefi /images/pxeboot/vmlinuz</code>
							</li><li class="listitem">
								<code class="literal">initrd /images/pxeboot/initrd.img</code> with <code class="literal">initrdefi /images/pxeboot/initrd.img</code>
							</li><li class="listitem"><p class="simpara">
								<code class="literal">coreos.inst.image_file=/run/media/iso/disk.img.xz</code> with <code class="literal">coreos.inst.image_url=http://{IP-ADDRESS}/disk.img.xz</code>
							</p><p class="simpara">
								The <span class="emphasis"><em>IP-ADDRESS</em></span> is the ip address of this machine, which will serve as a http boot server.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Start the httpd service:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--79jvd36"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl start httpd.service</pre></div></div><p class="simpara">
						As a result, after you set up an <span class="strong strong"><strong>UEFI HTTP Boot</strong></span> server, you can install your RHEL for Edge devices by using <span class="strong strong"><strong>UEFI HTTP</strong></span> boot.
					</p></li></ol></div></section><section class="section" id="deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.9. Deploying the Simplified ISO image in a Virtual Machine</h2></div></div></div><p class="_abstract _abstract">
				Deploy the RHEL for Edge ISO image you generated by creating a RHEL 
for Edge Simplified image by using any the following installation 
sources:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>UEFI HTTP Boot</strong></span>
					</li><li class="listitem">
						<span class="strong strong"><strong>virt-install</strong></span>
					</li></ul></div><p>
				This example shows how to create a <span class="strong strong"><strong>virt-install</strong></span> installation source from your ISO image for a <span class="strong strong"><strong>network-based</strong></span> installation .
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created an ISO image.
					</li><li class="listitem">
						You set up a network configuration to support UEFI HTTP boot.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Set up a network configuration to support <span class="strong strong"><strong>UEFI HTTP</strong></span> boot. See <a class="link" href="https://www.redhat.com/sysadmin/uefi-http-boot-libvirt">Setting up UEFI HTTP boot with libvirt</a>.
					</li><li class="listitem"><p class="simpara">
						Use the <code class="literal">virt-install</code> command to create a RHEL for Edge Virtual Machine from the UEFI HTTP Boot.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9dkmc59"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed"># virt-install \
    --name edge-install-image \
    --disk path=  , ,format=qcow2
    --ram 3072 \
    --memory 4096 \
    --vcpus 2 \
    --network network=integration,mac=mac_address \
    --os-type linux
    --os-variant rhel9 \
    --cdrom "/var/lib/libvirt/images/ISO_FILENAME"
    --boot uefi,loader_ro=yes,loader_type=pflash,nvram_template=/usr/share/edk2/ovmf/OVMF_VARS.fd,loader_secure=no
    --virt-type kvm \
    --graphics none \
     --wait=-1
     --noreboot</pre></div></div></li></ol></div><p>
				After you run the command, the Virtual Machine installation starts.
			</p><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Log in to the created Virtual Machine.
					</li></ul></div></section><section class="section" id="deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">6.10. Deploying the Simplified ISO image from a USB flash drive</h2></div></div></div><p class="_abstract _abstract">
				Deploy the RHEL for Edge ISO image you generated by creating a RHEL for Edge Simplified image by using an <span class="strong strong"><strong>USB installation</strong></span>.
			</p><p>
				This example shows how to create a <span class="strong strong"><strong>USB installation</strong></span> source from your ISO image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a simplified installer image, which is an ISO image.
					</li><li class="listitem">
						You have a 8 GB USB flash drive.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Copy the ISO image file to a USB flash drive.
					</li><li class="listitem">
						Connect the USB flash drive to the port of the computer you want to boot.
					</li><li class="listitem"><p class="simpara">
						Boot the ISO image from the USB flash drive.The boot menu shows you the following options:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--n2xud3d"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">Install Red Hat Enterprise Linux 9
Test this media &amp; install Red Hat Enterprise Linux 9</pre></div></div></li><li class="listitem">
						Choose Install Red Hat Enterprise Linux 9. This starts the system installation.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_installing-on-amd64-intel-64-and-64-bit-arm_installing-rhel#booting-the-installer_assembly_installing-on-amd64-intel-64-and-64-bit-arm">Booting the installation</a>.
					</li></ul></div></section></section><section class="chapter" id="assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Using the Ignition tool for the RHEL for Edge Simplified Installer images</h1></div></div></div><p>
			RHEL for Edge uses the Ignition tool to inject the user configuration
 into the images at an early stage of the boot process. The user 
configuration that the Ignition tool injects includes:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					The user configuration.
				</li><li class="listitem">
					Writing files, such as regular files, and <code class="literal">systemd</code> units.
				</li></ul></div><p>
			On the first boot, Ignition reads its configuration either from a 
remote URL or a file embedded in the simplified installer ISO. Then, 
Ignition applies that configuration into the image.
		</p><section class="section" id="proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">7.1. Creating an Ignition configuration file</h2></div></div></div><p>
				The <code class="literal">Butane</code> tool is the preferred option to create an Ignition configuration file. <code class="literal">Butane</code> consumes a <code class="literal">Butane Config YAML</code> file and produces an <code class="literal">Ignition Config</code> in the JSON format. The JSON file is used by a system on its first boot. The <code class="literal">Ignition Config</code> applies the configuration in the image, such as user creation, and <code class="literal">systemd</code> units installation.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the Butane tool version v0.17.0:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0tibeth"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo dnf/yum install -y butane</pre></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">Butane Config</code> file and save it in the <code class="literal">.bu</code> format. You must specify the <code class="literal">variant</code> entry as <code class="literal">r4e</code>, and the <code class="literal">version</code> entry as <code class="literal">1.0.0</code>, for RHEL for Edge images. The butane <code class="literal">r4e</code> variant on version 1.0.0 targets Ignition spec version <code class="literal">3.3.0</code>. The following is a Butane Config YAML file example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--suxc5f8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><button title="Expand" class="codeblock__expand">Expand</button><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">variant: r4e
version: 1.0.0
ignition:
  config:
    merge:
      - source: http://192.168.122.1:8000/sample.ign
passwd:
  users:
    - name: core
      groups:
        - wheel
      password_hash: password_hash_here
      ssh_authorized_keys:
        - ssh-ed25519 some-ssh-key-here
storage:
  files:
    - path: /etc/NetworkManager/system-connections/enp1s0.nmconnection
      contents:
        inline: |
          [connection]
          id=enp1s0
          type=ethernet
          interface-name=enp1s0
          [ipv4]
          address1=192.168.122.42/24,192.168.122.1
          dns=8.8.8.8;
          dns-search=
          may-fail=false
          method=manual
      mode: 0600
    - path: /usr/local/bin/startup.sh
      contents:
        inline: |
          #!/bin/bash
          echo "Hello, World!"
      mode: 0755
systemd:
  units:
    - name: hello.service
      contents: |
        [Unit]
        Description=A hello world
        [Install]
        WantedBy=multi-user.target
      enabled: true
    - name: fdo-client-linuxapp.service
      dropins:
        - name: log_trace.conf
          contents: |
            [Service]
            Environment=LOG_LEVEL=trace</pre></div></div></li><li class="listitem"><p class="simpara">
						Run the following command to consume the <code class="literal">Butane Config YAML</code> file and generate an Ignition Config in the JSON format:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qnx7nea"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ ./path/butane example.bu
{"ignition":{"config":{"merge":[{"source":"http://192.168.122.1:8000/sample.ign"}]},"timeouts":{"httpTotal":30},"version":"3.3.0"},"passwd":{"users":[{"groups":["wheel"],"name":"core","passwordHash":"password_hash_here","sshAuthorizedKeys":["ssh-ed25519 some-ssh-key-here"]}]},"storage":{"files":[{"path":"/etc/NetworkManager/system-connections/enp1s0.nmconnection","contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/0yKUcrCMBAG3/csf/ObUKQie5LShyX5SgPNNiSr0NuLgiDzNMPM8VBFtHzoQjkxtPp+ITsrGLahKYyyGtoqEYNKwfeZc32OC0lKDb179rfg/HVyPgQ3hv8w/v0WT0k7T+7D/S1Dh7S4MRU5h1XyzqvsHVRg25G4iD5kp1cAAAD//6Cvq2ihAAAA"},"mode":384},{"path":"/usr/local/bin/startup.sh","contents":{"source":"data:;base64,IyEvYmluL2Jhc2gKZWNobyAiSGVsbG8sIFdvcmxkISIK"},"mode":493}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=A hello world\n[Install]\nWantedBy=multi-user.target","enabled":true,"name":"hello.service"},{"dropins":[{"contents":"[Service]\nEnvironment=LOG_LEVEL=trace\n","name":"log_trace.conf"}],"name":"fdo-client-linuxapp.service"}]}}</pre></div></div><p class="simpara">
						After you run the <code class="literal">Butane Config YAML</code> file to check and generate the <code class="literal">Ignition Config JSON</code>
 file, you might get warnings when using unsupported fields, like 
partitions, for example. You can fix those fields and rerun the check.
					</p></li></ol></div><p>
				You have now an Ignition JSON configuration file that you can use to customize your blueprint.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://coreos.github.io/butane/config-r4e-v1_0/">RHEL for Edge Specification v1.0.0</a>.
					</li></ul></div></section><section class="section" id="proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">7.2. Creating a blueprint in the GUI with support to Ignition</h2></div></div></div><p>
				When building a Simplified Installer image, you can customize your 
blueprint by entering the following details in the Ignition page of the 
blueprint:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">Firstboot URL</code> - You must enter a URL 
that points to the Ignition configuration that will be fetched during 
the first boot. It can be used for both the raw image and simplified 
installer image.
					</li><li class="listitem">
						<code class="literal">Embedded Data</code> - You must provide the <code class="literal">base64</code> encoded <code class="literal">Ignition Configuration</code> file. It can be used only for the Simplified Installer image.
					</li></ul></div><p>
				To customize your blueprint for a simplified RHEL for Edge image 
with support to Ignition configuration using the Ignition blueprint 
customization, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have opened the image builder app from web console in a browser. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface">Accessing the image builder GUI in the RHEL web console</a>.
					</li><li class="listitem">
						To fully support the embedded section, <code class="literal">coreos-installer-dracut</code> has to be able to define <code class="literal">-ignition-url</code>|<code class="literal">-ignition-file</code> based on the presence of the OSBuilds file.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create Blueprint</span> in the upper-right corner.
					</p><p class="simpara">
						A dialog wizard with fields for the blueprint name and description opens.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On the <code class="literal">Details</code> page:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Enter the name of the blueprint and, optionally, its description. Click <span class="guibutton">Next</span>.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								On the <code class="literal">Ignition</code> page, complete the following steps:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										On the <code class="literal">Firstboot URL</code> field, enter the URL that points to the Ignition configuration to be fetched during the first boot.
									</li><li class="listitem">
										On the <code class="literal">Embedded Data</code> field, drag or upload the <code class="literal">base64</code> encoded <code class="literal">Ignition Configuration</code> file. Click <span class="guibutton">Next</span>.
									</li></ul></div></li><li class="listitem">
								Review the image details and click <span class="guibutton">Create</span>.
							</li></ul></div></li></ol></div><p>
				The image builder dashboard view opens, listing the existing blueprints.
			</p><div class="itemizedlist"><p class="title"><strong>Next</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You can use the blueprint you created to build your Simplified Installer image. See <a class="link" href="#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images" title="6.3.&nbsp;Creating a RHEL for Edge Simplified Installer image using image builder CLI">Creating a RHEL for Edge Simplified Installer image using image builder CLI</a>.
					</li></ul></div></section><section class="section" id="proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images"><div class="titlepage"><div><div><h2 class="title">7.3. Creating a blueprint with support to Ignition using the CLI</h2></div></div></div><p>
				When building a simplified installer image, you can customize your blueprint by adding the <code class="literal">customizations.ignition</code>
 section to it. With that, you can create either a simplified installer 
image or a raw image that you can use for the bare metal platforms. The <code class="literal">customizations.ignition</code> customization in the blueprint enables the configuration files to be used in <code class="literal">edge-simplified-installer</code> ISO and <code class="literal">edge-raw-image</code> images.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						For the <code class="literal">edge-simplified-installer</code> ISO
 image, you can customize the blueprint to embed an Ignition 
configuration file that will be included in the ISO image. For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--cda9tkc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.ignition.embedded]
config = "eyJ --- BASE64 STRING TRIMMED --- 19fQo="</pre></div></div><p class="simpara">
						You must provide a <code class="literal">base64</code> encoded Ignition configuration file.
					</p></li><li class="listitem"><p class="simpara">
						For both the <code class="literal">edge-simplified-installer</code> ISO image and also the <code class="literal">edge-raw-image</code>,
 you can customize the blueprint, by defining a URL that will be fetched
 to obtain the Ignition configuration at the first boot. For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kvaov9q"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.ignition.firstboot]
url = "http://your_server/ignition_configuration.ig"</pre></div></div><p class="simpara">
						You must enter a URL that points to the Ignition configuration that will be fetched during the first boot.
					</p></li></ul></div><p>
				To customize your blueprint for a Simplified RHEL for Edge image with support to Ignition configuration, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						If using the <code class="literal">[customizations.ignition.embedded]</code> customization, you must create an Ignition configuration file.
					</li><li class="listitem">
						If using the <code class="literal">[customizations.ignition.firstboot]</code>
 customization, you must have created a container whose URL points to 
the Ignition configuration that will be fetched during the first boot.
					</li><li class="listitem">
						The blueprint customization <code class="literal">[customizations.ignition.embedded]</code> section enables <code class="literal">coreos-installer-dracut</code> to define <code class="literal">-ignition-url</code>|<code class="literal">-ignition-file</code> based on the presence of the osbuilds file.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a plain text file in the Toms Obvious, Minimal Language (TOML) format, with the following content:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--jz2qw94"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "simplified-installer-blueprint"
description = "Blueprint with Ignition for the simplified installer image"
version = "0.0.1"
packages = []
modules = []
groups = []
distro = ""

[customizations.ignition.embedded]
config = "eyJ --- BASE64 STRING TRIMMED --- 19fQo="</pre></div></div><p class="simpara">
						Where:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The <code class="literal">name</code> is the name and <code class="literal">description</code> is the description for your blueprint.
							</li><li class="listitem">
								The <code class="literal">version</code> is the version number according to the Semantic Versioning scheme.
							</li><li class="listitem">
								The <code class="literal">modules</code> and <code class="literal">packages</code> describe the package name and matching version glob to be installed into the image. For example, the package <code class="literal">name = "tmux"</code> and the matching version glob is <code class="literal">version = "3.3a"</code>. Notice that currently there are no differences between packages and modules.
							</li><li class="listitem"><p class="simpara">
								The <code class="literal">groups</code> are packages groups to be installed into the image. For example <code class="literal">groups = "anaconda-tools"</code> group package. If you do not know the modules and groups, leave them empty.
							</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
									If you want to create a user with Ignition, you cannot use the 
FDO customizations to create a user at the same time. You can create 
users using Ignition and copy configuration files using FDO. But if you 
are creating users, create them using Ignition or FDO, but not both at 
the same time.
								</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Push (import) the blueprint to the image builder server:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--e5aw1ie"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name</em></span>.toml</pre></div></div></li><li class="listitem"><p class="simpara">
						List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qizamdn"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--a15twk0"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You can use the blueprint you created to build your Simplified Installer image. See <a class="link" href="#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images" title="6.3.&nbsp;Creating a RHEL for Edge Simplified Installer image using image builder CLI">Creating a RHEL for Edge Simplified Installer image using image builder CLI</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://coreos.github.io/butane/config-r4e-v1_0/">RHEL for Edge Specification v1.0.0</a>.
					</li></ul></div></section></section><section class="chapter" id="assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Automatically provisioning and onboarding RHEL for Edge devices with FDO</h1></div></div></div><p class="_abstract _abstract">
			You can build a RHEL for Edge Simplified Installer image, and 
provision it to a RHEL for Edge image. The FIDO Device Onboarding (FDO) 
process automatically provisions and onboards your Edge devices, and 
exchanges data with other devices and systems connected on the networks.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				Red Hat provides the <code class="literal">FDO</code> process as a 
Technology Preview feature and should run on secure networks. Technology
 Preview features are not supported with Red Hat production service 
level agreements (SLAs) and might not be functionally complete. These 
features provide early access to upcoming product features, enabling 
customers to test functionality and provide feedback during the 
development process. See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
			</p></div></div><section class="section" id="con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h2 class="title">8.1. The FIDO Device Onboarding (FDO) process</h2></div></div></div><p class="_abstract _abstract">
				Device onboarding is the process that:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Provisions and onboards a device.
					</li><li class="listitem">
						Automatically configures credentials for this device.
					</li><li class="listitem">
						Enables this device to securely connect and interact on the network.
					</li></ul></div><p>
				With FIDO Device Onboarding (FDO), you can perform a secure device 
onboarding by adding new devices into your IOT architecture. This 
includes the specified device configuration that needs to be trusted and
 integrated with the rest of the running systems. The FDO process is an 
automatic onboarding mechanism that is triggered by the installation of a
 new device. The FDO protocol solves the trust and chain of ownership 
along with the automation needed to securely onboard a device at scale. 
It performs device initialization at the manufacturing stage and late 
device binding for its actual use. This means that actual binding of the
 device to a management system happens on the first boot of the device 
without requiring manual configuration on the device. By using the FDO 
protocol, you have support for automated secure devices onboarding, that
 is, zero touch installation and onboarding that does not need any 
specialized person at the edge location. After the device is onboarded, 
the management platform can connect to it and apply patches, updates, 
and rollbacks.
			</p><p>
				With FDO, you can benefit from the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						FDO is a secure and simple way to enroll a device to a management 
platform. Instead of embedding a Kickstart configuration to the image, 
FDO applies the device credentials during the device first boot directly
 to the ISO image.
					</li><li class="listitem">
						FDO solves the issue of late binding to a device, enabling any sensitive data to be shared over a secure FDO channel.
					</li><li class="listitem">
						FDO cryptographically identifies the system identity and ownership
 before enrolling and passing the configuration and other secrets to the
 system. That enables non-technical users to power-on the system.
					</li></ul></div><p>
				To build a RHEL for Edge Simplified Installer image and 
automatically onboard it, provide an existing OSTree commit. The 
resulting simplified image contains a raw image that has the OSTree 
commit deployed. After you boot the Simplified installer ISO image, it 
provisions a RHEL for Edge system that you can use on a hard disk or as a
 boot image in a virtual machine.
			</p><p>
				The RHEL for Edge Simplified Installer image is optimized for 
unattended installation to a device and supports both network-base 
deployment and non-network-based deployments. However, for network-based
 deployment, it supports only UEFI HTTP boot.
			</p><p>
				The FDO protocol is based on the following servers:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Manufacturing server</span></dt><dd><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Generates the device credentials.
								</li><li class="listitem">
									Creates a voucher that is used to set the ownership of the device, later in the process.
								</li><li class="listitem">
									Binds the device to a specific management platform.
								</li></ol></div></dd><dt><span class="term">Owner management server</span></dt><dd><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Receives the voucher from the Manufacturing server and becomes the owner of the associated device.
								</li><li class="listitem">
									Later in the process, it creates a secure channel between the 
device and the Owner server after the device authentication.
								</li><li class="listitem">
									Uses the secure channel to send the required information, such 
as files and scripts for the onboarding automation to the device.
								</li></ol></div></dd><dt><span class="term">Rendezvous server</span></dt><dd><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Gets the voucher from the Owner management server and makes a 
mapping of UUID to Owner server IP. This matches the device UUID with a 
target platform and provides information to the device about which Owner
 server endpoint this device must use.
								</li><li class="listitem">
									During the first boot, the Rendezvous server will be the 
contact point for the device and it will direct the device to the owner,
 so that the device and the owner can establish a secure channel.
								</li></ol></div></dd><dt><span class="term">Device client</span></dt><dd><p class="simpara">
							This is installed on the device. The Device client performs the following actions:
						</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Starts the queries to the multiple servers where the onboarding automation will be executed.
								</li><li class="listitem">
									Uses TCP/IP protocols to communicate with the servers.
								</li></ol></div></dd></dl></div><p>
				The following diagram represents the FIDO device onboarding workflow:
			</p><div class="figure" id="non-network-based_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><p class="title">Figure 8.1. Deploying RHEL for Edge in non-network environment</p><div class="figure-contents"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/aad63c45a51082e284eed7381872bf75/239_RHEL_for_Edge_FDO_0322.png" class="rh_docs--zoom" title="FDO device onboarding"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/239_RHEL_for_Edge_FDO_0322.png" alt="FDO device onboarding"></a></div></div></div><p>
				At the <span class="strong strong"><strong>Manufacturer server</strong></span>,
 the device gets the FDO credentials, a set of certificates and keys to 
be installed on the operating system, and the Rendezvous server endpoint
 (URL). It also gets the Ownership Voucher, that is maintained 
separately in case you need to change the owner assignment.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Device client reads device credential
					</li><li class="listitem">
						Device client connects to network
					</li><li class="listitem">
						At an early point, the Owner management system informs the 
Manufacturer Rendezvous server about the location of the Owner 
management system
					</li><li class="listitem">
						After connecting to the network, the Device client contacts the Rendezvous Server
					</li><li class="listitem">
						The Rendezvous Server sends the owner endpoint URL to the Device 
Client, and registers the device. This action connects and boots the 
device.
					</li><li class="listitem">
						The Device client connects to the Owner management system shared 
by the Rendezvous Server, proves that it is the correct device by 
signing a statement with a device key
					</li><li class="listitem">
						The Owner management system proves itself by signing a statement with the last key of the Owner Voucher
					</li><li class="listitem">
						The Owner management system provides the configuration for the 
device, which the Device client stores for example, in an SSH key
					</li><li class="listitem">
						The Device client receives and verify the Ownership voucher
					</li><li class="listitem">
						Then, the Device client retrieves its device credentials
					</li><li class="listitem"><p class="simpara">
						After that, the Owner management system reports the Device client as onboarded
					</p><p class="simpara">
						The entire FDO process is done and no longer in use in this device.
					</p></li></ol></div></section><section class="section" id="con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h2 class="title">8.2. Automatically provisioning and onboarding RHEL for Edge devices</h2></div></div></div><p class="_abstract _abstract">
				To build a RHEL for Edge Simplified Installer image and 
automatically onboard it, provide an existing OSTree commit. The 
resulting simplified image contains a raw image that has the OSTree 
commit deployed. After you boot the Simplified installer ISO image, it 
provisions a RHEL for Edge system that you can use on a hard disk or as a
 boot image in a virtual machine.
			</p><p>
				The RHEL for Edge Simplified Installer image is optimized for 
unattended installation to a device and supports both network-base 
deployment and non-network-based deployments. However, for network-based
 deployment, it supports only UEFI HTTP boot.
			</p><p>
				Automatically provisioning and onboarding a RHEL for Edge device involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install image builder
					</li><li class="listitem"><p class="simpara">
						Using image builder, create a blueprint with customizations for RHEL for a <code class="literal">rhel-edge-container</code> image type.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6oc7s0f"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "rhel-edge-container"
description = "Minimal RHEL for Edge Container blueprint"
version = "0.0.1"</pre></div></div></li><li class="listitem">
						Import the RHEL for Edge Container blueprint in image builder
					</li><li class="listitem">
						Create a RHEL for Edge Container image
					</li><li class="listitem">
						Use the RHEL for Edge Container image to serve the OSTree commit, 
which will be later used when building the RHEL for Edge Simplified 
Installer image type
					</li><li class="listitem"><p class="simpara">
						Create a blueprint for and <code class="literal">edge-simplified-installer</code> image type with customizations for storage device path and FDO customizations
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--v5mqs2p"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "rhel-edge-simplified-installer-with-fdo"
description = "Minimal RHEL for Edge Simplified Installer with FDO blueprint"
version = "0.0.1"
packages = []
modules = []
groups = []
distro = ""

[customizations]
installation_device = "/dev/vda"

[customizations.fdo]
manufacturing_server_url = "http://10.0.0.2:8080"
diun_pub_key_insecure = "true"</pre></div></div></li><li class="listitem">
						Build a simplified installer RHEL for Edge image
					</li><li class="listitem">
						Download the RHEL for Edge simplified installer image
					</li><li class="listitem">
						At this point, the FDO server infrastructure should be up and running, and the specific onboarding details handled by the <code class="literal">service-info API</code> server, that is part of the owners infrastructure, are configured
					</li><li class="listitem">
						Install the simplified installer ISO image to a device. The FDO 
client runs on the Simplified Installer ISO and the UEFI directory 
structure makes the image bootable.
					</li><li class="listitem">
						The network configuration enables the device to reach out to the 
manufacturing server to perform the initial device credential exchange.
					</li><li class="listitem">
						After the system reaches the endpoint, the device credentials are created for the device.
					</li><li class="listitem">
						The device uses the device credentials to reach the Rendezvous 
server, where it checks the cryptographic credentials based on the 
vouchers that the Rendezvous server has, and then the Rendezvous server 
redirects the device to the Owner server.
					</li><li class="listitem">
						The device contacts the Owner server. They establish a mutual 
trust and the final steps of onboarding happen based on the 
configuration of the Service-info API server. For example, it installs 
the SSH keys in the device, transfer the files, create the users, run 
the commands, encrypt the filesystem, and so on.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands">FDO automatic onboarding technologies</a>
					</li></ul></div></section><section class="section" id="proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h2 class="title">8.3. Generating key and certificates</h2></div></div></div><p class="_abstract _abstract">
				To run the FIDO Device Onboarding (FDO) infrastructure, you need to 
generate keys and certificates. FDO generates these keys and 
certificates to configure the manufacturing server. FDO automatically 
generates the certificates and <code class="literal">.yaml</code> 
configuration files when you install the services, and re-creating them 
is optional. After you install and start the services, it runs with the 
default settings.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Red Hat provides the <code class="literal">fdo-admin-tool</code> 
tool as a Technology Preview feature and should run on secure networks. 
Technology Preview features are not supported with Red Hat production 
service level agreements (SLAs) and might not be functionally complete. 
These features provide early access to upcoming product features, 
enabling customers to test functionality and provide feedback during the
 development process. See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You installed the <code class="literal">fdo-admin-cli</code> RPM package
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a directory for the keys and certificates:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1twve80"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ mkdir /etc/fdo/keys</pre></div></div></li><li class="listitem"><p class="simpara">
						Generate the keys and certificates in the <code class="literal">/etc/fdo</code> directory:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ygx0jue"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ for i in "diun" "manufacturer" "device-ca" "owner"; do fdo-admin-tool generate-key-and-cert $i; done
$ ls keys
device_ca_cert.pem device_ca_key.der diun_cert.pem diun_key.der manufacturer_cert.pem manufacturer_key.der owner_cert.pem owner_key.der</pre></div></div></li><li class="listitem"><p class="simpara">
						Check the key and certificates that were created in the <code class="literal">/etc/fdo/keys</code> directory:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gceh9g5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ tree keys</pre></div></div><p class="simpara">
						You can see the following output:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pddatw5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"> device_ca_cert.pem
 device_ca_key.der
 diun_cert.pem
 diun_key.dre
 manufacturer_cert.pem
 manufacturer_key.der
 owner_cert.pem
 owner_key.pem</pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						See the <code class="literal">fdo-admin-tool generate-key-and-cert -help</code> manual page
					</li></ul></div></section><section class="section" id="proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h2 class="title">8.4. Installing and running the manufacturing server</h2></div></div></div><p class="_abstract _abstract">
				The <code class="literal">fdo-manufacturing-server</code> RPM 
package enables you to run the Manufacturing Server component of the FDO
 protocol. It also stores other components, such as the owner vouchers, 
the manufacturer keys, and information about the manufacturing sessions.
 During the device installation, the Manufacturing server generates the 
device credentials for the specific device, including its GUID, 
rendezvous information and other metadata. Later on in the process, the 
device uses this rendezvous information to contact the Rendezvous 
server.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Red Hat provides the <code class="literal">fdo-manufacturing-server</code>
 tool as a Technology Preview feature and should run on secure networks 
because Technology Preview features are not supported with Red Hat 
production service level agreements (SLAs) and might not be functionally
 complete. These features provide early access to upcoming product 
features, enabling customers to test functionality and provide feedback 
during the development process. See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><p>
				To install the <code class="literal">manufacturing server</code> RPM package, complete the following steps:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">fdo-admin-cli</code> package:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kn9i2o9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install -y fdo-admin-cli</pre></div></div></li><li class="listitem"><p class="simpara">
						Check if the <code class="literal">fdo-manufacturing-server</code> RPM package is installed:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dcja43c"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm -qa | grep fdo-manufacturing-server --refresh</pre></div></div></li><li class="listitem"><p class="simpara">
						Check if the files were correctly installed:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dx1uowm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ ls /usr/share/doc/fdo</pre></div></div><p class="simpara">
						You can see the following output:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--95p1ehq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">Output:
manufacturing-server.yml
owner-onboarding-server.yml
rendezvous-info.yml
rendezvous-server.yml
serviceinfo-api-server.yml</pre></div></div></li><li class="listitem"><p class="simpara">
						Optional: Check the content of each file, for example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--62jjehh"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cat /usr/share/doc/fdo/manufacturing-server.yml</pre></div></div></li><li class="listitem"><p class="simpara">
						Create a directory for each of the components: owner vouchers, manufacturer keys, and manufacturing sessions.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qjhvrhj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># mkdir -p /etc/fdo/stores/manufacturer_keys
# mkdir -p /etc/fdo/stores/manufacturing_sessions
# mkdir -p /etc/fdo/stores/owner_vouchers</pre></div></div></li><li class="listitem"><p class="simpara">
						Configure the Manufacturing server. You must provide the following information:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The Manufacturing server URL
							</li><li class="listitem">
								The IP address or DNS name for the Rendezvous server
							</li><li class="listitem"><p class="simpara">
								The path to the keys and certificates you generated. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices">Generating key and certificates</a>.
							</p><p class="simpara">
								You can find an example of a Manufacturing server configuration file in the <code class="literal">/usr/share/doc/fdo/manufacturing-server.yml</code> directory. The following is a <code class="literal">manufacturing server.yml</code> example that is created and saved in the <code class="literal">/etc/fdo</code>
 directory. It contains paths to the directories, certificates, keys 
that you created, the Rendezvous server IP address and the default port.
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7ly5bsp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><button title="Expand" class="codeblock__expand">Expand</button><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">session_store_driver:
  Directory:
    path: /etc/fdo/stores/manufacturing_sessions/
ownership_voucher_store_driver:
  Directory:
    path: /etc/fdo/stores/owner_vouchers
public_key_store_driver:
  Directory:
    path: /etc/fdo/stores/manufacturer_keys
bind: "0.0.0.0:8080"
protocols:
  plain_di: false
  diun:
    mfg_string_type: SerialNumber
    key_type: SECP384R1
    allowed_key_storage_types:
      - Tpm
      - FileSystem
    key_path: /etc/fdo/keys/diun_key.der
    cert_path: /etc/fdo/keys/diun_cert.pem
rendezvous_info:
  - deviceport: 8082
    ip_address: 192.168.122.99
    ownerport: 8082
    protocol: http
manufacturing:
  manufacturer_cert_path: /etc/fdo/keys/manufacturer_cert.pem
  device_cert_ca_private_key: /etc/fdo/keys/device_ca_key.der
  device_cert_ca_chain: /etc/fdo/keys/device_ca_cert.pem
  owner_cert_path: /etc/fdo/keys/owner_cert.pem
  manufacturer_private_key: /etc/fdo/keys/manufacturer_key.der</pre></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Start the Manufacturing server.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Check if the systemd unit file are in the server:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--j2hv8cr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl list-unit-files | grep fdo | grep manufacturing
fdo-manufacturing-server.service disabled disabled</pre></div></div></li><li class="listitem"><p class="simpara">
								Enable and start the manufacturing server.
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yvjz5lf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl enable --now fdo-manufacturing-server.service</pre></div></div></li><li class="listitem"><p class="simpara">
								Open the default ports in your firewall:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zlwfmbg"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># firewall-cmd --add-port=8080/tcp --permanent
# systemctl restart firewalld</pre></div></div></li><li class="listitem"><p class="simpara">
								Ensure that the service is listening on the port 8080:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k0eewze"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># ss -ltn</pre></div></div></li></ol></div></li><li class="listitem">
						Install RHEL for Edge onto your system using the simplified installer. See <a class="link" href="#building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" title="Chapter&nbsp;6.&nbsp;Building simplified installer images to provision a RHEL for Edge image">Building simplified installer images to provision a RHEL for Edge image</a>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <a class="link" href="https://github.com/fedora-iot/fido-device-onboard-rs/blob/main/examples/config/manufacturing-server.yml">manufacturing-server.yml example</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#ref_fdo-terminology_edge-terminology-and-commands">FDO automatic onboarding terminology</a>
					</li></ul></div></section><section class="section" id="proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h2 class="title">8.5. Installing, configuring, and running the Rendezvous server</h2></div></div></div><p>
				Install the <code class="literal">fdo-rendezvous-server</code> RPM 
package to enable the systems to receive the voucher generated by the 
Manufacturing server during the first device boot. The Rendezvous server
 then matches the device UUID with the target platform or cloud and 
informs the device about which Owner server endpoint the device must 
use.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a <code class="literal">manufacturer_cert.pem</code> certificate. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices">Generating key and certificates</a>.
					</li><li class="listitem">
						You copied the <code class="literal">manufacturer_cert.pem</code> certificate to the <code class="literal">/etc/fdo/keys</code> directory in the Rendezvous server.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">fdo-rendezvous-server</code> RPM packages:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--lif25g2"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install -y fdo-rendezvous-server</pre></div></div></li><li class="listitem"><p class="simpara">
						Create the directories to store the following directories: the 
registered directory, where the registered device owner vouchers will be
 hosted and the sessions directory:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--u01xza3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># mkdir -p /etc/fdo/stores/rendezvous_registered
# mkdir -p /etc/fdo/stores/rendezvous_sessions</pre></div></div></li><li class="listitem"><p class="simpara">
						Create the <code class="literal">rendezvous-server.yml</code> configuration file, including the path to the manufacturer certificate. You can find an example in <code class="literal">/usr/share/doc/fdo/rendezvous-server.yml</code>. The following example shows a configuration file that is saved in <code class="literal">/etc/fdo/rendezvous-server.yml</code>.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ps8lbmz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">storage_driver:
  Directory:
    path: /etc/fdo/stores/rendezvous_registered
session_store_driver:
  Directory:
    path: /etc/fdo/stores/rendezvous_sessions
trusted_manufacturer_keys_path: /etc/fdo/keys/manufacturer_cert.pem
max_wait_seconds: ~
bind: "0.0.0.0:8082"</pre></div></div></li><li class="listitem"><p class="simpara">
						Check the Rendezvous server service status:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wpd2y0o"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl list-unit-files | grep fdo | grep rende
fdo-rendezvous-server.service disabled disabled</pre></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								If the service is stopped and disabled, enable and start it:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--to36izy"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl enable --now fdo-rendezvous-server.service</pre></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Check that the server is listening on the default configured port 8082:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--jooqukc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># ss -ltn</pre></div></div></li><li class="listitem"><p class="simpara">
						Open the port if you have a firewall configured on this server:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dzye0ag"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># firewall-cmd --add-port=8082/tcp --permanent
# systemctl restart firewalld</pre></div></div></li></ol></div></section><section class="section" id="proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h2 class="title">8.6. Installing, configuring, and running the Owner server</h2></div></div></div><p>
				Install the <code class="literal">fdo-owner-cli</code> and <code class="literal">fdo-owner-onboarding-server</code>
 RPM package to enable the systems to receive the voucher generated by 
the Manufacturing server during the first device boot. The Rendezvous 
server then matches the device UUID with the target platform or cloud 
and informs the device about which Owner server endpoint the device must
 use.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The device where the server will be deployed has a Trusted 
Platform Module (TPM) device to encrypt the disk. If not, you will get 
an error when booting the RHEL for Edge device.
					</li><li class="listitem">
						You created the <code class="literal">device_ca_cert.pem</code>, <code class="literal">owner_key.der</code>, and <code class="literal">owner_cert.pem</code> with keys and certificates and copied them into the <code class="literal">/etc/fdo/keys</code> directory.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the required RPMs in this server:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--hxz840q"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install -y fdo-owner-cli fdo-owner-onboarding-server</pre></div></div></li><li class="listitem"><p class="simpara">
						Create the additional directories that the Owner server service needs:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bcl27l4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># mkdir -p /etc/fdo/stores/owner_vouchers
# mkdir -p /etc/fdo/stores/owner_onboarding_sessions</pre></div></div></li><li class="listitem"><p class="simpara">
						Prepare the <code class="literal">owner-onboarding-server.yml</code> configuration file and save it to the <code class="literal">/etc/fdo/</code>
 directory. Include the path to the certificates you already copied and 
information about where to publish the Owner server service in this 
file.
					</p><p class="simpara">
						The following is an example available in <code class="literal">/usr/share/doc/fdo/owner-onboarding-server.yml</code>. You can find references to the Service Info API, such as the URL or the authentication token.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--it99tan"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">---
ownership_voucher_store_driver:
  Directory:
    path: /etc/fdo/stores/owner_vouchers
session_store_driver:
  Directory:
    path: /etc/fdo/stores/owner_onboarding_sessions
trusted_device_keys_path: /etc/fdo/keys/device_ca_cert.pem
owner_private_key_path: /etc/fdo/keys/owner_key.der
owner_public_key_path: /etc/fdo/keys/owner_cert.pem
bind: "0.0.0.0:8081"
service_info_api_url: "http://localhost:8083/device_info"
service_info_api_authentication:
  BearerToken:
    token: Kpt5P/5flBkaiNSvDYS3cEdBQXJn2Zv9n1D50431/lo=
owner_addresses:
  - transport: http
    addresses:
      - ip_address: 192.168.122.149</pre></div></div></li><li class="listitem"><p class="simpara">
						Create and configure the Service Info API.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add the automated information for onboarding, such as user 
creation, files to be copied or created, commands to be executed, disk 
to be encrypted, and so on. Use the Service Info API configuration file 
example in <code class="literal">/usr/share/doc/fdo/serviceinfo-api-server.yml</code> as a template to create the configuration file under <code class="literal">/etc/fdo/</code>.
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bxyhpmk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><button title="Expand" class="codeblock__expand">Expand</button><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">---
service_info:
  initial_user:
    username: admin
    sshkeys:
    - "ssh-rsa AAAA...."
  files:
  - path: /root/resolv.conf
    source_path: /etc/resolv.conf
  commands:
  - command: touch
    args:
    - /root/test
    return_stdout: true
    return_stderr: true
  diskencryption_clevis:
  - disk_label: /dev/vda4
    binding:
      pin: tpm2
      config: "{}"
    reencrypt: true
  additional_serviceinfo: ~
bind: "0.0.0.0:8083"
device_specific_store_driver:
  Directory:
    path: /etc/fdo/stores/serviceinfo_api_devices
service_info_auth_token: Kpt5P/5flBkaiNSvDYS3cEdBQXJn2Zv9n1D50431/lo=
admin_auth_token: zJNoErq7aa0RusJ1w0tkTjdITdMCWYkndzVv7F0V42Q=</pre></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Check the status of the systemd units:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--82kn43k"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl list-unit-files | grep fdo
fdo-owner-onboarding-server.service        disabled        disabled
fdo-serviceinfo-api-server.service         disabled        disabled</pre></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								If the service is stopped and disabled, enable and start it:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5cozxdr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl enable --now fdo-owner-onboarding-server.service
# systemctl enable --now fdo-serviceinfo-api-server.service</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									You must restart the <code class="literal">systemd</code> services every time you change the configuration files.
								</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Check that the server is listening on the default configured port 8083:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8n1yrtq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># ss -ltn</pre></div></div></li><li class="listitem"><p class="simpara">
						Open the port if you have a firewall configured on this server:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--mfbby9r"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># firewall-cmd --add-port=8081/tcp --permanent
# firewall-cmd --add-port=8083/tcp --permanent
# systemctl restart firewalld</pre></div></div></li></ol></div></section><section class="section" id="proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h2 class="title">8.7. Automatically onboarding a RHEL for Edge device by using FDO authentication</h2></div></div></div><p class="_abstract _abstract">
				To prepare your device to automatically onboard a RHEL for Edge 
device and provision it as part of the installation process, complete 
the following steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You built an OSTree commit for RHEL for Edge and used that to generate an <code class="literal">edge-simplified-installer</code> artifact.
					</li><li class="listitem">
						Your device is assembled.
					</li><li class="listitem">
						You installed the <code class="literal">fdo-manufacturing-server</code> RPM package. See <a class="link" href="#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" title="8.4.&nbsp;Installing and running the manufacturing server">Installing the manufacturing server package</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Start the installation process by booting the RHEL for Edge 
simplified installer image on your device. You can install it from a 
CD-ROM or from a USB flash drive, for example.
					</li><li class="listitem"><p class="simpara">
						Verify through the terminal that the device has reached the 
manufacturing service to perform the initial device credential exchange 
and has produced an ownership voucher.
					</p><p class="simpara">
						You can find the ownership voucher at the storage location configured by the <code class="literal">ownership_voucher_store_driver:</code> parameter at the <code class="literal">manufacturing-sever.yml</code> file.
					</p><p class="simpara">
						The directory should have an <code class="literal">ownership_voucher</code> file with a name in the GUID format which indicates that the correct device credentials were added to the device.
					</p><p class="simpara">
						The onboarding server uses the device credential to authenticate 
against the onboarding server. It then passes the configuration to the 
device. After the device receives the configuration from the onboarding 
server, it receives an SSH key and installs the operating system on the 
device. Finally, the system automatically reboots, encrypts it with a 
strong key stored at TPM.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After the device automatically reboots, you can log in to the 
device with the credentials that you created as part of the FDO process.
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the device by providing the username and password you created in the Service Info API.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images#deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images">Deploying the Simplified ISO image from a USB flash drive</a>
					</li></ul></div></section></section><section class="chapter" id="installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Deploying a RHEL for Edge image in a network-base environment</h1></div></div></div><p class="_abstract _abstract">
			You can deploy a RHEL for Edge image using the RHEL installer 
graphical user interface or a Kickstart file. The overall process for 
deploying a RHEL for Edge image depends on whether your deployment 
environment is network-based or non-network-based.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				To deploy the images on bare metal, use a Kickstart file.
			</p></div></div><div class="formalpara"><p class="title"><strong>Network-based deployments</strong></p><p>
				Deploying a RHEL for Edge image in a network-based environment involves the following high-level steps:
			</p></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
					Extract the image file contents.
				</li><li class="listitem">
					Set up a web server
				</li><li class="listitem">
					Install the image
				</li></ol></div><section class="section" id="extracting-the-tar-file-commit_installing-rpm-ostree-images"><div class="titlepage"><div><div><h2 class="title">9.1. Extracting the RHEL for Edge image commit</h2></div></div></div><p class="_abstract _abstract">
				After you download the commit, extract the <code class="literal">.tar</code> file and note the ref name and the commit ID.
			</p><p>
				The downloaded commit file consists of a <code class="literal">.tar</code> file with an <code class="literal">OSTree</code> repository. The <code class="literal">OSTree</code> repository has a commit and a <code class="literal">compose.json</code> file.
			</p><p>
				The <code class="literal">compose.json</code> file has information 
metadata about the commit with information such as the "Ref", the 
reference ID and the commit ID. The commit ID has the RPM packages.
			</p><p>
				To extract the package contents, perform the following the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Create a Kickstart file or use an existing one.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Extract the downloaded image <code class="literal">.tar</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--hr73wlc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># tar xvf <span class="emphasis"><em>&lt;UUID&gt;</em></span>-commit.tar</pre></div></div></li><li class="listitem"><p class="simpara">
						Go to the directory where you have extracted the <code class="literal">.tar</code> file.
					</p><p class="simpara">
						It has a <code class="literal">compose.json</code> file and an OSTree directory. The <code class="literal">compose.json</code> file has the commit number and the <code class="literal">OSTree</code> directory has the RPM packages.
					</p></li><li class="listitem"><p class="simpara">
						Open the <code class="literal">compose.json</code> file and note the commit ID number. You need this number handy when you proceed to set up a web server.
					</p><p class="simpara">
						If you have the <code class="literal">jq</code> JSON processor installed, you can also retrieve the commit ID by using the <code class="literal">jq</code> tool:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--utu5ypk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># jq '.["ostree-commit"]' &lt; compose.json</pre></div></div></li><li class="listitem"><p class="simpara">
						List the RPM packages in the commit.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--rj4r3ee"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># rpm-ostree db list rhel/9/x86_64/edge --repo=repo</pre></div></div></li><li class="listitem"><p class="simpara">
						Use a Kickstart file to run the RHEL installer. Optionally, you 
can use any existing file or can create one by using the Kickstart 
Generator tool.
					</p><p class="simpara">
						In the Kickstart file, ensure that you include the details about 
how to provision the file system, create a user, and how to fetch and 
deploy the RHEL for Edge image. The RHEL installer uses this information
 during the installation process.
					</p><p class="simpara">
						The following is a Kickstart file example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ykgk4y4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">lang en_US.UTF-8
keyboard us
timezone Etc/UTC --isUtc
text
zerombr
clearpart --all --initlabel
autopart
reboot
user --name=core --group=wheel
sshkey --username=core "ssh-rsa AAAA3Nza."
rootpw --lock
network --bootproto=dhcp

ostreesetup --nogpg --osname=rhel --remote=edge --url=https://mirror.example.com/repo/ --ref=rhel/9/x86_64/edge</pre></div></div><p class="simpara">
						The OStree-based installation uses the <code class="literal">ostreesetup</code> command to set up the configuration. It fetches the OSTree commit, by using the following flags:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">--nogpg</code> - Disable GNU Privacy Guard (GPG) key verification.
							</li><li class="listitem">
								<code class="literal">--osname</code> - Management root for the operating system installation.
							</li><li class="listitem">
								<code class="literal">--remote</code> - Management root for the operating system installation
							</li><li class="listitem">
								<code class="literal">--url</code> - URL of the repository to install from.
							</li><li class="listitem">
								<code class="literal">--ref</code> - Name of the branch from the repository that the installation uses.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">--url=http://mirror.example.com/repo/</code> - is the address of the host system where you extracted the edge commit and served over <code class="literal">nginx</code>. You can use the address to reach the host system from the guest computer.
							</p><p class="simpara">
								For example, if you extract the commit image in the <code class="literal">/var/www/html</code> directory and serve the commit over <code class="literal">nginx</code> on a computer whose hostname is <code class="literal">www.example.com</code>, the value of the <code class="literal">--url</code> parameter is <code class="literal">http://www.example.com/repo</code>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Use the http protocol to start a service to serve the commit, because https is not enabled on the Apache HTTP Server.
								</p></div></div></li></ul></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_an_advanced_rhel_9_installation/creating-kickstart-files_installing-rhel-as-an-experienced-user">Creating Kickstart files</a>
					</li></ul></div></section><section class="section" id="setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images"><div class="titlepage"><div><div><h2 class="title">9.2. Setting up a web server to install RHEL for Edge images</h2></div></div></div><p class="_abstract _abstract">
				After you have extracted the RHEL for Edge image contents, set up a 
web server to provide the image commit details to the RHEL installer by 
using HTTP.
			</p><p>
				The following example provides the steps to set up a web server by using a container.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed Podman on your system. See <a class="link" href="https://access.redhat.com/solutions/3650231">How do I install Podman in RHEL</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the <code class="literal">nginx</code> configuration file with the following instructions:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--00yh7ic"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">events {

}

http {
    server{
        listen 8080;
        root /usr/share/nginx/html;
                }
         }

pid /run/nginx.pid;
daemon off;</pre></div></div></li><li class="listitem"><p class="simpara">
						Create a Dockerfile with the following instructions:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--27kqzqw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">FROM registry.access.redhat.com/ubi8/ubi
RUN dnf -y install nginx &amp;&amp; dnf clean all
COPY kickstart.ks /usr/share/nginx/html/
COPY repo /usr/share/nginx/html/
COPY nginx /etc/nginx.conf
EXPOSE 8080
CMD ["/usr/sbin/nginx", "-c", "/etc/nginx.conf"]
ARG commit
ADD ${commit} /usr/share/nginx/html/</pre></div></div><p class="simpara">
						Where,
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<code class="literal"><span class="emphasis"><em>kickstart.ks</em></span></code>
 is the name of the Kickstart file from the RHEL for Edge image. The 
Kickstart file includes directive information. To help you manage the 
images later, it is advisable to include the checks and settings for 
Greenboot checks. For that, you can update the Kickstart file to include
 the following settings:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--lxoot9c"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><button title="Expand" class="codeblock__expand">Expand</button><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">lang en_US.UTF-8
keyboard us
timezone Etc/UTC --isUtc
text
zerombr
clearpart --all --initlabel
autopart
reboot
user --name=core --group=wheel
sshkey --username=core "ssh-rsa AAAA3Nza."

ostreesetup --nogpg --osname=rhel --remote=edge
--url=https://mirror.example.com/repo/
--ref=rhel/9/x86_64/edge

%post
cat &lt;&lt; EOF &gt; /etc/greenboot/check/required.d/check-dns.sh
#!/bin/bash

DNS_SERVER=$(grep nameserver /etc/resolv.conf | cut -f2 -d" ")
COUNT=0

# check DNS server is available
ping -c1 $DNS_SERVER
while [ $? != '0' ] &amp;&amp; [ $COUNT -lt 10 ]; do

							
							<a id="idm140115500097792" class="indexterm"></a>
							
							COUNT++
echo "Checking for DNS: Attempt $COUNT ."
sleep 10
ping -c 1 $DNS_SERVER
done
EOF
%end</pre></div></div><p class="simpara">
								Any HTTP service can host the OSTree repository, and the 
example, which uses a container, is just an option for how to do this. 
The Dockerfile performs the following tasks:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										Uses the latest Universal Base Image (UBI)
									</li><li class="listitem">
										Installs the web server (nginx)
									</li><li class="listitem">
										Adds the Kickstart file to the server
									</li><li class="listitem">
										Adds the RHEL for Edge image commit to the server
									</li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Build a Docker container
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ity538s"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># podman build -t <span class="emphasis"><em>name-of-container-image</em></span> --build-arg commit=<span class="emphasis"><em>uuid</em></span>-commit.tar .</pre></div></div></li><li class="listitem"><p class="simpara">
						Run the container
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--inxt8g8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># podman run --rm -d -p <span class="emphasis"><em>port</em></span>:8080 localhost/<span class="emphasis"><em>name-of-container-image</em></span></pre></div></div><p class="simpara">
						As a result, the server is set up and ready to start the RHEL Installer by using the <code class="literal">commit.tar</code> repository and the Kickstart file.
					</p></li></ol></div></section><section class="section" id="downloading-rhel-boot-iso-image_installing-rpm-ostree-images"><div class="titlepage"><div><div><h2 class="title">9.3. Downloading RHEL Boot ISO image</h2></div></div></div><p class="_abstract _abstract">
				You can download a Red Hat Boot ISO image from the Red Hat Customer 
Portal. The Red Hat Boot ISO image is used to launch the RHEL installer.
 The installer fetches the Kickstart file that you provide for 
installing RHEL for Edge images.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have an active Red Hat subscription.
					</li><li class="listitem">
						You are logged in to the Product Downloads section of the Red Hat Customer Portal at <a class="link" href="https://access.redhat.com/downloads">https://access.redhat.com/downloads</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open a browser and access <a class="link" href="https://access.redhat.com/downloads">https://access.redhat.com/downloads</a>.
					</li><li class="listitem">
						Under Infrastructure Management, click the <code class="literal">Red Hat Enterprise Linux 9</code> Product.
					</li><li class="listitem">
						Click the <span class="guibutton">Download Now</span> button for the option " Red Hat Enterprise Linux 9 Boot ISO"
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li></ul></div></section><section class="section" id="installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images"><div class="titlepage"><div><div><h2 class="title">9.4. Installing the RHEL for Edge image using a Kickstart file</h2></div></div></div><p class="_abstract _abstract">
				To install the RHEL for Edge image that uses a Kickstart file, use 
the web server. The web server uses the RHEL for Edge image <code class="literal">commit.tar</code> repository and the Kickstart file to start the RHEL Installer.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The server to fetch the commit in the RHEL Installer is available and running.
					</li><li class="listitem">
						A <code class="literal">.qcow2</code> disk image to install the commit you created. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#creating-a-system-image-with-composer-in-the-command-line-interface_creating-system-images-with-composer-command-line-interface">Creating a system image with image builder in the CLI</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Run the RHEL Anaconda Installer by using <code class="literal">libvirt virt-install</code>:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0hor9iw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">virt-install \
--name rhel-edge-test-1 \
--memory 2048 \
--vcpus 2 \
--disk path=prepared_disk_image.qcow2,format=qcow2,size=8 \
--os-variant rhel9 \
--cdrom /home/username/Downloads/rhel-9-x86_64-boot.iso</pre></div></div></li><li class="listitem"><p class="simpara">
						On the installation screen:
					</p><div class="figure" id="non-network-based_installing-rpm-ostree-images"><p class="title">Figure 9.1. Red Hat Enterprise Linux boot menu</p><div class="figure-contents"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/8f5c464e3fdb798e591185beecd98379/rhel-8.6-boot.png" class="rh_docs--zoom" title="The Red Hat Enterprise Linux boot menu"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rhel-8.6-boot.png" alt="The Red Hat Enterprise Linux boot menu"></a></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Press the <span class="guibutton">e</span> key to add an additional kernel parameter:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--eacwpkc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">inst.ks=http://edge_device_ip:port/kickstart.ks</pre></div></div><p class="simpara">
								The kernel parameter specifies that you want to install RHEL by 
using the Kickstart file and not the RHEL image contained in the RHEL 
Installer.
							</p></li><li class="listitem"><p class="simpara">
								After adding the kernel parameters, press <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>X</strong></span> to boot the RHEL installation by using the Kickstart file.
							</p><p class="simpara">
								The RHEL Installer starts, fetches the Kickstart file from the 
server (HTTP) endpoint and executes the commands, including the command 
to install the RHEL for Edge image commit from the HTTP endpoint. After 
the installation completes, the RHEL Installer prompts you for login 
details.
							</p></li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the Login screen, enter your user account credentials and click <span class="guibutton">Enter</span>.
					</li><li class="listitem"><p class="simpara">
						Verify whether the RHEL for Edge image is successfully installed.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vwwmats"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen white-space-pre language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
						The command output provides the image commit ID and shows that the installation is successful.
					</p><p class="simpara">
						Following is a sample output:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--j5bhlvd"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">State: idle
Deployments:
* ostree://edge:rhel/9/x86_64/edge
		  Timestamp: 2020-09-18T20:06:54Z
			Commit: 836e637095554e0b634a0a48ea05c75280519dd6576a392635e6fa7d4d5e96</pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/60959">How to embed a Kickstart file into an ISO image</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_a_standard_rhel_8_installation/index#boot-menu_booting-the-installer">Booting the installation</a>.
					</li></ul></div></section></section><section class="chapter" id="assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Deploying a RHEL for Edge image in a non-network-base environment</h1></div></div></div><p class="_abstract _abstract">
			The RHEL for Edge Container (<code class="literal">.tar</code>) in combination with the RHEL for Edge Installer (<code class="literal">.iso</code>)
 image type result in a ISO image. The ISO image can be used in 
disconnected environments during the image deployment to a device. 
However, network access might require network access to build the 
different artifacts.
		</p><p>
			Deploying a RHEL for Edge image in a non-network-based environment involves the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Download the RHEL for Edge Container. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a> for information about how to download the RHEL for Edge image.
				</li><li class="listitem">
					Load the RHEL for Edge Container image into Podman
				</li><li class="listitem">
					Run the RHEL for Edge Container image into Podman
				</li><li class="listitem">
					Load the RHEL for Edge Installer blueprint
				</li><li class="listitem">
					Build the RHEL for Edge Installer image
				</li><li class="listitem">
					Prepare a <code class="literal">.qcow2</code> disk
				</li><li class="listitem">
					Boot the Virtual Machine (VM)
				</li><li class="listitem">
					Install the image
				</li></ol></div><section class="section" id="building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image"><div class="titlepage"><div><div><h2 class="title">10.1. Creating a RHEL for Edge Container image for non-network-based deployments</h2></div></div></div><p class="_abstract _abstract">
				You can build a running container by loading the downloaded RHEL for
 Edge Container OSTree commit into Podman. For that, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created and downloaded a RHEL for Edge Container OSTree commit.
					</li><li class="listitem">
						You have installed <code class="literal">Podman</code> on your system. See <a class="link" href="https://access.redhat.com/solutions/3650231">How do I install Podman in RHEL</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Navigate to the directory where you have downloaded the RHEL for Edge Container OSTree commit.
					</li><li class="listitem"><p class="simpara">
						Load the RHEL for Edge Container OSTree commit into <code class="literal">Podman</code>.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--y7rykp6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo podman load -i <span class="emphasis"><em>UUID</em></span>-container.tar</pre></div></div><p class="simpara">
						The command output provides the image ID, for example: <code class="literal">@8e0d51f061ff1a51d157804362bc875b649b27f2ae1e66566a15e7e6530cec63</code>
					</p></li><li class="listitem"><p class="simpara">
						Tag the new RHEL for Edge Container image, using the image ID generated by the previous step.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wx2d68k"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo podman tag <span class="emphasis"><em>image-ID</em></span> <span class="emphasis"><em>localhost/edge-container</em></span></pre></div></div><p class="simpara">
						The <code class="literal">podman tag</code> command assigns an additional name to the local image.
					</p></li><li class="listitem"><p class="simpara">
						Run the container named <code class="literal">edge-container</code>.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4m3qody"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo podman run -d --name=<span class="emphasis"><em>edge-container</em></span> -p 8080:8080 <span class="emphasis"><em>localhost/edge-container</em></span></pre></div></div><p class="simpara">
						The <code class="literal">podman run -d --name=edge-container</code> command assigns a name to your container-based on the <code class="literal">localhost/edge-container</code> image.
					</p></li><li class="listitem"><p class="simpara">
						List containers:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--n3m2f8w"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo podman ps -a
CONTAINER ID  IMAGE                               	COMMAND	CREATED    	STATUS                	PORTS   NAMES
2988198c4c4b  ./localhost/edge-container   /bin/bash  3 seconds ago  Up 2 seconds ago      	edge-container</pre></div></div></li></ol></div><p>
				As a result, <code class="literal">Podman</code> runs a container that serves an OSTree repository with the RHEL for Edge Container commit.
			</p></section><section class="section" id="deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image"><div class="titlepage"><div><div><h2 class="title">10.2. Creating a RHEL for Edge Installer image for non-network-based deployments</h2></div></div></div><p class="_abstract _abstract">
				After you have built a running container to serve a repository with the <code class="literal">RHEL for Edge Container</code> commit, create an <code class="literal">RHEL for Edge Installer (.iso)</code> image. The <code class="literal">RHEL for Edge Installer (.iso)</code> pulls the commit served by <code class="literal">RHEL for Edge Container (.tar)</code>. After the <code class="literal">RHEL for Edge Container</code> commit is loaded in Podman, it exposes the <code class="literal">OSTree</code> in the URL format.
			</p><p>
				To create the RHEL for Edge Installer image in the CLI, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint for RHEL for Edge image.
					</li><li class="listitem">
						You created a RHEL for Edge Edge Container image and deployed it using a web server.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Begin to create the RHEL for Edge Installer image.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--xx8yzi2"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><p class="simpara">
						Where,
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="emphasis"><em>ref</em></span> is the same value that customer used to build ostree repository
							</li><li class="listitem">
								<span class="emphasis"><em>URL-OSTree-repository</em></span> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
							</li><li class="listitem">
								<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge Installer blueprint name.
							</li><li class="listitem"><p class="simpara">
								<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-installer</code>.
							</p><p class="simpara">
								A confirmation that the composer process has been added to the 
queue appears. It also shows a Universally Unique Identifier (UUID) 
number for the image created. Use the UUID number to track your build. 
Also keep the UUID number handy for further tasks.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Check the image compose status.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--fzm8yns"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
						The command output displays the status in the following format:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kcipzj8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The image creation process takes a few minutes to complete.
						</p></div></div><p class="simpara">
						To interrupt the image creation process, run:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--rp1qewa"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
						To delete an existing image, run:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--skz3g95"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div><p class="simpara">
						Image builder pulls the commit that is being served by the running container during the image build.
					</p><p class="simpara">
						After the image build is complete, you can download the resulting ISO image.
					</p></li><li class="listitem"><p class="simpara">
						Download the image. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line">Downloading a RHEL for Edge image.</a>
					</p><p class="simpara">
						After the image is ready, you can use it for <span class="strong strong"><strong>non-network deployments</strong></span>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Installing the RHEL for Edge image for non-network-based deployments</a>.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line">Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments</a>.
					</li></ul></div></section><section class="section" id="installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image"><div class="titlepage"><div><div><h2 class="title">10.3. Installing the RHEL for Edge image for non-network-based deployments</h2></div></div></div><p class="_abstract _abstract">
				To install the RHEL for Edge image, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a RHEL for Edge Installer ISO image.
					</li><li class="listitem">
						You stopped the running container.
					</li><li class="listitem">
						A disk image to install the commit you created.
					</li><li class="listitem">
						You installed the <code class="literal">edk2-ovmf</code> package.
					</li><li class="listitem">
						You installed the <code class="literal">virt-viewer</code> package.
					</li><li class="listitem"><p class="simpara">
						You customized your blueprint with a user account. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#creating-an-administrative-user-account-for-a-rhel-for-edge-image-blueprint_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Creating an administrative user account for a RHEL for Edge image blueprint</a>.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							If you do not define a user account customization in your blueprint, you will not be able to login to the ISO image.
						</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">qcow</code> VM disk file to install the (.iso) image. That is an image of a hard drive for the virtual machine (VM). For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2k9hzze"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ qemu-img create -f qcow2 <span class="emphasis"><em>diskfile</em></span>.qcow2 20G</pre></div></div></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">virt-install</code> command to boot the VM using the disk as a drive and the installer ISO as a CD-ROM. For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vey8c1i"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ virt-install \
--boot uefi \
--name <span class="emphasis"><em>VM_NAME</em></span>
--memory 2048 \
--vcpus 2 \
--disk path=<span class="emphasis"><em>diskfile.qcow2</em></span>
--cdrom /var/lib/libvirt/images/<span class="emphasis"><em>UUID</em></span>-installer.iso \
--os-variant rhel9.0</pre></div></div><p class="simpara">
						This command instructs <code class="literal">virt-install</code> to:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Instructs the VM to use UEFI to boot, instead of the BIOS.
							</li><li class="listitem">
								Mount the installation ISO.
							</li><li class="listitem"><p class="simpara">
								Use the hard drive image created in the first step.
							</p><p class="simpara">
								It gives you an Anaconda Installer. The RHEL Installer starts, 
loads the Kickstart file from the ISO and executes the commands, 
including the command to install the RHEL for Edge image commit. Once 
the installation is complete, the installer prompts for login details.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Anaconda is preconfigured to use the Container commit during 
the installation. However, you need to set up system configurations, 
such as disk partition, timezone, between others.
								</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Connect to Anaconda GUI with <code class="literal">virt-viewer</code> to setup the system configuration:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--510ou7p"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ virt-viewer --connect qemu:///system --wait VM_NAME</pre></div></div></li><li class="listitem">
						Reboot the system to finish the installation.
					</li><li class="listitem">
						On the login screen, specify your user account credentials and click <span class="guibutton">Enter</span>.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification steps</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify whether the RHEL for Edge image is successfully installed.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dshgvum"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$  rpm-ostree status</pre></div></div></li></ol></div><p>
				The command output provides the image commit ID and shows that the installation is successful.
			</p></section></section><section class="chapter" id="managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Managing RHEL for Edge images</h1></div></div></div><p class="_abstract _abstract">
			To manage the RHEL for Edge images, you can perform any of the following administrative tasks:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Edit the RHEL for Edge image blueprint by using image builder in RHEL web console or in the command-line
				</li><li class="listitem">
					Build a commit update by using image builder command-line
				</li><li class="listitem">
					Update the RHEL for Edge images
				</li><li class="listitem">
					Configure <code class="literal">rpm-ostree</code> remotes on nodes, to update node policy
				</li><li class="listitem">
					Restore RHEL for Edge images manually or automatically by using greenboot
				</li></ul></div><section class="section" id="editing_a_rhel_for_edge_image_blueprint_by_using_image_builder"><div class="titlepage"><div><div><h2 class="title">11.1. Editing a RHEL for Edge image blueprint by using image builder</h2></div></div></div><p>
				You can edit the RHEL for Edge image blueprint to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Add additional components that you might require
					</li><li class="listitem">
						Modify the version of any existing component
					</li><li class="listitem">
						Remove any existing component
					</li></ul></div><section class="section" id="adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.1.1. Adding a component to RHEL for Edge image blueprint using image builder in RHEL web console</h3></div></div></div><p class="_abstract _abstract">
					To add a component to a RHEL for Edge image blueprint, ensure that 
you have met the following prerequisites and then follow the procedure 
to edit the corresponding blueprint.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							On a RHEL system, you have accessed the image builder dashboard.
						</li><li class="listitem">
							You have created a blueprint for RHEL for Edge image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the image builder dashboard, click the blueprint that you want to edit.
						</p><p class="simpara">
							To search for a specific blueprint, enter the blueprint name in the filter text box, and click <span class="guibutton">Enter</span>.
						</p></li><li class="listitem"><p class="simpara">
							On the upper right side of the blueprint, click <span class="guibutton">Edit Packages</span>.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Edit blueprints</strong></span> wizard opens.
						</p></li><li class="listitem">
							On the <span class="strong strong"><strong>Details</strong></span> page, update the blueprint name and click <span class="guibutton">Next</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Packages</strong></span> page, follow the steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>Available Packages</strong></span>, enter the package name that you want to add in the filter text box, and click <span class="guibutton">Enter</span>.
								</p><p class="simpara">
									A list with the component name appears.
								</p></li><li class="listitem">
									Click <span class="guibutton">&gt;</span> to add the component to the blueprint.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Review</strong></span> page, click <span class="guibutton">Save</span>.
						</p><p class="simpara">
							The blueprint is now updated with the new package.
						</p></li></ol></div></section><section class="section" id="removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.1.2. Removing a component from RHEL for Edge image blueprint using image builder in RHEL web console</h3></div></div></div><p class="_abstract _abstract">
					To remove one or more unwanted components from a RHEL for Edge 
image blueprint that you created, ensure that you have met the following
 prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							On a RHEL system, you have accessed the image builder dashboard.
						</li><li class="listitem">
							You have created a blueprint for RHEL for Edge image.
						</li><li class="listitem">
							You have added at least one component to the RHEL for Edge blueprint.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the image builder dashboard, click the blueprint that you want to edit.
						</p><p class="simpara">
							To search for a specific blueprint, enter the blueprint name in the filter text box, and click <span class="guibutton">Enter</span>.
						</p></li><li class="listitem"><p class="simpara">
							On the upper right side of the blueprint, click <span class="guibutton">Edit Packages</span>.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Edit blueprints</strong></span> wizard opens.
						</p></li><li class="listitem">
							On the <span class="strong strong"><strong>Details</strong></span> page, update the blueprint name and click <span class="guibutton">Next</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Packages</strong></span> page, follow the steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the <span class="strong strong"><strong>Chosen packages</strong></span>, click <span class="guibutton">&lt;</span> to remove the chosen component. You can also click <span class="guibutton">&lt;&lt;</span> to remove all the packages at once.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Review</strong></span> page, click <span class="guibutton">Save</span>.
						</p><p class="simpara">
							The blueprint is now updated.
						</p></li></ol></div></section><section class="section" id="editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.1.3. Editing a RHEL for Edge image blueprint using command-line interface</h3></div></div></div><p class="_abstract _abstract">
					You can change the specifications for your RHEL for Edge image 
blueprint using image builder command-line. To do so, ensure that you 
have met the following prerequisites and then follow the procedure to 
edit the corresponding blueprint.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have access to the image builder command-line.
						</li><li class="listitem">
							You have created a RHEL for Edge image blueprint.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Save (export) the blueprint to a local text file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--lj3ez6k"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints save BLUEPRINT-NAME</pre></div></div></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">BLUEPRINT-NAME.toml</code> file with a text editor of your choice and make your changes.
						</p><p class="simpara">
							Before finishing with the edits, verify that the file is a valid blueprint:
						</p></li><li class="listitem"><p class="simpara">
							Increase the version number.
						</p><p class="simpara">
							Ensure that you use a Semantic Versioning scheme.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								if you do not change the version, the patch component of the version is increased automatically.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Check if the contents are valid TOML specifications. See the TOML documentation for more information.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								TOML documentation is a community product and is not supported by Red Hat. You can report any issues with the tool at <a class="link" href="https://github.com/toml-lang/toml/issues">https://github.com/toml-lang/toml/issues</a>.
							</p></div></div></li><li class="listitem">
							Save the file and close the editor.
						</li><li class="listitem"><p class="simpara">
							Push (import) the blueprint back into image builder command-line:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--xesr8yc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push BLUEPRINT-NAME.toml</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When pushing the blueprint back into the image builder command-line, provide the file name including the <code class="literal">.toml</code> extension.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Verify that the contents uploaded to image builder match your edits:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--73xucwb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show BLUEPRINT-NAME</pre></div></div></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ylmhd3v"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve BLUEPRINT-NAME</pre></div></div></li></ol></div></section></section><section class="section" id="updating_rhel_for_edge_images"><div class="titlepage"><div><div><h2 class="title">11.2. Updating RHEL for Edge images</h2></div></div></div><section class="section" id="how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.2.1. How are RHEL for Edge image updates deployed</h3></div></div></div><p class="_abstract _abstract">
					With RHEL for Edge images, you can either deploy the updates 
manually or can automate the deployment process. The updates are applied
 in an atomic manner, where the state of each update is known, and the 
updates are staged and applied only upon reboot. Because no changes are 
seen until you reboot the device, you can schedule a reboot to ensure 
the highest possible uptime.
				</p><p>
					During the image update, only the updated operating system content 
is transferred over the network. This makes the deployment process more 
efficient compared to transferring the entire image. The operating 
system binaries and libraries in <code class="literal">/usr</code> are <code class="literal">read-only</code>, and the <code class="literal">read and write</code> state is maintained in <code class="literal">/var</code> and <code class="literal">/etc</code> directories.
				</p><p>
					When moving to a new deployment, the <code class="literal">/etc</code> and the <code class="literal">/var</code> directories are copied to the new deployment with <code class="literal">read and write</code> permissions. The <code class="literal">/usr</code> directory is copied as a soft link to the new deployment directory, with <code class="literal">read-only</code> permissions.
				</p><p>
					The following diagram illustrates the RHEL for Edge image update deployment process:
				</p><div class="informalfigure"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/fce86ffb0e9c5a01ceed74d72d223153/edge-os-upgrade.png" class="rh_docs--zoom" title="Image Deployment"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/edge-os-upgrade.png" alt="Image Deployment"></a></div></div><p>
					By default, the new system is booted using a procedure similar to a <code class="literal">chroot</code> operation. The new <code class="literal">/sysroot</code> directory mainly has the following parts:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Repository database at the <code class="literal">/sysroot/ostree/repo</code> directory.
						</li><li class="listitem">
							File system revisions at the <code class="literal">/sysroot/ostree/deploy/rhel/deploy</code> directory, which are created by each operation in the system update.
						</li><li class="listitem">
							The <code class="literal">/sysroot/ostree/boot</code> directory, which links to deployments on the previous point. Note that <code class="literal">/ostree</code> is a soft link to <code class="literal">/sysroot/ostree</code>. The files from the <code class="literal">/sysroot/ostree/boot</code>
 directory are not duplicated. The same file is used if it is not 
changed during the deployment. The files are hard-links to another file 
stored in the <code class="literal">/sysroot/ostree/repo/objects</code> directory.
						</li></ul></div><p>
					The operating system selects the deployment in the following way:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The <code class="literal">dracut</code> tool parses the <code class="literal">ostree</code> kernel argument in the <code class="literal">initramfs root</code> file system and sets up the <code class="literal">/usr</code> directory as a <code class="literal">read-only</code> bind mount.
						</li><li class="listitem">
							Bind the deployment directory in <code class="literal">/sysroot</code> to <code class="literal">/</code> directory.
						</li><li class="listitem">
							Re-mount the operating system already mounted <code class="literal">dirs</code> using the <code class="literal">MS_MOVE</code> mount flag
						</li></ol></div><p>
					If anything goes wrong, you can perform a deployment rollback by removing the old deployments with the <code class="literal">rpm-ostree</code> cleanup command. Each client machine contains an <code class="literal">OSTree</code> repository stored in <code class="literal">/ostree/repo</code>, and a set of deployments stored in <code class="literal">/ostree/deploy/$STATEROOT/$CHECKSUM</code>.
				</p><p>
					With the deployment updates in RHEL for Edge image, you can benefit
 from a better system consistency across multiple devices, easier 
reproducibility, and better isolation between the pre and post system 
states change.
				</p></section><section class="section" id="proc_building-a-commit-update_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.2.2. Building a commit update</h3></div></div></div><p>
					You can build a commit update after making a change in the blueprint, such as:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Adding an additional package that your system requires
						</li><li class="listitem">
							Modifying the package version of any existing component
						</li><li class="listitem">
							Removing any existing package.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have updated a system which is running image builder.
						</li><li class="listitem">
							You created a blueprint update.
						</li><li class="listitem">
							You have previously created an OSTree repository and served it through HTTP. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge images</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Start the compose of the new commit image, with the following arguments: <code class="literal">--url</code>, <code class="literal">--ref</code>, <code class="literal"><span class="emphasis"><em>blueprint-name</em></span></code>, <code class="literal">edge-commit</code>.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ntawaye"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref rhel/9/x86_64/edge --url http://localhost:8080/repo <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span> edge-commit</pre></div></div><p class="simpara">
							The command instructs the compose process to fetch the metadata 
from the OStree repo before starting the compose. The resulting new 
OSTree commit contains a reference of the original OSTree commit as a 
parent image.
						</p></li><li class="listitem"><p class="simpara">
							After the compose process finishes, fetch the <code class="literal">.tar</code> file.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dcr0dgj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Extract the commit to a temporary directory, so that you can store the commit history in the OSTree repo.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k92wv1t"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ tar -xf <span class="emphasis"><em>UUID</em></span>.tar -C /var/tmp</pre></div></div></li><li class="listitem"><p class="simpara">
							Inspect the resulting OSTree repo commit, by using the <code class="literal">tar -xf</code> command. It extracts the tar file to disk so you can inspect the resulting OSTree repo:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7y4sg1y"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ ostree --repo=/var/tmp/repo log rhel/9/x86_64/edge
commit d523ef801e8b1df69ddbf73ce810521b5c44e9127a379a4e3bba5889829546fa
Parent:  f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91
ContentChecksum:  f0f6703696331b661fa22d97358db48ba5f8b62711d9db83a00a79b3ae0dfe16
Date:  2023-06-04 20:22:28 /+0000
Version: 9</pre></div></div><p class="simpara">
							In the output example, there is a single OSTree commit in the 
repo that references a parent commit. The parent commit is the same 
checksum from the original OSTree commit that you previously made.
						</p></li><li class="listitem"><p class="simpara">
							Merge the two commits by using the <code class="literal">ostree pull-local</code> command:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--m6fr8e7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo ostree --repo=/var/srv/httpd/repo pull-local /var/tmp/repo
20 metadata, 22 content objects imported; 0 bytes content written</pre></div></div><p class="simpara">
							This command copies any new metadata and content from the location on the disk, for example, <code class="literal">/var/tmp</code>, to a destination OSTree repo in <code class="literal">/var/srv/httpd</code>.
						</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Inspect the target OSTree repo:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ly0edzo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ ostree --repo=/var/srv/httpd/repo log rhel/9/x86_64/edge
commit d523ef801e8b1df69ddbf73ce810521b5c44e9127a379a4e3bba5889829546fa
Parent:  f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91
ContentChecksum:  f0f6703696331b661fa22d97358db48ba5f8b62711d9db83a00a79b3ae0dfe16
Date:  2023-06-04 20:22:28 /+0000
Version: 9
(no subject)

commit f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91
ContentChecksum:  9054de3fe5f1210e3e52b38955bea0510915f89971e3b1ba121e15559d5f3a63
Date:  2023-06-04 20:01:08 /+0000
Version: 9
(no subject)</pre></div></div><p class="simpara">
							You can see that the target OSTree repo now contains two commits 
in the repository, in a logical order. After successful verification, 
you can update your RHEL for Edge system.
						</p></li></ol></div></section><section class="section" id="deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.2.3. Deploying RHEL for Edge image updates manually</h3></div></div></div><p class="_abstract _abstract">
					After you have edited a RHEL for Edge blueprint, you can update the
 image commit. Image builder generates a new commit for the updated RHEL
 for Edge image. Use this new commit to deploy the image with latest 
package versions or with additional packages.
				</p><p>
					To deploy RHEL for Edge images updates, ensure that you meet the prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							On a RHEL system, you have accessed the image builder dashboard.
						</li><li class="listitem">
							You have created a RHEL for Edge image blueprint.
						</li><li class="listitem">
							You have edited the RHEL for Edge image blueprint. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images#editing_a_rhel_for_edge_image_blueprint_using_image_builder_in_rhel_web_console">Editing a RHEL for Edge image blueprint using image builder in RHEL web console</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							On the image builder dashboard click <span class="guibutton">Create Image</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Create Image</strong></span> window, perform the following steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the Image output page:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown list, select the blueprint that you edited.
										</li><li class="listitem">
											From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <code class="literal">RHEL for Edge Commit (.tar)</code>. Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											In the <span class="strong strong"><strong>Repository URL</strong></span> field, enter the URL to the OSTree repository of the commit to embed in the image. For example, <a class="link" href="http://10.0.2.2:8080/repo/">http://10.0.2.2:8080/repo/</a>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Parent commit</strong></span> field, specify the parent commit ID that was previously generated. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images">Extracting RHEL for Edge image commit</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Ref</strong></span> field, you can either specify a name for your commit or leave it empty. By default, the web console specifies the <code class="literal">Ref</code> as <code class="literal">rhel/9/arch_name/edge</code>. Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>Review</strong></span> page, check the customizations and click <span class="guibutton">Create image</span>.
 Image builder starts to create a RHEL for Edge image for the updated 
blueprint. The image creation process takes a few minutes to complete.
								</p><p class="simpara">
									To view the RHEL for Edge image creation progress, click the blueprint name from the breadcrumbs, and then click the <span class="strong strong"><strong>Images</strong></span> tab.
								</p><p class="simpara">
									The resulting image includes the latest packages that you have added, if any, and have the original <code class="literal">commit ID</code> as a parent.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Download the resulting RHEL for Edge Commit (<code class="literal">.tar</code>) image.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the <span class="strong strong"><strong>Images</strong></span> tab, click <span class="guibutton">Download</span> to save the RHEL for Edge Commit (<code class="literal">.tar</code>) image to your system.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Extract the OSTree commit (<code class="literal">.tar</code>) file.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7htv4wp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># tar -xf <span class="emphasis"><em>UUID-commit.tar</em></span> -C <span class="emphasis"><em>UPGRADE_FOLDER</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Upgrade the OSTree repo:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k69dsv3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># ostree pull-local --repo <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span> <span class="emphasis"><em>UPGRADE_FOLDER/repo</em></span> <span class="emphasis"><em>OSTREE_REF</em></span>
# ostree summary --update --repo <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Build a docker container, serving the child commit ID this time.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2fi7thu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># podman build -t <span class="emphasis"><em>name-of-server</em></span> --build-arg commit=<span class="emphasis"><em>UUID</em></span>-child_commit.tar .</pre></div></div></li><li class="listitem"><p class="simpara">
							Run the container.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7wyzmhp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># podman run --rm -p 8000:80 <span class="emphasis"><em>name-of-server</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							On the RHEL system provisioned, from the original edge image, verify the current status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--89y2jet"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							If there is no new commit ID, run the following command to verify if there is any upgrade available:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--nsuhunf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree upgrade --check</pre></div></div><p class="simpara">
							The command output provides the current active OSTree commit ID.
						</p></li><li class="listitem"><p class="simpara">
							Update OSTree to make the new OSTree commit ID available.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2ewnoez"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree upgrade</pre></div></div><p class="simpara">
							OSTree verifies if there is an update on the repository. If yes, 
it fetches the update and requests you to reboot your system so that you
 can activate the deployment of this new commit update.
						</p></li><li class="listitem"><p class="simpara">
							Check the current status again:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--67s79lo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							You can now see that there are 2 commits available:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The active parent commit.
								</li><li class="listitem">
									A new commit that is not active and contains 1 added difference.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							To activate the new deployment and to make the new commit active, reboot your system.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0uv9gl1"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl reboot</pre></div></div><p class="simpara">
							The Anaconda Installer reboots into the new deployment. On the 
login screen, you can see a new deployment available for you to boot.
						</p></li><li class="listitem">
							If you want to boot into the newest deployment (commit), the <code class="literal">rpm-ostree</code>
 upgrade command automatically orders the boot entries so that the new 
deployment is first in the list. Optionally, you can use the arrow key 
on your keyboard to select the GRUB menu entry and press <span class="guibutton">Enter</span>.
						</li><li class="listitem">
							Provide your login user account credentials.
						</li><li class="listitem"><p class="simpara">
							Verify the OSTree status:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pletmss"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							The command output provides the active commit ID.
						</p></li><li class="listitem"><p class="simpara">
							To view the changed packages, if any, run a diff between the parent commit and the new commit:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1w13nhq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree db diff <span class="emphasis"><em>parent_commit</em></span> <span class="emphasis"><em>new_commit</em></span></pre></div></div><p class="simpara">
							The update shows that the package you have installed is available and ready for use.
						</p></li></ol></div></section><section class="section" id="proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.2.4. Deploying RHEL for Edge image updates manually using the command-line</h3></div></div></div><p class="_abstract _abstract">
					After you have edited a RHEL for Edge blueprint, you can update the
 image commit. Image builder generates a new commit for the updated RHEL
 for Edge image. Use the new commit to deploy the image with latest 
package versions or with additional packages using the CLI.
				</p><p>
					To deploy RHEL for Edge image updates using the CLI, ensure that you meet the prerequisites, and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You created the RHEL for Edge image blueprint.
						</li><li class="listitem">
							You edited the RHEL for Edge image blueprint. See <a class="link" href="#editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images" title="11.1.3.&nbsp;Editing a RHEL for Edge image blueprint using command-line interface">Editing a RHEL for Edge image blueprint using command-line interface</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge Commit (<code class="literal">.tar</code>) image with the following arguments:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ydzcigx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start-ostree --ref <span class="emphasis"><em>ostree_ref</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> -blueprint_name_ <span class="emphasis"><em>image-type</em></span></pre></div></div><p class="simpara">
							where
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal"><span class="emphasis"><em>ref</em></span></code> is the reference you provided during the creation of the RHEL for Edge Container commit. For example, <code class="literal">rhel/9/x86_64/edge</code>.
								</li><li class="listitem">
									<code class="literal"><span class="emphasis"><em>URL-OSTree-repository</em></span></code> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
								</li><li class="listitem"><p class="simpara">
									<code class="literal"><span class="emphasis"><em>image-type</em></span></code> is <code class="literal">edge-commit</code>.
								</p><p class="simpara">
									Image builder creates a RHEL for Edge image for the updated blueprint.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the RHEL for Edge image creation progress:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--04u0qxz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The image creation processes can take up to ten to thirty minutes to complete.
							</p></div></div><p class="simpara">
							The resulting image includes the latest packages that you have added, if any, and has the original <code class="literal">commit ID</code> as a parent.
						</p></li><li class="listitem">
							Download the resulting RHEL for Edge image. For more information, see <a class="link" href="#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line" title="5.1.4.&nbsp;Downloading a RHEL for Edge image using the image builder command-line interface">Downloading a RHEL for Edge image using the image builder command-line interface</a>.
						</li><li class="listitem"><p class="simpara">
							Extract the OSTree commit.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--h859lj6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># tar -xf <span class="emphasis"><em>UUID-commit.tar</em></span> -C <span class="emphasis"><em>UPGRADE_FOLDER</em></span></pre></div></div></li><li class="listitem">
							Serve the OSTree commit by using httpd. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
						</li><li class="listitem"><p class="simpara">
							Upgrade the OSTree repo:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--aoosyka"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># ostree pull-local --repo <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span> <span class="emphasis"><em>UPGRADE_FOLDER/repo</em></span> <span class="emphasis"><em>OSTREE_REF</em></span>
# ostree summary --update --repo <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							On the RHEL system provisioned from the original edge image, verify the current status:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--n4bwfcp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							If there is no new commit ID, run the following command to verify if there is any upgrade available:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qxx6ij8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree upgrade --check</pre></div></div><p class="simpara">
							The command output provides the current active OSTree commit ID.
						</p></li><li class="listitem"><p class="simpara">
							Update OSTree to make the new OSTree commit ID available:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--a484rbp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree upgrade</pre></div></div><p class="simpara">
							OSTree verifies if there is an update on the repository. If yes, 
it fetches the update and requests you to reboot your system so that you
 can activate the deployment of the new commit update.
						</p></li><li class="listitem"><p class="simpara">
							Check the current status again:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--h223fur"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							You should now see that there are 2 commits available:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The active parent commit
								</li><li class="listitem">
									A new commit that is not active and contains 1 added difference
								</li></ul></div></li><li class="listitem"><p class="simpara">
							To activate the new deployment and make the new commit active, reboot your system:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4y37x1s"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl reboot</pre></div></div><p class="simpara">
							The Anaconda Installer reboots into the new deployment. On the 
login screen, you can see a new deployment available for you to boot.
						</p></li><li class="listitem">
							If you want to boot into the newest deployment, the <code class="literal">rpm-ostree upgrade</code>
 command automatically orders the boot entries so that the new 
deployment is first in the list. Optionally, you can use the arrow key 
on your keyboard to select the GRUB menu entry and press <span class="guibutton">Enter</span>.
						</li><li class="listitem">
							Log in using your account credentials.
						</li><li class="listitem"><p class="simpara">
							Verify the OSTree status:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--b9ne22j"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							The command output provides the active commit ID.
						</p></li><li class="listitem"><p class="simpara">
							To view the changed packages, if any, run a diff between the parent commit and the new commit:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bdgs7b7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree db diff <span class="emphasis"><em>parent_commit</em></span> <span class="emphasis"><em>new_commit</em></span></pre></div></div><p class="simpara">
							The update shows that the package you have installed is available and ready for use.
						</p></li></ol></div></section><section class="section" id="deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.2.5. Deploying RHEL for Edge image updates manually for non-network-base deployments</h3></div></div></div><p class="_abstract _abstract">
					After editing a RHEL for Edge blueprint, you can update the image 
commit. Image builder generates a new commit for the updated RHEL for 
Edge image. Use this new commit to deploy the image with latest package 
versions or with additional packages.
				</p><p>
					To deploy RHEL for Edge images updates, ensure that you meet the prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							An RHEL for Edge system is up and running.
						</li><li class="listitem">
							An OSTree repository is being served over HTTP.
						</li><li class="listitem">
							You have created a RHEL for Edge image blueprint.
						</li><li class="listitem">
							You have edited the RHEL for Edge image blueprint.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							On the image builder dashboard click <span class="guibutton">Create Image</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Create Image</strong></span> window, perform the following steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the Image output page:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown list, select the blueprint that you edited.
										</li><li class="listitem">
											From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <code class="literal">RHEL for Edge Container (.tar)</code>. Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											In the <span class="strong strong"><strong>Repository URL</strong></span>
 field, enter the URL to the OSTree repository of the commit to embed in
 the image. For example, http://10.0.2.2:8080/repo/. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Parent commit</strong></span> field, specify the parent commit ID that was previously generated. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images">Extracting RHEL for Edge image commit</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Ref</strong></span> field, you can either specify a name for your commit or leave it empty. By default, the web console specifies the <code class="literal">Ref</code> as <code class="literal">rhel/9/arch_name/edge</code>. Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>Review</strong></span> page, check the customizations and click <span class="guibutton">Create image</span>.
								</p><p class="simpara">
									Image builder creates a RHEL for Edge image for the updated blueprint.
								</p><p class="simpara">
									To view the progress of RHEL for Edge image creation, click the <span class="strong strong"><strong>Images</strong></span> tab.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										The image creation process takes a few minutes to complete.
									</p></div></div><p class="simpara">
									The resulting image includes the latest packages that you have added, if any, and has the original <code class="literal">commit ID</code> as a parent.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Download the resulting RHEL for Edge image
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the <span class="strong strong"><strong>Images</strong></span> tab, click <span class="guibutton">Download</span> to save the RHEL for Edge Container (<code class="literal">.tar</code>) image to your system.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Load the RHEL for Edge Container image into Podman, serving the child commit ID this time.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--w5zjm3l"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cat ./child-commit_ID-container.tar | sudo podman load</pre></div></div></li><li class="listitem"><p class="simpara">
							Run <code class="literal">Podman</code>.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--h8tpjtm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">#  sudo podman run -p 8080:8080 localhost/edge-test</pre></div></div></li><li class="listitem"><p class="simpara">
							Upgrade the OSTree repo:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--d95u2l5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># ostree pull-local --repo <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span> <span class="emphasis"><em>UPGRADE_FOLDER/repo</em></span> <span class="emphasis"><em>OSTREE_REF</em></span>
# ostree summary --update --repo <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
							On the RHEL system provisioned, from the original edge image, verify the current status.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vjyof8e"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							If there is no new commit ID, run the following command to verify if there is any upgrade available:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--d9utkpw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree upgrade --check</pre></div></div><p class="simpara">
							If there are updates available, the command output provides 
information about the available updates in the OSTree repository, such 
as the current active OSTree commit ID. Else, it prompts a message 
informing that there are no updates available.
						</p></li><li class="listitem"><p class="simpara">
							Update OSTree to make the new OSTree commit ID available.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--y6r1wft"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree upgrade</pre></div></div><p class="simpara">
							OSTree verifies if there is an update on the repository. If yes, 
it fetches the update and requests you to reboot your system so that you
 can activate the deployment of this new commit update.
						</p></li><li class="listitem"><p class="simpara">
							Check the current status:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--xmplfzq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							You can now see that there are 2 commits available:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The active parent commit.
								</li><li class="listitem">
									A new commit that is not active and contains 1 added difference.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							To activate the new deployment and to make the new commit active, reboot your system.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--817jhm5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl reboot</pre></div></div><p class="simpara">
							The Anaconda Installer reboots into the new deployment. On the 
login screen, you can see a new deployment available for you to boot.
						</p></li><li class="listitem">
							If you want to boot into the newest commit, the <code class="literal">rpm-ostree upgrade</code>
 command automatically orders the boot entries so that the new 
deployment is first in the list. Optionally, you can use the arrow key 
on your keyboard to select the GRUB menu entry and press <span class="guibutton">Enter</span>.
						</li><li class="listitem">
							Provide your login user account credentials.
						</li><li class="listitem"><p class="simpara">
							Verify the OSTree status:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--g0f1tyn"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree status</pre></div></div><p class="simpara">
							The command output provides the active commit ID.
						</p></li><li class="listitem"><p class="simpara">
							To view the changed packages, if any, run a diff between the parent commit and the new commit:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--i76mp36"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm-ostree db diff <span class="emphasis"><em>parent_commit</em></span> <span class="emphasis"><em>new_commit</em></span></pre></div></div><p class="simpara">
							The update shows that the package you have installed is available and ready for use.
						</p></li></ol></div></section></section><section class="section" id="upgrading_rhel_for_edge_systems"><div class="titlepage"><div><div><h2 class="title">11.3. Upgrading RHEL for Edge systems</h2></div></div></div><section class="section" id="proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.3.1. Upgrading your RHEL 8 system to RHEL 9</h3></div></div></div><p>
					You can upgrade your RHEL 8 system to RHEL 9 using the <code class="literal">rpm-ostree rebase</code>
 command. It fully supports the default package set of RHEL for Edge 
upgrades from the most recent updates of RHEL 8 to the most recent 
updates of RHEL 9. The upgrade downloads and installs the RHEL 9 image 
in the background. After the upgrade finishes, you must reboot your 
system to use the new RHEL 9 image.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The upgrade does not support every possible <code class="literal">rpm</code> package version and inclusions. You must test your package additions to ensure that it works as expected.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have a running RHEL for Edge 8 system
						</li><li class="listitem">
							You have an OSTree repository server by HTTP
						</li><li class="listitem">
							You created a blueprint for RHEL for Edge 9 image that you will upgrade
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the system where image builder runs, create a RHEL for Edge 9 image:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Start the image compose:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--894vno8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo composer-cli compose start <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>edge-commit</em></span></strong></span></pre></div></div></li><li class="listitem">
									After the compose finishes, download the image.
								</li><li class="listitem"><p class="simpara">
									Extract the downloaded image to <code class="literal">/var/www/html/</code> folder:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6j9jpa5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo tar -xf <span class="emphasis"><em>image_file</em></span> -C /var/www/html</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
									Start the <code class="literal">httpd</code> service:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--efmlc7y"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>systemctl start httpd.service</strong></span></pre></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
							On the RHEL for Edge device, check the current remote repository configuration:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8fftq31"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo cat /etc/ostree/remotes.d/edge.conf</strong></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Depending on how your Kickstart file is configured, the <code class="literal">/etc/ostree/remotes.d</code> repository can be empty. If you configured your remote repository, you can see its configuration. For the <code class="literal">edge-installer</code>, <code class="literal">raw-image</code>, and <code class="literal">simplified-installer</code> images, the remote is configured by default.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Check the current URL repository:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--npspgoi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo ostree remote show-url <span class="emphasis"><em><span class="replaceable replaceable">edge</span></em></span></strong></span></pre></div></div><p class="simpara">
							<span class="emphasis"><em>edge</em></span> is the of the Ostree repository.
						</p></li><li class="listitem"><p class="simpara">
							List the remote reference branches:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ef2vdy5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>ostree remote refs <span class="emphasis"><em><span class="replaceable replaceable">edge</span></em></span></strong></span></pre></div></div><p class="simpara">
							You can see the following output:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--van14tu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">Error: Remote refs not available; server has no summary file</pre></div></div></li><li class="listitem"><p class="simpara">
							To add the new repository:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Configure the URL key to add a remote repository. For example:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--onzq7vk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo ostree remote add \ --no-gpg-verify rhel9 http://192.168.122.1/repo/</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
									Configure the URL key to point to the RHEL 9 commit for the upgrade. For example:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--rs6szua"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo cat /etc/ostree/remotes.d/<span class="emphasis"><em>edge</em></span>.conf [remote "edge"] url=http://192.168.122.1/ostree/repo/ gpg-verify=false</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
									Confirm if the URL has been set to the new remote repository:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--z82dppb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo cat /etc/ostree/remotes.d/<span class="emphasis"><em>rhel9</em></span>.conf [remote "edge"] url=http://192.168.122.1/repo/ gpg-verify=false</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
									See the new URL repository:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--fpiwrrq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo ostree remote show-url rhel9 http://192.168.122.1/ostree-rhel9/repo/</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
									List the current remote list options:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--m94zjxv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo ostree remote list</strong></span>

output:
edge
rhel9</pre></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Rebase your system to the RHEL version, providing the reference path for the RHEL 9 version:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ufezkyg"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>rpm-ostree rebase rhel9:rhel/9/x86_64/edge</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Reboot your system.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--r56jzua"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>systemctl reboot</strong></span></pre></div></div></li><li class="listitem">
							Enter your username and password.
						</li><li class="listitem"><p class="simpara">
							Check the current system status:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6qnsvrp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre></div></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check the current status of the currently running deployment:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--crdxovi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Optional: List the processor and tasks managed by the kernel in real-time.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--q4dstaq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>top</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
							If the upgrade does not support your requirements, you have the 
option to manually rollback to the previous stable deployment RHEL 8 
version:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k5038o3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo rpm-ostree rollback</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Reboot your system. Enter your username and password:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zxawyq8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>systemctl reboot</strong></span></pre></div></div><p class="simpara">
							After rebooting, your system runs RHEL 9 successfully.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If your upgrade succeeds and you do not want to use the previous
 deployment RHEL 8 version, you can delete the old repository:
							</p></div></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vnkwa3b"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>sudo ostree remote delete <span class="emphasis"><em><span class="replaceable replaceable">edge</span></em></span></strong></span></pre></div></div></li></ol></div></section></section><section class="section" id="deploying_rhel_for_edge_automatic_image_updates"><div class="titlepage"><div><div><h2 class="title">11.4. Deploying RHEL for Edge automatic image updates</h2></div></div></div><p>
				After you install a RHEL for Edge image on an Edge device, you can 
check for image updates available, if any, and can auto-apply them.
			</p><p>
				The <code class="literal">rpm-ostreed-automatic.service</code> (systemd service) and <code class="literal">rpm-ostreed-automatic.timer</code> (systemd timer) control the frequency of checks and upgrades. The available updates, if any, appear as staged deployments.
			</p><p>
				Deploying automatic image updates involves the following high-level steps:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Update the image update policy
					</li><li class="listitem">
						Enable automatic download and staging of updates
					</li></ul></div><section class="section" id="updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.4.1. Updating the RHEL for Edge image update policy</h3></div></div></div><p class="_abstract _abstract">
					To update the image update policy, use the <code class="literal">AutomaticUpdatePolicy</code> and an <code class="literal">IdleExitTimeout</code> setting from the <code class="literal">rpm-ostreed.conf</code> file at <code class="literal">/etc/rpm-ostreed.conf</code> location on an Edge device.
				</p><p>
					The <code class="literal">AutomaticUpdatePolicy</code> settings controls the automatic update policy and has the following update checks options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">none</code>: Disables automatic updates. By default, the <code class="literal">AutomaticUpdatePolicy</code> setting is set to <code class="literal">none</code>.
						</li><li class="listitem">
							<code class="literal">check</code>: Downloads enough metadata to display available updates with <code class="literal">rpm-ostree</code> status.
						</li><li class="listitem">
							<code class="literal">stage</code>: Downloads and unpacks the updates that are applied on a reboot.
						</li></ul></div><p>
					The <code class="literal">IdleExitTimeout</code> setting controls the time in seconds of inactivity before the daemon exit and has the following options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							0: Disables auto-exit.
						</li><li class="listitem">
							60: By default, the <code class="literal">IdleExitTimeout</code> setting is set to <code class="literal">60</code>.
						</li></ul></div><p>
					To enable automatic updates, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the <code class="literal">/etc/rpm-ostreed.conf</code> file, update the following:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Change the value of <code class="literal">AutomaticUpdatePolicy</code> to <code class="literal">check</code>.
								</li><li class="listitem">
									To run the update checks, specify a value in seconds for <code class="literal">IdleExitTimeout</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Reload the <code class="literal">rpm-ostreed</code> service and enable the <code class="literal">systemd</code> timer.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--sqs7c1m"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl reload rpm-ostreed
# systemctl enable rpm-ostreed-automatic.timer --now</pre></div></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal">rpm-ostree</code> status to ensure the automatic update policy is configured and time is active.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4p96tyv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># rpm-ostree status</pre></div></div><p class="simpara">
							The command output shows the following:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--114hxqo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">State: idle; auto updates enabled (check; last run &lt;minutes&gt; ago)</pre></div></div><p class="simpara">
							Additionally, the output also displays information about the available updates.
						</p></li></ol></div></section><section class="section" id="enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.4.2. Enabling RHEL for Edge automatic download and staging of updates</h3></div></div></div><p class="_abstract _abstract">
					After you update the image update policy to check for image 
updates, the updates if any are displayed along with the update details.
 If you decide to apply the updates, enable the policy to automatically 
download and stage the updates. The available image updates are then 
downloaded and staged for deployment. The updates are applied and take 
effect when you reboot the Edge device.
				</p><p>
					To enable the policy for automatic download and staging of updates, perform the following updates:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <code class="literal">/etc/rpm-ostreed.conf</code> file, update AutomaticUpdatePolicy to <code class="literal">stage</code>.
						</li><li class="listitem"><p class="simpara">
							Reload the rpm-ostreed service.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--f64r14a"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl enable rpm-ostreed-automatic.timer --now</pre></div></div></li><li class="listitem"><p class="simpara">
							Verify the rpm-ostree status
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--aw8xui8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># rpm-ostree status</pre></div></div><p class="simpara">
							The command output shows the following:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--s4xuztg"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">State: idle
AutomaticUpdates: stage; rpm-ostreed-automatic.timer: last run &lt;time&gt; ago</pre></div></div></li><li class="listitem"><p class="simpara">
							To initiate the updates, you can either wait for the timer to initiate the updates, or can manually start the service.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--imvq7ch"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl start rpm-ostreed-automatic.service</pre></div></div><p class="simpara">
							After the updates are initiated, the rpm-ostree status shows the following:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--o2q5qnb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># rpm-ostree status
State: busy
AutomaticUpdates: stage; rpm-ostreed-automatic.service: running
Transaction: automatic (stage)</pre></div></div><p class="simpara">
							When the update is complete, a new deployment is staged in the 
list of deployments, and the original booted deployment is left 
untouched. You can decide if you want to boot the system using the new 
deployment or can wait for the next update.
						</p><p class="simpara">
							To view the list of deployments, run the <code class="literal command">rpm-ostree status</code> command.
						</p><p class="simpara">
							Following is a sample output.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--801hizo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># rpm-ostree status
State: idle
AutomaticUpdates: stage; rpm-ostreed-automatic.timer: last run &lt;time&gt; ago
Deployments:</pre></div></div><p class="simpara">
							To view the list of deployments with the updated package details, run the <code class="literal command">rpm-ostree status -v</code> command.
						</p></li></ol></div></section></section><section class="section" id="rolling_back_rhel_for_edge_images"><div class="titlepage"><div><div><h2 class="title">11.5. Rolling back RHEL for Edge images</h2></div></div></div><p>
				You can verify if the updated image is successfully deployed or not.
 If the deployment is unsuccessful, you can roll back to a previous 
version (commit). To roll back to a previous functional state, you can 
either perform the steps manually or can use an automated process.
			</p><section class="section" id="how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.5.1. How are RHEL for Edge images rolled back</h3></div></div></div><p class="_abstract _abstract">
					With RHEL for Edge images, only transactional updates are applied 
to the operating system. With the transactional updates, you can easily 
rollback the unsuccessful updates to the last known good state, 
preventing system failure during updates.
				</p><p>
					You can use intelligent rollbacks with Greenboot to eliminate the 
issues of choosing between application stability and application of 
security updates.
				</p><p>
					Greenboot leverages <code class="literal">rpm-ostree</code> and 
runs custom health checks that run on system startup. In case of an 
issue, the system rolls back the changes and preserves the last working 
state. When you deploy an <code class="literal">rpm-ostree</code> 
update, it runs scripts to check that critical services can still work 
after the update. If the system does not work, the update rolls back to 
the last known working version of the system. This process ensures that 
your RHEL for Edge device is in an operational state.
				</p><p>
					The following is the Greenboot directory structure:
				</p><div class="example" id="idm140115500445088"><p class="title">Example 11.1. Greenboot directory structure</p><div class="example-contents"><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--krijjr3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">etc
 greenboot
    check
   |    required.d
   |    <span class="emphasis"><em>init</em></span>.py
    green.d
    red.d</pre></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">/etc/greenboot/check/required.d</code></span></dt><dd>
								Contains the health checks that must not fail.
							</dd><dt><span class="term"><code class="literal">/etc/greenboot/check/wanted.d</code></span></dt><dd>
								Contains the health checks that might fail.
							</dd><dt><span class="term"><code class="literal">/etc/greenboot/green.d</code></span></dt><dd>
								Contains the scripts to run after a successful boot.
							</dd><dt><span class="term"><code class="literal">/etc/greenboot/red.d</code></span></dt><dd>
								Contains the scripts to run after a failed boot. The system 
attempts to boot three times and in case of failure, it executes the 
scripts.
							</dd></dl></div><p>
					The following diagram illustrates the RHEL for Edge image roll back process.
				</p><div class="informalfigure"><div class="mediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/fc6f14d57259a680af9bb97d41772c62/edge-image-restore.png" class="rh_docs--zoom" title="Image restoration process"><img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/edge-image-restore.png" alt="Image restoration process"></a></div></div></section><section class="section" id="restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.5.2. Rolling back RHEL for Edge images manually</h3></div></div></div><p class="_abstract _abstract">
					If the deployment for RHEL for Edge image update fails or if the 
update fails to work successfully, then you can manually roll back to a 
previous deployment version.
				</p><p>
					To roll back to a previous version, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run the <code class="literal">rollback</code> command:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--n67o3xr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># rpm-ostree rollback</pre></div></div><p class="simpara">
							The command output provides details about the commit ID that is 
being moved and indicates a completed transaction with the details of 
the package being removed.
						</p></li><li class="listitem"><p class="simpara">
							Reboot the system.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zf9390r"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl reboot</pre></div></div><p class="simpara">
							The command activates the previous commit with the stable 
content. The changes are applied and the previous version is restored.
						</p></li></ol></div></section><section class="section" id="restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">11.5.3. Rolling back RHEL for Edge images using an automated process</h3></div></div></div><p class="_abstract _abstract">
					Greenboot checks provides a framework that is integrated into the boot process and can trigger <code class="literal">rpm-ostree</code>
 rollbacks when a health check fails. For the health checks, you can 
create a custom script that indicates whether a health check passed or 
failed. Based on the result, you can decide when a rollback should be 
triggered.
				</p><p>
					To create a health check script, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a script that returns a standard exit code <code class="literal">0</code>.
						</p><p class="simpara">
							For example, the following script ensures that the configured DNS server is available:
						</p><div class="informalexample"><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kgtspzq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">#!/bin/bash

DNS_SERVER=$(grep ^nameserver /etc/resolv.conf | head -n 1 | cut -f2 -d" ")
COUNT=0
# check DNS server is available
ping -c1 $DNS_SERVER
while [ $? != '0' ] &amp;&amp; [ $COUNT -lt 10 ]; do
((COUNT++))
echo "Checking for DNS: Attempt $COUNT ."
sleep 10
ping -c 1 $DNS_SERVER
done</pre></div></div></div></li><li class="listitem"><p class="simpara">
							Include an executable file for the health checks at <code class="literal">/etc/greenboot/check/required.d/</code>.
						</p><div class="informalexample"><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--mwr6ljz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">chmod +x check-dns.sh</pre></div></div></div><p class="simpara">
							During the next reboot, the script is executed as part of the 
boot process, before the system enters the boot-complete.target. If the 
health checks are successful, no action is taken. If the health checks 
fail, the system is rebooted several times, before marking the update as
 failed and rolling back to the previous update.
						</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification steps</strong></p><p>
						To check if the default gateway is reachable, run the following health check script:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a script that returns a standard exit code <code class="literal">0</code>.
						</p><div class="informalexample"><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--97o35zn"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">#!/bin/bash

DEF_GW=$(ip r | awk '/^default/ {print $3}')
SCRIPT=$(basename $0)

count=10
connected=0
ping_timeout=5
interval=5

while [ $count -gt 0 -a $connected -eq 0 ]; do
  echo "$SCRIPT: Pinging default gateway $DEF_GW"
  ping -c 1 -q -W $ping_timeout $DEF_GW &gt; /dev/null 2&gt;&amp;1 &amp;&amp; connected=1 || sleep $interval
  ((--count))
done

if [ $connected -eq 1 ]; then
  echo "$SCRIPT: Default gateway $DEF_GW is reachable."
  exit 0
else
  echo "$SCRIPT: Failed to ping default gateway $DEF_GW!" 1&gt;&amp;2
  exit 1
fi</pre></div></div></div></li><li class="listitem"><p class="simpara">
							Include an executable file for the health checks at <code class="literal">/etc/greenboot/check/required.d/</code> directory.
						</p><div class="informalexample"><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--329gwi4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">chmod +x check-gw.sh</pre></div></div></div></li></ol></div></section></section></section><section class="appendix" id="edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h1 class="title">Appendix A. Terminology and commands</h1></div></div></div><p class="_abstract _abstract">
			Learn more about the <code class="literal">rpm ostree</code> terminology and commands.
		</p><section class="section" id="edge-rpmostree-terminology_edge-terminology-and-commands"><div class="titlepage"><div><div><h2 class="title">A.1. OSTree and rpm-ostree terminology</h2></div></div></div><p class="_abstract _abstract">
				Following are some helpful terms that are used in context to OSTree and <code class="literal">rpm-ostree</code> images.
			</p><div class="table" id="idm140115497742480"><p class="title">Table A.1. OSTree and rpm-ostree terminology</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="hsik9u4" id="rh-table--hsik9u4" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th id="idm140115497737168" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Term</th><th id="idm140115497736080" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Definition</th></tr></thead><tbody><tr><td headers="idm140115497737168" data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">OSTree</code>
							</p>
							 </td><td headers="idm140115497736080" data-row="2" data-col="2" class="content--lg" valign="top" align="left"> <p>
								A tool used for managing Linux-based operating system versions. 
The OSTree tree view is similar to Git and is based on similar concepts.
							</p>
							 </td></tr><tr><td headers="idm140115497737168" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">rpm-ostree</code>
							</p>
							 </td><td headers="idm140115497736080" data-row="3" data-col="2" class="content--lg" valign="top" align="left"> <p>
								A hybrid image or system package that hosts operating system updates.
							</p>
							 </td></tr><tr><td headers="idm140115497737168" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">Commit</code>
							</p>
							 </td><td headers="idm140115497736080" data-row="4" data-col="2" class="content--lg" valign="top" align="left"> <p>
								A release or image version of the operating system. Image 
builder generates an ostree commit for RHEL for Edge images. You can use
 these images to install or update RHEL on Edge servers.
							</p>
							 </td></tr><tr><td headers="idm140115497737168" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">Refs</code>
							</p>
							 </td><td headers="idm140115497736080" data-row="5" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Represents a branch in ostree. Refs always resolve to the latest commit. For example, <code class="literal">rhel/9/x86_64/edge</code>.
							</p>
							 </td></tr><tr><td headers="idm140115497737168" data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">Revision (Rev)</code>
							</p>
							 </td><td headers="idm140115497736080" data-row="6" data-col="2" class="content--md" valign="top" align="left"> <p>
								SHA-256 for a specific commit.
							</p>
							 </td></tr><tr><td headers="idm140115497737168" data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">Remote</code>
							</p>
							 </td><td headers="idm140115497736080" data-row="7" data-col="2" class="content--lg" valign="top" align="left"> <p>
								The http or https endpoint that hosts the ostree content. This is analogous to the baseurl for a dnf repository.
							</p>
							 </td></tr><tr><td headers="idm140115497737168" data-row="8" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">static-delta</code>
							</p>
							 </td><td headers="idm140115497736080" data-row="8" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Updates to ostree images are always delta updates. In case of 
RHEL for Edge images, the TCP overhead can be higher than expected due 
to the updates to number of files. To avoid TCP overhead, you can 
generate static-delta between specific commits, and send the update in a
 single connection. This optimization helps large deployments with 
constrained connectivity.
							</p>
							 </td></tr></tbody></table></rh-table></div></section><section class="section" id="edge-ostree-commands_edge-terminology-and-commands"><div class="titlepage"><div><div><h2 class="title">A.2. OSTree commands</h2></div></div></div><p class="_abstract _abstract">
				The following table provides a few OSTree commands that you can use when installing or managing OSTree images.
			</p><div class="table" id="idm140115497530544"><p class="title">Table A.2. ostree commands</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="yvovsss" id="rh-table--yvovsss" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><tbody><tr><td data-row="1" data-col="1" class="content--md" valign="top" align="left"> <p>
								ostree pull
							</p>
							 </td><td data-row="1" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal command">ostree pull-local --repo [path] src</code>
							</p>
							 <p>
								<code class="literal command">ostree pull-local &lt;path&gt; &lt;rev&gt; --repo=&lt;repo-path&gt;</code>
							</p>
							 <p>
								<code class="literal command">ostree pull &lt;URL&gt; &lt;rev&gt; --repo=&lt;repo-path&gt;</code>
							</p>
							 </td></tr><tr><td data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								ostree summary
							</p>
							 </td><td data-row="2" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">ostree summary -u --repo=&lt;repo-path&gt;</code>
							</p>
							 </td></tr><tr><td data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								View refs
							</p>
							 </td><td data-row="3" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal command">ostree refs --repo ~/Code/src/osbuild-iot/build/repo/ --list</code>
							</p>
							 </td></tr><tr><td data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								View commits in repo
							</p>
							 </td><td data-row="4" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal command">ostree log --repo=/home/gicmo/Code/src/osbuild-iot/build/repo/ &lt;REV&gt;</code>
							</p>
							 </td></tr><tr><td data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								Inspect a commit
							</p>
							 </td><td data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">ostree show --repo build/repo &lt;REV&gt;</code>
							</p>
							 </td></tr><tr><td data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								List remotes of a repo
							</p>
							 </td><td data-row="6" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">ostree remote list --repo &lt;repo-path&gt;</code>
							</p>
							 </td></tr><tr><td data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								Resolve a REV
							</p>
							 </td><td data-row="7" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal command">ostree rev-parse --repo ~/Code/src/osbuild-iot/build/repo fedora/x86_64/osbuild-demo</code>
							</p>
							 <p>
								<code class="literal command">ostree rev-parse --repo ~/Code/src/osbuild-iot/build/repo b3a008eceeddd0cfd</code>
							</p>
							 </td></tr><tr><td data-row="8" data-col="1" class="content--md" valign="top" align="left"> <p>
								Create static-delta
							</p>
							 </td><td data-row="8" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal command">ostree static-delta generate --repo=[path] --from=REV --to=REV</code>
							</p>
							 </td></tr><tr><td data-row="9" data-col="1" class="content--md" valign="top" align="left"> <p>
								Sign an <code class="literal">existing</code> ostree commit with a GPG key
							</p>
							 </td><td data-row="9" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal command">ostree gpg-sign --repo=&lt;repo-path&gt; --gpg-homedir &lt;gpg_home&gt; COMMIT KEY-ID</code>
							</p>
							 </td></tr></tbody></table></rh-table></div></section><section class="section" id="rpm-ostree-commands_edge-terminology-and-commands"><div class="titlepage"><div><div><h2 class="title">A.3. rpm-ostree commands</h2></div></div></div><p class="_abstract _abstract">
				The following table provides a few <code class="literal commands">rpm-ostree</code> commands that you can use when installing or managing OSTree images.
			</p><div class="table" id="idm140115501280288"><p class="title">Table A.3. rpm-ostree commands</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="aqka6ve" id="rh-table--aqka6ve" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 35%; " class="col_1"><!--Empty--><col style="width: 65%; " class="col_2"><!--Empty--></colgroup><thead><tr><th id="idm140115501275136" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Commands</th><th id="idm140115501274048" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Description</th></tr></thead><tbody><tr><td headers="idm140115501275136" data-row="2" data-col="1" class="content--lg" valign="top" align="left"> <p>
								<code class="literal command">rpm-ostree --repo=/home/gicmo/Code/src/osbuild-iot/build/repo/ db list &lt;REV&gt;</code>
							</p>
							 </td><td headers="idm140115501274048" data-row="2" data-col="2" class="content--lg" valign="top" align="left"> <p>
								This command lists the packages existing in the &lt;REV&gt; commit into the repository.
							</p>
							 </td></tr><tr><td headers="idm140115501275136" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">rpm-ostree rollback</code>
							</p>
							 </td><td headers="idm140115501274048" data-row="3" data-col="2" class="content--lg" valign="top" align="left"> <p>
								OSTree manages an ordered list of boot loader entries, called <code class="literal">deployments</code>. The entry at index 0 is the default boot loader entry. Each entry has a separate <code class="literal">/etc</code> directory, but all the entries share a single <code class="literal">/var</code>
 directory. You can use the boot loader to choose between entries by 
pressing Tab to interrupt startup. This rolls back to the previous 
state, that is, the default deployment changes places with the 
non-default one.
							</p>
							 </td></tr><tr><td headers="idm140115501275136" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">rpm-ostree status</code>
							</p>
							 </td><td headers="idm140115501274048" data-row="4" data-col="2" class="content--lg" valign="top" align="left"> <p>
								This command gives information about the current deployment in 
use. Lists the names and refspecs of all possible deployments in order, 
such that the first deployment in the list is the default upon boot. The
 deployment marked with * is the current booted deployment, and marking 
with 'r' indicates the most recent upgrade.
							</p>
							 </td></tr><tr><td headers="idm140115501275136" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">rpm-ostree db list</code>
							</p>
							 </td><td headers="idm140115501274048" data-row="5" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Use this command to see which packages are within the commit or 
commits. You must specify at least one commit, but more than one or a 
range of commits also work.
							</p>
							 </td></tr><tr><td headers="idm140115501275136" data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">rpm-ostree db diff</code>
							</p>
							 </td><td headers="idm140115501274048" data-row="6" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Use this command to show how the packages are different between 
the trees in two revs (revisions). If no revs are provided, the booted 
commit is compared to the pending commit. If only a single rev is 
provided, the booted commit is compared to that rev.
							</p>
							 </td></tr><tr><td headers="idm140115501275136" data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal command">rpm-ostree upgrade</code>
							</p>
							 </td><td headers="idm140115501274048" data-row="7" data-col="2" class="content--lg" valign="top" align="left"> <p>
								This command downloads the latest version of the current tree, 
and deploys it, setting up the current tree as the default for the next 
boot. This has no effect on your running filesystem tree. You must 
reboot for any changes to take effect.
							</p>
							 </td></tr></tbody></table></rh-table></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The [citetitle] <code class="literal">rpm-ostree</code> man page.
					</li></ul></div></section><section class="section" id="ref_fdo-terminology_edge-terminology-and-commands"><div class="titlepage"><div><div><h2 class="title">A.4. FDO automatic onboarding terminology</h2></div></div></div><p class="_abstract _abstract">
				Learn more about the FDO terminology.
			</p><div class="table" id="idm140115496831728"><p class="title">Table A.4. FDO terminology</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="3bkhxpj" id="rh-table--3bkhxpj" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th id="idm140115496826896" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Commands</th><th id="idm140115496825808" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Description</th></tr></thead><tbody><tr><td headers="idm140115496826896" data-row="2" data-col="1" class="content--sm" valign="top" align="left"> <p>
								FDO
							</p>
							 </td><td headers="idm140115496825808" data-row="2" data-col="2" class="content--md" valign="top" align="left"> <p>
								FIDO Device Onboarding.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								Device
							</p>
							 </td><td headers="idm140115496825808" data-row="3" data-col="2" class="content--md" valign="top" align="left"> <p>
								Any hardware, device, or computer.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								Owner
							</p>
							 </td><td headers="idm140115496825808" data-row="4" data-col="2" class="content--lg" valign="top" align="left"> <p>
								The final owner of the device - a company or an IT department.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								Manufacturer
							</p>
							 </td><td headers="idm140115496825808" data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								The device manufacturer.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								Manufacturer server
							</p>
							 </td><td headers="idm140115496825808" data-row="6" data-col="2" class="content--md" valign="top" align="left"> <p>
								Creates the device credentials for the device.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								Manufacturer client
							</p>
							 </td><td headers="idm140115496825808" data-row="7" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Informs the location of the manufacturing server.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="8" data-col="1" class="content--md" valign="top" align="left"> <p>
								Ownership Voucher (OV)
							</p>
							 </td><td headers="idm140115496825808" data-row="8" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Record of ownership of an individual device. Contains the following information:
							</p>
							 <p>
								* Owner (<code class="literal">fdo-owner-onboarding-service</code>)
							</p>
							 <p>
								* Rendezvous Server - FIDO server (<code class="literal">fdo-rendezvous-server</code>)
							</p>
							 <p>
								* Device (at least one combination) (<code class="literal">fdo-manufacturing-service</code>)
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="9" data-col="1" class="content--md" valign="top" align="left"> <p>
								Device Credential (DC)
							</p>
							 </td><td headers="idm140115496825808" data-row="9" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Key credential and rendezvous stored in the device at manufacture.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="10" data-col="1" class="content--md" valign="top" align="left"> <p>
								Keys
							</p>
							 </td><td headers="idm140115496825808" data-row="10" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Keys to configure the manufacturing server
							</p>
							 <p>
								* key_path
							</p>
							 <p>
								* cert_path
							</p>
							 <p>
								* key_type
							</p>
							 <p>
								* mfg_string_type: device serial number
							</p>
							 <p>
								* allowed_key_storage_types: Filesystem and Trusted Platform 
Module (TPM) that protects the data used to authenticate the device you 
are using.
							</p>
							 </td></tr><tr><td headers="idm140115496826896" data-row="11" data-col="1" class="content--md" valign="top" align="left"> <p>
								Rendezvous server
							</p>
							 </td><td headers="idm140115496825808" data-row="11" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Link to a server used by the device and later on, used on the process to find out who is the owner of the device
							</p>
							 </td></tr></tbody></table></rh-table></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://fidoalliance.org/specs/fidoiot/FIDO-IoT-spec-v1.0-wd-20200730.html#OV">FIDO IoT spec</a>
					</li></ul></div></section><section class="section" id="ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands"><div class="titlepage"><div><div><h2 class="title">A.5. FDO automatic onboarding technologies</h2></div></div></div><p class="_abstract _abstract">
				Following are the technologies used in context to FDO automatic onboarding.
			</p><div class="table" id="idm140115497163920"><p class="title">Table A.5. OSTree and rpm-ostree terminology</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="m3elxt9" id="rh-table--m3elxt9" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th id="idm140115497575968" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Technology</th><th id="idm140115497574880" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Definition</th></tr></thead><tbody><tr><td headers="idm140115497575968" data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								UEFI
							</p>
							 </td><td headers="idm140115497574880" data-row="2" data-col="2" class="content--md" valign="top" align="left"> <p>
								Unified Extensible Firmware Interface.
							</p>
							 </td></tr><tr><td headers="idm140115497575968" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								RHEL
							</p>
							 </td><td headers="idm140115497574880" data-row="3" data-col="2" class="content--md" valign="top" align="left"> <p>
								Red Hat Enterprise Linux operating system
							</p>
							 </td></tr><tr><td headers="idm140115497575968" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">rpm-ostree</code>
							</p>
							 </td><td headers="idm140115497574880" data-row="4" data-col="2" class="content--md" valign="top" align="left"> <p>
								Background image-based upgrades.
							</p>
							 </td></tr><tr><td headers="idm140115497575968" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								Greenboot
							</p>
							 </td><td headers="idm140115497574880" data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">Healthcheck</code> framework for systemd on <code class="literal">rpm-ostree</code>.
							</p>
							 </td></tr><tr><td headers="idm140115497575968" data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								Osbuild
							</p>
							 </td><td headers="idm140115497574880" data-row="6" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Pipeline-based build system for operating system artifacts.
							</p>
							 </td></tr><tr><td headers="idm140115497575968" data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								Container
							</p>
							 </td><td headers="idm140115497574880" data-row="7" data-col="2" class="content--lg" valign="top" align="left"> <p>
								A Linux container is a set of 1 or more processes that are isolated from the rest of the system.
							</p>
							 </td></tr><tr><td headers="idm140115497575968" data-row="8" data-col="1" class="content--md" valign="top" align="left"> <p>
								Coreos-installer
							</p>
							 </td><td headers="idm140115497574880" data-row="8" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Assists installation of RHEL images, boots systems with UEFI.
							</p>
							 </td></tr><tr><td headers="idm140115497575968" data-row="9" data-col="1" class="content--md" valign="top" align="left"> <p>
								FIDO FDO
							</p>
							 </td><td headers="idm140115497574880" data-row="9" data-col="2" class="content--lg" valign="top" align="left"> <p>
								Specification protocol to provision configuration and onboarding devices.
							</p>
							 </td></tr></tbody></table></rh-table></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140115509536560"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span> 2023 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat
 under a Creative Commons AttributionShare Alike 3.0 Unported license 
("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>.
 In accordance with CC-BY-SA, if you distribute this document or an 
adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to 
enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest
 extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat 
logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are 
trademarks of Red Hat, Inc., registered in the United States and other 
countries.
	</div><div class="para">
		<span class="trademark">Linux</span> is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span> is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span> is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span> is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span> is an official trademark of 
Joyent. Red Hat is not formally related to or endorsed by the official 
Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span> Word Mark and OpenStack 
logo are either registered trademarks/service marks or 
trademarks/service marks of the OpenStack Foundation, in the United 
States and other countries and are used with the OpenStack Foundation's 
permission. We are not affiliated with, endorsed or sponsored by the 
OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div>


  <nav class="pvof-doc__book-nav">
  <ol class="book-nav__list">
              </ol>
</nav>


          </div>
              </div>
              <div id="comments-footer" class="book-comments">
          

  

        </div>
          </div>
  </article>
<meta itemscope="" itemref="md1">



    </div>
      <!-- CP_PRIMER_FOOTER -->            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto affix-top" href="#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com/">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path class="rh-logo-hat" d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"></path>
                      <path class="rh-logo-band" d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"></path>
                      <path class="rh-logo-type" d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"></path>
                  </svg>
                </a>
              </div>

              <div role="navigation" aria-label="quick">
                  <h3>Quick Links</h3>
                  <ul>
                      <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                      <li><a class="manage-subscriptions" href="https://access.redhat.com/management">Subscriptions</a></li>
                      <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                      <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                      <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="help">
                  <h3>Help</h3>
                  <ul>
                      <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                      <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                      <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="site">
                  <h3>Site Info</h3>
                  <ul>
                      <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                      <li><a class="browser-support-policy" href="https://www.redhat.com/en/about/browser-support">Browser Support Policy</a></li>
                      <li><a class="accessibility" href="https://www.redhat.com/en/about/digital-accessibility">Accessibility</a></li>
                      <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                      <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="other">
                  <h3>Related Sites</h3>
                  <ul>
                      <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                      <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                      <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                      <li><a href="https://cloud.redhat.com/" class="cloud-com">cloud.redhat.com</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="about">
                  <h3>About</h3>
                  <ul>
                      <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                      <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                      <li><a href="http://jobs.redhat.com/" class="about-jobs">Red Hat Jobs</a></li>
                  </ul>
              </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a href="https://status.redhat.com/" class="status-page-widget">
                        <span class="status-description">All systems operational</span>
                        <span class="status-dot shape-circle shape-dash-lime"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright  2023 Red Hat, Inc.</div>

                        <div role="navigation" aria-label="legal" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://www.redhat.com/en/about/terms-use" class="terms-of-use">Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                                <li><a id="teconsent" consent="0,1,2"><a role="link" id="icon-id08615127485336878" tabindex="0" aria-haspopup="dialog" aria-label="Cookie Preferences, opens a dedicated popup modal window" class="truste_cursor_pointer" lang="en">Cookie preferences</a></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                        <img src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-summit-red-a.svg" alt="Red Hat Summit"> <span class="offscreen">Red Hat Summit</span>
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHat" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>                        
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- TrustArc -->
    <div id="consent_blackbar"></div> 
    <!--googleon: all-->
</div>
<!-- /CP_PRIMER_FOOTER -->


  </div>

    
  

<script>_satellite["_runScript2"](function(event, target, Promise) {
window._sdi=window._sdi||{},window._sdi.addEventHandler=window.addEventListener?function(e,i,t){e.addEventListener(i,t,!1)}:function(e,i,t){e.attachEvent("on"+i,t)},window._sdi.addEventHandler(window,"message",(function(e){var i={},t=0;(-1!==e.origin.indexOf("loop=1")||e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.loop)&&(t=1);var a=0;if(e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.autoplay&&(a=1),e.origin.match(/youtube\.com/)&&"undefined"!=typeof JSON&&!t&&!a){i=JSON.parse(e.data);var n=window._sdi.yt.videos;if("infoDelivery"==i.event){var d,o={};for(var r in i.info.videoData&&((o=n[d=i.info.videoData.video_id]||{}).info=i.info,o.id=i.id,n[d]=o),window._sdi.yt.videos){(c=window._sdi.yt.videos[r]).id==i.id&&(o=c)}var s=window._sdi.yt.sc||{};o.info&&(Math.abs(i.info.currentTime-o.info.currentTime)>1.5&&!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),"paused"!=o.state&&s.s().Media.play(o.info.videoData.title,i.info.currentTime)),o.info.currentTime=i.info.currentTime),2==i.info.playerState&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),1==i.info.playerState&&(o.started?!0===s.track&&s.s().Media.play(o.info.videoData.title,o.info.currentTime):(o.started=!0,!0===s.track&&(s.s().Media.open(o.info.videoData.title,o.info.duration,"youtube"),s.s().Media.play(o.info.videoData.title,o.info.currentTime))),o.state="playing"),3==i.info.playerState&&o.started&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),0===i.info.playerState&&(!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),s.s().Media.close(o.info.videoData.title)),o.state="completed")}else if("onStateChange"==i.event){for(var r in window._sdi.yt.videos){var c;(c=window._sdi.yt.videos[r]).id==i.id&&(o=c)}s=window._sdi.yt.sc||{};1==i.info&&(o.started?!0===s.track&&s.s().Media.play(o.info.videoData.title,o.info.currentTime):(o.started=!0,!0===s.track&&(s.s().Media.open(o.info.videoData.title,o.info.duration,"youtube"),"paused"!=o.state&&s.s().Media.play(o.info.videoData.title,i.info.currentTime))),o.state="playing"),2==i.info&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),3==i.info&&o.started&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),0===i.info&&(!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),s.s().Media.close(o.info.videoData.title)),o.state="completed")}}})),window._sdi.loadScript=function(e,i){var t=document.createElement("script");t.type="text/javascript",i&&"function"==typeof i&&(t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,i())}:t.onload=function(){i()}),t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},window._sdi.yt={stages:{},players:{},sc:{track:!0,s:function(){return window.s}},init:function(){for(var e=document.getElementsByTagName("script"),i=!1,t=(window._sdi.yt.videos,0);t<e.length;t++){(e[t].src||"").match(/youtube\.com\/iframe_api/)&&(i=!0)}!1===i?window._sdi.loadScript("//www.youtube.com/iframe_api",(function(){window._sdi.yt.ready("api")})):window._sdi.yt.ready("api")},ready:function(e){window._sdi.yt.stages[e]=!0,window._sdi.yt.stages.dom&&window._sdi.yt.stages.api&&window._sdi.yt.checkIframes()},checkIframes:function(){var e=window._sdi.yt.videos,i=1e3,t=0;document.querySelectorAll("iframe[src*=youtube][data-sdiyt]").forEach((a=>{if("true"==a.dataset.sdiyt)return!1;if(-1!=a.src.indexOf("loop=1"))var n=null;else{var d;n=a.src.match(/h?t?t?p?s?\:?\/\/www\.youtube(-nocookie)?\.com\/embed\/([\w-]{11})(?:\?.*)?/)}if(n){d=n.length>2?n[2]:"",a.id||(a.id=d+t,t++);var o=!1;if(a.src.match(/enablejsapi=1/)||(a.src+=(a.src.indexOf("?")>-1?"&":"?")+"enablejsapi=1",o=!0),o){var r=a.cloneNode(!0);r.src=a.src,r.id=a.id,a.replaceWith(r)}else"undefined"!=typeof YT&&void 0!==YT.get?(ready=!0,e[d]={},(!YT.get(a.id)||void 0===YT.get(a.id).v&&void 0!==YT.get(a.id).v.videoId)&&(e[d].player=new YT.Player(a.id,{events:{onReady:function(){},onStateChange:function(){},videoId:a.id}})),a.setAttribute("data-sdiyt","true")):i=100}})),setTimeout((function(){window._sdi.yt.checkIframes()}),i)},videos:{}},void 0!==window._sdi&&void 0!==window._sdi.addEventHandler&&window._sdi.addEventHandler(window,"load",(function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1?(window._sdi.yt.init(),window._sdi.yt.ready("dom")):window._sdi.ytinterval=setInterval((function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1&&(window._sdi.yt.init(),window._sdi.yt.ready("dom"),clearInterval(window._sdi.ytinterval))}),500)}));
});</script><script>_satellite["_runScript3"](function(event, target, Promise) {
var dataLayerName="appEventData",reservedAttributes=["event"],internalDomains=[],downloadExtensions=["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"],parseAttributes=function(t){var e={};for(var n in t.dataset)if("analytics"===n.substr(0,9)){var a=n.replace("analytics","");e[a[0]?a[0].toLocaleLowerCase()+a.slice(1):""]=t.dataset[n]}return e},addAttributes=function(t,e){return isJavascript(t)&&(e.isJavascript=!0),isDownload(t)&&(e.isDownload=!0),isCrossPropertyDomain(t)&&(e.isCrossPropertyDomain=!0,e.linkTypeName="cross property link"),isCta(t)&&(e.isCta=!0,e.linkTypeName="cta link"),isExitLink(t)&&(e.isExitLink=!0,e.linkTypeName="exit link"),isFooter(t)&&(e.isFooter=!0),isInternalCampaign(t)&&(e.isInternalCampaign=!0),isPromoSection(t)&&(e.isPromoSection=!0),isSearchContainer(t)&&(e.isSearchContainer=!0),e.targetHost=getHostName(t.href),e.internalCampaign=window._sdi.util.getQueryParam("icid",t.href)||window._sdi.util.getQueryParam("intcmp",t.href),e},getLinkText=function(t){return t.getAttribute("data-analytics-text")||t.getAttribute("sObjectId")||t.getAttribute("s-object-id")||t.getAttribute("sObjectID")||t.getAttribute("data-s-object-id")||t.innerText&&""!==t.innerText.trim()&&t.innerText.trim()||t.textContent&&""!==t.textContent.trim()&&t.textContent.trim()||t.querySelector("[alt]")&&t.querySelector("[alt]").getAttribute("alt")||t.querySelector("[title]")&&t.querySelector("[title]").getAttribute("title")||t.getAttribute("aria-label")||t.href||"unknown"},getRegions=function(t,e){if(e=e||[],!t)return e;var n=t.closest("[data-analytics-region]");return n?(e.push(n.dataset.analyticsRegion),e=getRegions(n.parentElement,e)):e},removeReservedAttributes=function(t){return reservedAttributes.forEach((function(e){delete t[e]})),t},redactEmail=function(t){return t.replace(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}/gi,"email_address_redacted")},buildDataObject=function(t,e,n){return n=n||getRegions(t),{event:buildEventName(t,e,n),linkInfo:Object.assign({href:t.href,regions:n.reverse().join("|"),text:redactEmail(getLinkText(t))},removeReservedAttributes(e))}},buildEventName=function(t,e,n){if(e.event)return e.event;var a={};if(n=n||getRegions(t))for(var i=0;i<n.length;i++)if(a[n[i]])return a[n[i]];return"Master Link Clicked"},findRootElement=function(t){if(t)return t.closest("a, [data-analytics-event]")},isJavascript=function(t){return new RegExp("^javascript:","i").test(t.href)},isDownload=function(t){return new RegExp(".("+downloadExtensions.join("|")+")$","i").test(t.href)},isInternalDomain=function(t){return new RegExp(internalDomains.join("|"),"i").test(t.href)},isExitLink=function(t){return!!t.href&&!new RegExp(_satellite.getVar("exitExclusionArray").join("|"),"i").test(t.href)},isCrossPropertyDomain=function(t){return document.location.hostname!==getHostName(t.href)&&"access.cdn.redhat.com"!==getHostName(t.href)&&new RegExp(_satellite.getVar("redHatDomains").join("|"),"i").test(getHostName(t.href))},isCta=function(t){return!(!t.classList.contains("cta-primary")&&"primary"!=t.getAttribute("data-rh-cta-type")&&"primary"!=t.getAttribute("data-ux-cta-type"))},isTab=function(t){return!!(t.classList.contains('[data-toggle="tab"]')||t.classList.contains("pfe-accordion-header")||t.classList.contains('[role="tab"]')||t.classList.contains("ux-vtab-nav-link")||t.classList.contains("ux-tile-nav-link")||t.classList.contains("btn-brick")||t.classList.contains("ux-htab-nav-link")||t.classList.contains("ux-horizontal-tab-nav-link")||t.classList.contains("ux-oss-hub-filter-type-text")||t.classList.contains("ux-htabb-nav-link")||"tab"==t.getAttribute("data-toggle")||"PFE-ACCORDION-HEADER"==t.tagName||"tab"==t.getAttribute("role"))},isFooter=function(t){return el=t.closest("footer"),"undefined"!=typeof el&&null!=el},isInternalCampaign=function(t){return(""!=window._sdi.util.getQueryParam("icid",t.href)||""!=window._sdi.util.getQueryParam("intcmp",t.href))&&(linkRole=t.getAttribute("role")||"",_satellite.logger.log("isInternalCampaign: linkRole:",linkRole),"tab"!==linkRole||void 0)},isPromoSection=function(t){return el=t.closest("div.band-hero"),"undefined"!=typeof el&&null!=el},isSearchContainer=function(t){return _satellite.logger.log("isSearchContainer ran"),el=t.closest("div.cp-sidebar")||t.closest("div.cp-search-results"),_satellite.logger.log("isSearchContainer el",el),_satellite.logger.log("isSearchContainer return","undefined"!=typeof el&&null!=el&&document.location.href.indexOf("search")>-1),"undefined"!=typeof el&&null!=el&&document.location.href.indexOf("search")>-1},getHostName=function(e){return t=document.createElement("a"),t.href=e,t.hostname},pushEvent=function(t){window.appEventData=window.appEventData||[],console.info("Pushing to the dataLayer",t);var e=window[dataLayerName];Array.isArray(e)&&e.push(t)};window.analyticsHelper=window.analyticsHelper||{},window.analyticsHelper.parseCustomEvent=function(t,e,n){_satellite.logger.log("target:",t);var a=parseAttributes(t),i=null,r=getRegions(t);if(e)i=e.closest("[data-analytics-region]");else{var s=t.getRootNode();s&&s.host&&(i=t.getRootNode().host.closest("[data-analytics-region]"))}i&&(r=r.concat(getRegions(i))),"expand"===n&&r.includes("mega menu")&&(a.event="Mega Menu Expanded"),"expand"===n&&r.includes("site-switcher")&&(a.event="Site Switcher Expanded"),"true"!==a.istab&&"true"!==a.isTab||(a.event="Tab Link Clicked",tabHref=t.getAttribute("href")||getLinkText(t)||"",tabHref=tabHref.trim(),a.tabHref=tabHref),_satellite.logger.log("attributes",a),_satellite.logger.log("event type",n),_satellite.logger.log("regions",r),a=addAttributes(t,a);var o=buildDataObject(t,a,r);o.event&&pushEvent(o)};var clickHandler=function(t){if(!(t.target&&t.target.tagName&&t.target.tagName.indexOf("-")>0)){var e=findRootElement(t.target);if(e){var n=parseAttributes(e);isTab(e)&&(n.event="Tab Link Clicked",tabHref=e.getAttribute("href")||getLinkText(e)||"",tabHref=tabHref.trim(),n.tabHref=tabHref),n=addAttributes(e,n);var a=buildDataObject(e,n);a.event&&pushEvent(a)}}};document.addEventListener("click",clickHandler,!0),document.addEventListener("pfe-tabs:shown-tab",(function(t){if(window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent){var e=t.target.closest("pfe-content-set")||t.target.closest("pfe-tabs"),n=null;if(e){if("PFE-CONTENT-SET"===e.tagName){var a=t.detail.tab.querySelector("slot");if(a)(n=e.getSlot(a.getAttribute("name")))&&(n=e.getSlot(t.detail.tab.querySelector("slot").getAttribute("name"))[0])}else n=t.detail.tab;n?(n.setAttribute("data-analytics-isTab","true"),_satellite.logger.info("Called pfe-tabs:shown-tab:parseCustomEvent clicked"),window.analyticsHelper.parseCustomEvent(n,e,"clicked")):console.warn("Wasn't able to find the tabTextWrapper")}else console.warn("Wasn't able to find the componentParent")}})),document.addEventListener("pfe-accordion:change",(function(t){if(window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent){var e=t.target.closest("pfe-content-set")||t.target.closest("pfe-accordion");if(t.detail.expanded){var n="PFE-ACCORDION-HEADER"===t.target.tagName?t.target:t.path[0];if(e&&"PFE-CONTENT-SET"===e.tagName){var a=n.querySelector("slot");if(a){var i=e.getSlot(a.getAttribute("name"));i&&i[0]&&(n=i[0])}}n&&n.setAttribute("data-analytics-isTab","true"),_satellite.logger.info("Called pfe-accordion:change:parseCustomEvent expand"),window.analyticsHelper.parseCustomEvent(n,e,"expand")}}})),document.addEventListener("pfe-shadow-dom-event",(function(t){window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent&&window.analyticsHelper.parseCustomEvent(t.detail.target,t.detail.parentComponent,"click")})),document.addEventListener("pfe-navigation:expanded-item",(function(t){window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent&&window.analyticsHelper.parseCustomEvent(t.detail.toggle,t.target,"expand")}));
});</script><div id="ZN_bCxD2jjWRr4bfVQ"></div><script type="text/javascript" src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/Untitled.js"></script><script src="Composing,%20installing,%20and%20managing%20RHEL%20for%20Edge%20images%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/CoreModule.js" defer="defer"></script><script>_satellite["_runScript4"](function(event, target, Promise) {
_satellite.getVar("eloqua_Tag");
});</script><script>_satellite["_runScript5"](function(event, target, Promise) {
var body=document.body,html=document.documentElement,pageHeight=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),viewportHeight=window.innerHeight,initialPercent=viewportHeight/pageHeight,maxInterval=0;initialPercent=initialPercent>1?100:Math.round(100*initialPercent);var maxScroll=Math.floor(initialPercent);_satellite.cookie.set("sat_ppv",maxScroll,{domain:".redhat.com"});var ticking=!1,s=window.scrollY;document.addEventListener("scroll",(()=>{ticking||(window.requestAnimationFrame((()=>{var t=document.body,e=document.documentElement;s=window.scrollY;var i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),o=window.innerHeight,l=s/(i-o)*100;l>maxScroll&&(maxScroll=Math.floor(l)),_satellite.cookie.set("sat_ppv",maxScroll,{domain:".redhat.com"}),ticking=!1})),ticking=!0)}),{passive:!0});
});</script><script>
if("yes"==_satellite.getVar("tagsAllowedFunc")){var profileID=_satellite.getVar("profileID")||"";if(profileID)try{!function(e){!function(t,n,i,a,o){var c,l,r,f,s;for((o=t[a]=t[a]||{})._q=[],l=0,r=(c=["initialize","identify","updateOptions","pageLoad"]).length;l<r;++l)!function(e){o[e]=o[e]||function(){o._q[e===c[0]?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}}(c[l]);(f=n.createElement(i)).async=!0,f.src="https://cdn.pendo.io/agent/static/"+e+"/pendo.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(f,s)}(window,document,"script","pendo"),setTimeout((function(){"undefined"!=typeof pendo&&pendo.initialize({visitor:{id:_satellite.getVar("profileID"),internal:"",lang:""},account:{id:_satellite.getVar("accountID"),account_number:_satellite.getVar("accountID")}})}),2e3)}("f210c485-387f-43ad-4eee-f55bab22507f")}catch(e){}}
</script></body></html>