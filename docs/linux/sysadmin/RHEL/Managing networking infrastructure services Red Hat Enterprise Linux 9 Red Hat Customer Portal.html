<!DOCTYPE html>
<html dir="ltr" prefix="og: https://ogp.me/ns#" class=" js supports cssanimations flexbox csstransforms csstransforms3d" style="" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style><style type="text/css">.truste_cursor_pointer {cursor: pointer;}.truste_border_none {border: none;}</style>
    <meta charset="utf-8">
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<meta property="og:site_name" content="Red Hat Customer Portal">
<meta property="og:type" content="article">
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<meta property="og:title" content="Managing networking infrastructure services Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<meta property="og:description" content="This document describes how to set up and manage networking core infrastructure services, such as DNS and DHCP, on Red Hat Enterprise Linux 9.">
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="This document describes how to set up and manage networking core infrastructure services, such as DNS and DHCP, on Red Hat Enterprise Linux 9.">
<meta name="twitter:title" content="Managing networking infrastructure services Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<meta name="twitter:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png">
<meta name="title" content="Managing networking infrastructure services Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<link rel="alternate" hreflang="en" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="ko" href="https://access.redhat.com/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="zh-hans" href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="ja" href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="es" href="https://access.redhat.com/documentation/es-es/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="ru" href="https://access.redhat.com/documentation/ru-ru/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="pt-br" href="https://access.redhat.com/documentation/pt-br/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="it" href="https://access.redhat.com/documentation/it-it/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="de" href="https://access.redhat.com/documentation/de-de/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="fr" href="https://access.redhat.com/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<link rel="alternate" hreflang="zh-hant" href="https://access.redhat.com/documentation/zh-tw/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index">
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)">
<meta name="MobileOptimized" content="width">
<meta name="HandheldFriendly" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="revision" product="0ad2e1c5-8cc7-4fb9-8e05-1c2d8c07d005" title="a5600974-9732-4894-8d4b-e84e401d39c2" page="205cfe00-bdd5-4fe4-b307-f6b38210ddc8" revision="90ebb6d24102c002aa312ec5c54de23e6b9a0c8a:en-us" body="bf61520536d46d87c63c31a95c34d0ba.html" toc="04cd18bef06e8e561a74c99e9755de1f.json">

    <title>Managing networking infrastructure services Red Hat Enterprise Linux 9 | Red Hat Customer Portal</title>
    <link rel="stylesheet" media="all" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css">
<link rel="stylesheet" media="all" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/css__Xq4GfgPDJw9K_yYJFmlRZGJeCENu3R3r4s0K7Tr_9g.css">

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"documentation\/en-us\/red_hat_enterprise_linux\/9\/html-single\/managing_networking_infrastructure_services\/index","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"red_hat_jwt":{"client_id":"customer-portal","cookie_name":"rh_jwt","leeway":"0","realm":"redhat-external","sso_host":"https:\/\/sso.redhat.com\/","user_integration":1,"user_plugin":"drupal_user_auth","use_external_js":0,"use_internal_js":0,"use_in_admin":0},"user":{"uid":0,"permissionsHash":"e301988aec96403b7b03860ee81161237ee18c188536caa2bfab8701012b505e"}}</script>
<script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/js_EQWKo9EokWkWS99x_e1oM-NEM0zlKyTkp_83mGdm5Ks.js"></script>

    <!-- CP_PRIMER_HEAD -->  <!-- TrustArc & DTM -->
  <script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/trustarc.js"></script><script type="text/javascript" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/notice" id="truste_0.503056426899348"></script>
  <script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/dtm.js"></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement.min.js" async=""></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement_Module_ActivityMap.min.js" async=""></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement_Module_AudienceManagement.min.js" async=""></script><script id="mktgJS" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh.mktg.js"></script><script>_satellite["_runScript1"](function(event, target, Promise) {
var targetWaitAttempts = 0;

var awaitBody = function(offer){
	//mbox call has returned, ensure <body> exists, then add the mbox DIV
	var docBody  = document.getElementsByTagName("body"),
		int_mbox;
	if(docBody.length){
		int_mbox = document.createElement("div");
		docBody = docBody[0];
		int_mbox.id = "int_mbox";
		int_mbox.classList.add("mboxDefault");
		int_mbox.style.display = "none";
		//place mbox DIV as first tag within BODY
		docBody.insertBefore(int_mbox, docBody.firstChild);
	
		//now that receiving DIV is in place, inject the offer code
		adobe.target.applyOffer({
			"mbox": "int_mbox",
			"selector": "#int_mbox",
			"offer": offer
		});
	
		//and then un-hide the mbox DIV
		int_mbox.style.display = "block";
	}else{
		setTimeout(function(){awaitBody(offer)},100);
	}
}

var awaitTarget = function(){
	if (typeof adobe !== "undefined" && typeof adobe.target !== "undefined" && typeof adobe.target.getOffer !== "undefined") {
		//First get the mbox call going out
		adobe.target.getOffer({
			"mbox": "int_mbox",
			"success": function(offer) {
				awaitBody(offer);
			},
			// Handle errors gracefully
			"error": function(status, error) {}
		});
	}else{
		if(++targetWaitAttempts < 50){
			setTimeout(awaitTarget,100);
		}
	}
}
awaitTarget();
});</script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/v1.7-920" async="async" crossorigin="" importance="high"></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="dxp-kbase-prod-138-57cf79cd99-wkvtp">
<meta name="avalon-version" content="eb0593bd">
<meta name="cp-chrome-build-date" content="2023-09-01T18:06:20.591Z">

<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml">
<!-- title -->
<title>Red Hat Customer Portal - Access to 24x7 support and knowledge</title>
<!-- /title -->
<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en", 
        version   : "eb0593bd",
        builddate : "2023-09-01T18:06:20.591Z",        fetchdate : "2023-09-03T14:30:08-0400",        nrid      : "NOLONGERSUPPORTED",
        nrlk      : "NOLONGERSUPPORTED"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="https://access.redhat.com/webassets/avalon/g/favicon.ico"><link media="all" rel="stylesheet" type="text/css" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/bootstrap.css">
<link media="all" rel="stylesheet" type="text/css" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/bootstrap-grid.css">
<link media="all" rel="stylesheet" type="text/css" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/main.css">



<link href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/chosen.css" rel="stylesheet" type="text/css">

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]--><noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>
<link media="all" rel="stylesheet" type="text/css" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-navigation--lightdom.min.css">
<!-- /cssInclude -->
<script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/ie-polyfills.js"></script>

<script async="">
  if (!HTMLScriptElement.supports || !HTMLScriptElement.supports('importmap')) {
    import("https://www.redhatstatic.com/dx/v1-alpha/es-module-shims@1.7.3.js");
  }
</script>
<script type="importmap">
{
  "imports": {
    "@patternfly/elements/" : "https://www.redhatstatic.com/dx/v1-alpha/@patternfly/elements@2.2.2/",
    "@rhds/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/elements/",
    "@rhds/elements/lib/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/lib/",
    "@cpelements/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@cpelements/elements@2.0.0-alpha.7/elements/"
  }
}
</script><script type="text/javascript" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/require.js" data-main="/webassets/avalon/j/"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
<script type="text/javascript" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/new-nav.js"></script>
<!-- /CP_PRIMER_HEAD -->

  <script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC89cb5efc622a491caa02ca11adc4672f-source.min.js" async=""></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC4291db99e867433ca8496d298dca09cb-source.min.js" async=""></script><link href="data:text/css,%5Bid*%3D'google_ads_iframe'%5D%2C%5Bid*%3D'taboola-'%5D%2C.taboolaHeight%2C.taboola-placeholder%2C%23credential_picker_container%2C%23credentials-picker-container%2C%23credential_picker_iframe%2C%5Bid*%3D'google-one-tap-iframe'%5D%2C%23google-one-tap-popup-container%2C.google-one-tap-modal-div%2C%23amp_floatingAdDiv%2C%23ez-content-blocker-container%2C%23notify-adblock%7Bdisplay%3Anone!important%3Bmin-height%3A0!important%3Bheight%3A0!important%3B%7D" rel="stylesheet" type="text/css"><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/prompt.js"></script><script charset="utf-8" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/12.2158c5447122fa995560.chunk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="https://access.redhat.com/webassets/avalon/j/lib/require-css/require.css.min.js" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/require.css.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="rhn-modal" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rhn-modal.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="status-widget" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/status-widget.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="avatars" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/avatars.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="cookie-monster" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/cookie-monster.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="pfe" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="wc" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/wc.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nimbus/searchbar" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/searchbar.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="webcomponentsjs/custom-elements-es5-adapter" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/custom-elements-es5-adapter.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="webcomponentsjs/webcomponents-bundle" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/webcomponents-bundle.js"></script><link rel="stylesheet" media="all" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-table--lightdom.min.css"><script charset="utf-8" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/7.41dc96447e48575a0cfd.chunk.js"></script><script charset="utf-8" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/1.e4bb9861ae9a0d936559.chunk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="data-action" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/data-action.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-icon/dist/pfe-icon.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-icon.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-cta/dist/pfe-cta.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-cta.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-avatar/dist/pfe-avatar.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-avatar.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/cp-search-autocomplete/dist/cp-search-autocomplete.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/cp-search-autocomplete.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-site-switcher/dist/site-switcher.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/site-switcher.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/pfe-navigation/dist/pfe-navigation.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-navigation.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-primary-detail/dist/pfe-primary-detail.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-primary-detail.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nimbus/tour" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/tour.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfelement/dist/pfelement.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfelement.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-autocomplete/dist/pfe-autocomplete.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-autocomplete.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="introjs" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/introjs.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="moment" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/moment.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-button/dist/pfe-button.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-button.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-table/dist/rh-table.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-table.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ieSVGfix" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/ieSVGfix.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-account-dropdown/dist/rh-account-dropdown.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-account-dropdown.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-clipboard/dist/pfe-clipboard.umd.min" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-clipboard.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="prism" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/prism.js"></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC1badf0bc400d462b892df3a5874c0bc4-source.min.js" async=""></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RCb1afac0346e94d81bf645b608336061e-source.min.js" async=""></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RCa65a5b793a1a4b4abe76ffa69f30f470-source.min.js" async=""></script></head>
  <body class="en loggedOut">
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas="">
      <!-- CP_PRIMER_HEADER -->
<div id="page-wrap" class="page-wrap">
    <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">

      <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
      <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden">Skip to navigation</a>
            <a href="#doc-wrapper" class="skip-link visually-hidden">Skip to main content</a>            <nav id="portal-utility-nav" class="utility-navigation utility-navigation--bar hidden-at-mobile" data-analytics-region="utility" aria-labelledby="nav__utility-nav--desktop">
                <h3 id="nav__utility-nav--desktop" class="element-invisible">Utilities
                </h3>
                <ul aria-labelledby="nav__utility-nav--desktop">
                    <li id="nav-subscription" data-portal-tour-1="1">
                        <a class="top-nav-subscriptions" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Subscription" href="https://access.redhat.com/management/">Subscriptions
                        </a>
                    </li>
                    <li id="nav-downloads" data-portal-tour-1="2">
                        <a class="top-nav-downloads" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/">Downloads
                        </a>
                    </li>
                    <li id="nav-containers">
                        <a class="top-nav-containers" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/">Containers
                        </a>
                    </li>
                    <li id="nav-support" data-portal-tour-1="3">
                        <a class="top-nav-support-cases" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/">Support Cases
                        </a>
                    </li>
                </ul>
            </nav>

            <pfe-navigation id="pfe-navigation" data-analytics-region="mega menu" pfelement="" class="PFElement pfe-navigation--processed pfe-navigation--has-search pfe-navigation--custom-dropdowns--processed" type="combo" has_search="" has_account="" breakpoint="desktop" lang="en">
                <div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper">
                    <a href="https://access.redhat.com/" class="pfe-navigation__logo-link" data-analytics-text="logo" data-analytics-category="MM|logo">
                        <img class="pfe-navigation__logo-image" alt="Red Hat Customer Portal" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/red-hat-customer-portal.svg">
                    </a>
                </div>

                <nav class="pfe-navigation" aria-label="Main Navigation" data-analytics-region="main nav">
                    <ul class="pfe-navigation__menu" id="pfe-navigation__menu">                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-subscription--mobile" data-portal-tour-1="1">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Subscription" href="https://access.redhat.com/management/">Subscriptions
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-downloads--mobile" data-portal-tour-1="2">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/">Downloads
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-containers--mobile">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/">Containers
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-support--mobile" data-portal-tour-1="3">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/">Support Cases
                            </a>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Products and Services">Products &amp; Services
                            </a>
                            <div class="pfe-navigation__dropdown has-primary-detail">                                <div class="desktop-col-span-2 tablet-col-span-all">
                                    <h3>
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Products" href="https://access.redhat.com/products/">Products
                                        </a>
                                    </h3>
                                    <slot name="main-menu__dropdown--product__product-listing"></slot>
                                </div>                                <div>
                                    <h3 id="nav__products__support">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Support" href="https://access.redhat.com/support">Support
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__support">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Production Support" href="https://access.redhat.com/support/offerings/production/">Production Support
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Development Support" href="https://access.redhat.com/support/offerings/developer/">Development Support
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Product Life Cycles" href="https://access.redhat.com/product-life-cycles/">Product Life Cycles
                                                    </a></li>
                                    </ul>

                                    <h3 id="nav__products__services">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Services" href="https://www.redhat.com/en/services">Services
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__services">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Consulting" href="https://www.redhat.com/en/services/consulting">Consulting
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Technical Account Management" href="https://access.redhat.com/support/offerings/tam/">Technical Account Management
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Training and Certifications" href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__products__documentation">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Documentation" href="https://access.redhat.com/documentation">Documentation
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__documentation">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform
                                                        </a></li>
                                    </ul>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="All Documentation" data-analytics-linktype="cta" href="https://access.redhat.com/documentation">All Documentation
                                        </a>
                                    </pfe-cta>

                                    <h3 id="nav__products__catalog"><a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Ecosystem Catalog" href="https://catalog.redhat.com/">Ecosystem Catalog
                                        </a></h3>
                                        <ul aria-labelledby="nav__products__catalog">
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Red Hat Partner Ecosystem" href="https://access.redhat.com/ecosystem/">Red Hat Partner Ecosystem
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Partner Resources" href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources
                                                    </a></li>
                                        </ul>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Tools" href="https://access.redhat.com/labs/">Tools
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__tools__tools" data-analytics-level="2" data-analytics-text="Tools" data-analytics-category="Tools">Tools
                                    </h3>
                                    <ul aria-labelledby="nav__tools__tools">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Solution Engine" href="https://access.redhat.com/support/cases/#/troubleshoot">Troubleshoot a product issue
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Packages" href="https://access.redhat.com/downloads/content/package-browser">Packages
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Errata" href="https://access.redhat.com/errata/">Errata
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__tools__labs">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Customer Portal Labs" href="https://access.redhat.com/labs/">Customer Portal Labs
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__tools__labs">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Configuration" href="https://access.redhat.com/labs/#!?type=config">Configuration
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Deployment" href="https://access.redhat.com/labs/#!?type=deploy">Deployment
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Security" href="https://access.redhat.com/labs/#!?type=security">Security
                                                    </a></li>                                                    <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Troubleshooting" href="https://access.redhat.com/labs/#!?type=troubleshoot">Troubleshoot
                                                        </a></li>
                                    </ul>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="All Labs" data-analytics-linktype="cta" href="https://access.redhat.com/labs/">All labs
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h4 id="nav__tools__red-hat-insights">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Red Hat Insights" href="https://www.redhat.com/en/technologies/management/insights">Red Hat Insights
                                        </a>
                                    </h4>
                                    <p>Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Learn more" href="https://www.redhat.com/en/technologies/management/insights">Learn More
                                    </a>
                                    <br>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Go to Insights" href="https://cloud.redhat.com/insights">Go to Insights
                                    </a>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Security" href="https://access.redhat.com/security/">Security
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="security__security-center">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Red Hat Product Security Center" href="https://access.redhat.com/security">Red Hat Product Security Center
                                        </a>
                                    </h3>
                                    <p>Engage with our Red Hat Product 
Security team, access security updates, and ensure your environments are
 not exposed to any known security vulnerabilities.
                                    </p>
                                    <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Security|Red Hat Product Security Center" data-analytics-text="Product Security Center" data-analytics-linktype="cta" href="https://access.redhat.com/security/">Product Security Center
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__updates" data-analytics-level="2" data-analytics-text="Security Updates" data-analytics-category="Security">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Security Updates" href="https://access.redhat.com/security">Security Updates
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__updates">
                                        <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Advisories" href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Red Hat CVE Database" href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Labs" href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs
                                                    </a></li>
                                    </ul>
                                    <p class="margin-top-xl">Keep your systems secure with Red Hat's specialized responses to security vulnerabilities.
                                    </p>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="View Responses" data-analytics-linktype="cta" href="https://access.redhat.com/security/vulnerability">View Responses
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__resources">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Resources" href="https://access.redhat.com/security/overview">Resources
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__resources">                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Blog" href="https://redhat.com/en/blog/channel/security">Security Blog
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Measurement" href="https://www.redhat.com/security/data/metrics/">Security Measurement
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Severity Ratings" href="https://access.redhat.com/security/updates/classification/">Severity Ratings
                                                        </a></li>
                                                        <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Backporting Policies" href="https://access.redhat.com/security/updates/backporting/">Backporting Policies
                                                            </a></li>
                                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Product Signing (GPG) Keys" href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys
                                                                </a></li>
                                    </ul>
                                </div>

                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/community/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Community">Community
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__community__cp-community">
                                        <a href="https://access.redhat.com/community" data-analytics-level="2" data-analytics-text="Customer Portal Community" data-analytics-category="Community">Customer Portal Community
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__community__cp-community">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Discussions" href="https://access.redhat.com/discussions">Discussions
                                            </a></li>                                                <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Private Groups" href="https://access.redhat.com/groups/">Private Groups
                                                    </a></li>
                                    </ul>

                                    <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Community Activity" data-analytics-linktype="cta" href="https://access.redhat.com/community/">Community Activity
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__community__events" data-analytics-level="2" data-analytics-text="Customer Events" data-analytics-category="Community">Customer Events
                                    </h3>
                                    <ul aria-labelledby="nav__community__events">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Convergence" href="https://access.redhat.com/convergence/">Red Hat Convergence
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Summit" href="http://www.redhat.com/summit/">Red Hat Summit
                                                </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__community__stories" data-analytics-level="2" data-analytics-text="Stories" data-analytics-category="Community">Stories
                                    </h3>
                                    <ul aria-labelledby="nav__community__stories">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Red Hat Subscription Value" href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-text="You Asked. We Acted." data-analytics-category="Community|Stories" href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Open Source Communities" href="http://www.redhat.com/en/open-source">Open Source Communities
                                                    </a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>                </nav>                <div id="site-search" slot="search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <cp-search-autocomplete class="push-bottom PFElement" path="/webassets/avalon/j/data.json" num-items="5" placeholder="Enter your search term" pfelement="" type="container"></cp-search-autocomplete>                            <div>Or <a href="https://access.redhat.com/support/cases/#/troubleshoot">troubleshoot an issue</a>.
                            </div>
                        </form>
                    </div>
                </div>


                <div slot="secondary-links" id="localesMenu" class="pfe-navigation__custom-dropdown__wrapper--single-column pfe-navigation__custom-dropdown__wrapper">
                    <button class="pfe-navigation__secondary-link" id="pfe-navigation__secondary-link--English" aria-controls="pfe-navigation__custom-dropdown--English" aria-expanded="false">
                        <pfe-icon icon="web-icon-globe" size="sm" aria-hidden="true" pfelement="" class="PFElement" on="light" type="content"></pfe-icon>English
                    </button>

                    
                <div id="pfe-navigation__custom-dropdown--English" class="pfe-navigation__dropdown-wrapper pfe-navigation__custom-dropdown--single-column pfe-navigation__dropdown-wrapper--invisible" aria-hidden="true" tabindex="-1"><pfe-navigation-dropdown dropdown-width="single" pfelement="" class="PFElement pfe-navigation__dropdown" type="container" data-id-suffix="English">
                        <h2 class="utility-header">Select Your Language
                        </h2>
                        <ul class="reset">
                            <li><a href="https://access.redhat.com/changeLanguage?language=en&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index" data-lang="en" id="en" data-analytics-text="English" class="selected">English</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ko&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index" data-lang="ko" id="ko" data-analytics-text="Korean"></a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ja&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index" data-lang="ja" id="ja" data-analytics-text="Japanese"></a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services/index" data-lang="zh_CN" id="zh_CN" data-analytics-text="Chinese"> ()</a></li>
                        </ul>

                    </pfe-navigation-dropdown></div></div>                <rh-account-dropdown slot="account" pfelement="" class="PFElement" type="content" login-link="https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/auth?client_id=customer-portal&amp;redirect_uri=https%3A%2F%2Faccess.redhat.com%2Fwebassets%2Favalon%2Fj%2Fincludes%2Fsession%2Fscribe%2F%3FredirectTo%3Dhttps%253A%252F%252Faccess.redhat.com%252Fdocumentation%252Fen-us%252Fred_hat_enterprise_linux%252F9%252Fhtml-single%252Fmanaging_networking_infrastructure_services%252Findex&amp;state=876aa576-43b0-49ff-95ad-5ab921916fbd&amp;nonce=c929a03b-7acd-459b-80e7-af6b6c2bdc64&amp;response_mode=fragment&amp;response_type=code&amp;scope=openid" lang="en"></rh-account-dropdown>                <pfe-primary-detail breakpoint-width="600" class="main-menu__dropdown--product__product-listing PFElement" slot="main-menu__dropdown--product__product-listing" consistent-height="" aria-orientation="vertical" role="tablist" pfelement="" on="&quot;light&quot;" type="container" has_details="" breakpoint="compact">
                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-0qrpuv5vw" data-index="0" aria-controls="pfe-detail-er3m1vd4k" aria-expanded="false">Infrastructure and Management                    </button>
                    <div slot="details" data-index="0" id="pfe-detail-er3m1vd4k" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-0qrpuv5vw" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Satellite" href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Subscription Management" href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Insights" href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights
                                </a>
                            </li>
                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Ansible Automation Platform" href="https://access.redhat.com/products/red-hat-ansible-automation-platform/">Red Hat Ansible Automation Platform
                                </a></li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-m6kvw33b1" data-index="1" aria-controls="pfe-detail-owuh91k18" aria-expanded="false">Cloud Computing                    </button>
                    <div slot="details" data-index="1" id="pfe-detail-owuh91k18" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-m6kvw33b1" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift" href="https://access.redhat.com/products/openshift">Red Hat OpenShift
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Data Science" href="https://access.redhat.com/products/red-hat-openshift-data-science/">Red Hat OpenShift Data Science
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Dedicated" href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat Advanced Cluster Security for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/">Red Hat Advanced Cluster Security for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Advanced Cluster Management for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Quay" href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat CodeReady Workspaces" href="https://access.redhat.com/products/red-hat-codeready-workspaces/">OpenShift Dev Spaces
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Service on AWS" href="https://access.redhat.com/products/red-hat-openshift-service-aws">Red Hat OpenShift Service on AWS
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-8s2w58847" data-index="2" aria-controls="pfe-detail-npnt6wpd8" aria-expanded="false">Storage                    </button>
                    <div slot="details" data-index="2" id="pfe-detail-npnt6wpd8" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-8s2w58847" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Gluster Storage" href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Hyperconverged Infrastructure" href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Ceph Storage" href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Openshift Container Storage" href="https://access.redhat.com/products/red-hat-openshift-data-foundation">Red Hat OpenShift Data Foundation
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-g2vu1pzw6" data-index="3" aria-controls="pfe-detail-gnh5pvv0a" aria-expanded="false">Runtimes                    </button>
                    <div slot="details" data-index="3" id="pfe-detail-gnh5pvv0a" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-g2vu1pzw6" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Runtimes" href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Data Grid" href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Web Server" href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Single Sign On" href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat support for Spring Boot" href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Node.js" href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js
                                </a>
                            </li>                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Quarkus" href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-eym7ogj51" data-index="4" aria-controls="pfe-detail-o0x9qa34y" aria-expanded="false">Integration and Automation                    </button>
                    <div slot="details" data-index="4" id="pfe-detail-o0x9qa34y" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-eym7ogj51" data-processed="true" aria-hidden="true" hidden="">
                        <ul class="border-bottom" id="portal-menu-border-bottom">
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Application Foundations" href="https://access.redhat.com/products/red-hat-application-foundations/">Red Hat Application Foundations
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Fuse" href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat AMQ" href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat 3scale API Management" href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div slot="details-nav--footer">
                        <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" on="&quot;light&quot;" has_link="">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="2" data-analytics-text="All Products" data-analytics-category="Products and Services|Products:" data-analytics-linktype="cta">All Products
                            </a>
                        </pfe-cta>
                    </div>
                </pfe-primary-detail>

            <div slot="secondary-links" class="pfe-navigation__site-switcher pfe-navigation__custom-dropdown__wrapper--full pfe-navigation__custom-dropdown__wrapper" mobile-slider=""><button class="pfe-navigation__secondary-link" id="pfe-navigation__secondary-link--All-Red-Hat" aria-controls="pfe-navigation__custom-dropdown--All-Red-Hat" aria-expanded="false"><pfe-icon icon="web-icon-grid-3x3" size="sm" aria-hidden="true" pfelement="" class="PFElement" on="light" type="content"></pfe-icon>All Red Hat</button> <div id="pfe-navigation__custom-dropdown--All-Red-Hat" class="pfe-navigation__dropdown-wrapper pfe-navigation__custom-dropdown--full pfe-navigation__dropdown-wrapper--invisible" aria-hidden="true" tabindex="-1"><pfe-navigation-dropdown dropdown-width="full" pfelement="" class="PFElement pfe-navigation__dropdown" type="container" data-id-suffix="All-Red-Hat"><div class="pfe-navigation__site-switcher__back-wrapper"><button class="pfe-navigation__site-switcher__back-button" aria-label="Close undefined and return to menu">Back to menu</button></div><site-switcher pfelement="" class="PFElement" type="content" lang="en"><article class="node-355871 node node-page clearfix">


    <div class="field field-name-body field-type-text-with-summary field-label-hidden">
        <div class="field-items">
            <div class="field-item even">
                <!--linking to stylesheets so /cms/ajax/site-switcher will load with styles -->
  <link type="text/css" rel="stylesheet" href="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/site-switcher.css" media="all">
  
  <!-- overriding css variables to get the redhat.com logo box and text to change style indicating you are on this site-->

                <style>
                    :root {
                        --rhdc--logo: var(--rhdc--logo--you-are-here);
                        --rhdc--backgroundColor: var(--background--you-are-here);
                        --rhdc--label: var(--label--you-are-here);
                        --rhdc--margin-top: 0px;
                    }
                </style>

                <section class="site-switcher-tray" data-analytics-region="site-switcher">
                    <div class="content">
                        <div class="container">
                            <section class="site-switcher-container">
                                <ul class="site-switcher-primary-list">
                                    <li class="rhdc">
                                        <a href="https://www.redhat.com/?intcmp=701f20000012k69AAA" data-analytics-category="Websites" data-analytics-text="redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat</h3>
                                            <p>Learn about our open source products, services, and company.</p>
                                        </a>
                                    </li>
                                    <li class="customer-portal">
                                        <a href="https://access.redhat.com/?intcmp=701f20000012k6EAAQ" data-analytics-category="Websites" data-analytics-text="access_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Customer portal -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Customer Portal</h3>
                                            <p>Get product support and knowledge from the open source experts.</p>
                                        </a>
                                    </li>
                                    <li class="developers">
                                        <a href="https://developers.redhat.com/?intcmp=701f20000012k6JAAQ" data-analytics-category="Websites" data-analytics-text="developers_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Red Hat Developer -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Developer</h3>
                                            <p>Read developer tutorials and download Red Hat software for cloud
                                                application development.</p>
                                        </a>
                                    </li>
                                    <li class="connect">
                                        <a href="https://connect.redhat.com/" data-analytics-category="Websites" data-analytics-text="connect_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Red Hat Partner Connect -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Partner Connect</h3>
                                            <p>Become a Red Hat partner and get support in building customer solutions.
                                            </p>
                                        </a>
                                    </li>
                                </ul>
                                <hr>

                                <ul class="site-switcher-secondary-list">
                                    <li>
                                        <h2>Products</h2>
                                        <ul>
                                            <li><a href="https://www.ansible.com/?intcmp=701f20000012k6TAAQ" data-analytics-category="Websites" data-analytics-text="ansible">
                                                    <h3>Ansible.com</h3>
                                                </a>Learn about and try our IT automation product.</li>

                                        </ul>
                                    </li>
                                    <li>
                                        <h2>Try, Buy, Sell</h2>
                                        <ul>
                                            <li><a href="https://cloud.redhat.com/" data-analytics-category="Websites" data-analytics-text="hybrid-cloud">
                                                    <h3>Red Hat Hybrid Cloud</h3>
                                                </a>Access technical how-tos, tutorials, and learning paths focused on
                                                Red Hats hybrid cloud managed services.</li>

                                            <li><a href="https://www.redhat.com/store?intcmp=701f20000012k6nAAA" data-analytics-category="Websites" data-analytics-text="store">
                                                    <h3>Red Hat Store</h3>
                                                </a>Buy select Red Hat products and services online.</li>

                                            <li><a href="https://marketplace.redhat.com/" data-analytics-category="Websites" data-analytics-text="marketplace">
                                                    <h3>Red Hat Marketplace</h3>
                                                </a>Try, buy, sell, and manage certified enterprise software for
                                                container-based environments.</li>

                                        </ul>
                                    </li>
                                    <li>
                                        <h2>Community &amp; Open Source</h2>
                                        <ul>
                                            <li><a href="https://enterprisersproject.com/?intcmp=701f20000012k6sAAA" data-analytics-category="Websites" data-analytics-text="enterprisersproject">
                                                    <h3>The Enterprisers Project</h3>
                                                </a>Read analysis and advice articles written by CIOs, for CIOs.</li>
                                            <li><a href="https://opensource.com/?intcmp=701f20000012k6OAAQ" data-analytics-category="Websites" data-analytics-text="opensource">
                                                    <h3>Opensource.com</h3>
                                                </a>Read articles on a range of topics about open source.</li>
                                        </ul>
                                    </li>
                                    <li>
                                        <h2>&nbsp;</h2>
                                        <ul>
                                            <li><a href="https://www.redhat.com/summit?intcmp=701f20000012k6xAAA" data-analytics-category="Websites" data-analytics-text="summit">
                                                    <h3>Red Hat Summit</h3>
                                                </a>Register for and learn about our annual open source IT industry
                                                event.</li>
                                            <li><a href="https://catalog.redhat.com/" data-analytics-category="Websites" data-analytics-text="catalog">
                                                    <h3>Red Hat Ecosystem Catalog</h3>
                                                </a>Find hardware, software, and cloud providersand download container
                                                imagescertified to perform with Red Hat technologies.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>



</article></site-switcher></pfe-navigation-dropdown></div></div></pfe-navigation>

            <div id="scroll-anchor"></div>

            <!--[if IE 8]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>
                You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
                </div>
            <![endif]-->
            <!--[if IE 9]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
                </div>
            <![endif]-->
            <div id="site-section"></div>
        <div class="breadcrumbs"><div id="breadcrumbs" class="container"><ul><li><a href="https://access.redhat.com/products/">Products &amp; Services</a></li><li><a href="https://access.redhat.com/documentation">Product Documentation</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red&nbsp;Hat Enterprise Linux</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9">9</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_networking_infrastructure_services">Managing networking infrastructure services</a></li><li>Managing networking infrastructure services</li></ul></div></div></header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">                            <!-- /CP_PRIMER_HEADER -->

      <div class="container">
        

                                                                                                        <script>breadcrumbs = [["Products & Services","\/products\/"],["Product Documentation","\/documentation"],["Red Hat Enterprise Linux","\/documentation\/en-us\/red_hat_enterprise_linux"],["9","\/documentation\/en-us\/red_hat_enterprise_linux\/9"],["Managing networking infrastructure services","\/documentation\/en-us\/red_hat_enterprise_linux\/9\/html\/managing_networking_infrastructure_services"],["Managing networking infrastructure services","\/documentation\/en-us\/red_hat_enterprise_linux\/9\/html\/managing_networking_infrastructure_services\/--single-page-document--"]]</script>

<div data-drupal-messages-fallback="" class="hidden"></div>


    </div>
        <div class="j-chrome-content-container">
        

  

  


  <article class="pvof-doc__content-wrapper__outer">
    <script>
      'use strict';

            var $outerWrapper = document.querySelector('.pvof-doc__content-wrapper__outer');
      if ($outerWrapper && $outerWrapper.closest) {
        var $containerWrapper = $outerWrapper.closest('.container');
        if ($containerWrapper) {
          $containerWrapper.classList.remove('container');
          $containerWrapper.classList.add('j-chrome-content-container');
        }
      }

            var cssRemoved = false;
      try {
        var $crapCss = document.querySelectorAll(
          'link[href*="/chrome_themes/nimbus/css/pages.css"], link[href*="/chrome_themes/nimbus/css/components.css"]'
        );
        if ($crapCss.length) {
          for (let index = 0; index < $crapCss.length; index++) {
            const $stylesheet = $crapCss[index];
            $stylesheet.remove();
          }
        }
        cssRemoved = true;
      }
      catch (error) {
        console.error('Ran into an issue while trying to retheme page', error);
        cssRemoved = false;
      }

            if (cssRemoved) {
        var $pvofOuterWrapper = document.querySelector('.pvof-doc__content-wrapper__outer--css-not-removed');
        if ($pvofOuterWrapper) {
          $pvofOuterWrapper.classList.remove('pvof-doc__content-wrapper__outer--css-not-removed');
        }
      }
    </script>
    <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
    <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
    <div class="pvof-doc__content-wrapper pvof-doc__content-wrapper--has-sidebar">
                                <div class="pvof-doc__content-wrapper__inner j-superdoc j-superdoc--has-nav j-reading-mode-initialized">
                            <div class="pvof-sidebar__wrapper j-doc-nav j-superdoc__nav">
            <div class="j-sidebar__menu-container j-sidebar__menu-container--processed">
              <button class="j-sidebar__menu-trigger content-expander__trigger content-expander__trigger--processed" aria-expanded="true" aria-controls="content-expander-kjb1ena">
                <span class="j-sidebar__menu-trigger__open-text">Jump To</span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>

              <div class="pvof-sidebar__inner-wrapper j-doc-nav__wrapper content-expander content-expander--processed" id="content-expander-kjb1ena" open="">
                <div class="j-sidebar__menu-details-container">
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--expand">
                    Expand all
                  </button>
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--collapse">
                    Collapse all
                  </button>
                </div>
                

  <nav id="pvof-doc__toc" class="pvof-doc__toc">
  <h2 class="j-doc-nav__title" id="j-doc-nav__title">
    Table of contents
  </h2>
  <div class="pvof-doc__toc-inner">
              <ol class="j-doc-nav__list" aria-labelledby="j-doc-nav__title">
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#doc-wrapper" class="j-doc-nav__link is-active">
    Managing networking infrastructure services
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#making-open-source-more-inclusive" class="j-doc-nav__link ">
    Making open source more inclusive
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#proc_providing-feedback-on-red-hat-documentation_networking-infrastructure-services" class="j-doc-nav__link ">
    Providing feedback on Red Hat documentation
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#assembly_setting-up-and-configuring-a-bind-dns-server_networking-infrastructure-services" class="j-doc-nav__link j-doc-nav__link--has-children">
    1. Setting up and configuring a BIND DNS server
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-880h88y">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1. Setting up and configuring a BIND DNS server"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1. Setting up and configuring a BIND DNS server"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-880h88y" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#ref_considerations-about-protecting-bind-with-selinux-or-running-it-in-a-change-root_environment_assembly_setting-up-and-configuring-a-bind-dns-server" class="j-doc-nav__link ">
    1.1. Considerations about protecting BIND with SELinux or running it in a change-root environment
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_configuring-bind-as-a-caching-dns-server_assembly_setting-up-and-configuring-a-bind-dns-server" class="j-doc-nav__link ">
    1.2. Configuring BIND as a caching DNS server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_configuring-logging-on-a-bind-dns-server_assembly_setting-up-and-configuring-a-bind-dns-server" class="j-doc-nav__link ">
    1.3. Configuring logging on a BIND DNS server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_writing-bind-acls_assembly_setting-up-and-configuring-a-bind-dns-server" class="j-doc-nav__link ">
    1.4. Writing BIND ACLs
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#assembly_configuring-zones-on-a-bind-dns-server_assembly_setting-up-and-configuring-a-bind-dns-server" class="j-doc-nav__link j-doc-nav__link--has-children">
    1.5. Configuring zones on a BIND DNS server
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-d5eim6o">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1.5. Configuring zones on a BIND DNS server"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1.5. Configuring zones on a BIND DNS server"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-d5eim6o" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#ref_the-soa-record-in-zone-files_assembly_configuring-zones-on-a-bind-dns-server" class="j-doc-nav__link ">
    1.5.1. The SOA record in zone files
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_setting-up-a-forward-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" class="j-doc-nav__link ">
    1.5.2. Setting up a forward zone on a BIND primary server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_setting-up-a-reverse-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" class="j-doc-nav__link ">
    1.5.3. Setting up a reverse zone on a BIND primary server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_updating-a-bind-zone-file_assembly_configuring-zones-on-a-bind-dns-server" class="j-doc-nav__link ">
    1.5.4. Updating a BIND zone file
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_dnssec-zone-signing-using-the-automated-key-generation-and-zone-maintenance-features_assembly_configuring-zones-on-a-bind-dns-server" class="j-doc-nav__link ">
    1.5.5. DNSSEC zone signing using the automated key generation and zone maintenance features
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_configuring-zone-transfers-among-bind-dns-servers_assembly_setting-up-and-configuring-a-bind-dns-server" class="j-doc-nav__link ">
    1.6. Configuring zone transfers among BIND DNS servers
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_configuring-response-policy-zones-in-bind-to-override-dns-records_assembly_setting-up-and-configuring-a-bind-dns-server" class="j-doc-nav__link ">
    1.7. Configuring response policy zones in BIND to override DNS records
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#assembly_setting-up-an-unbound-dns-server_networking-infrastructure-services" class="j-doc-nav__link j-doc-nav__link--has-children">
    2. Setting up an unbound DNS server
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-bczihur">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2. Setting up an unbound DNS server"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2. Setting up an unbound DNS server"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-bczihur" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_configuring-unbound-as-a-caching-dns-server_assembly_setting-up-an-unbound-dns-server" class="j-doc-nav__link ">
    2.1. Configuring Unbound as a caching DNS server
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#providing-dhcp-services_networking-infrastructure-services" class="j-doc-nav__link j-doc-nav__link--has-children">
    3. Providing DHCP services
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-oezl2qy">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3. Providing DHCP services"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3. Providing DHCP services"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-oezl2qy" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#the-differences-between-static-and-dynamic-ip-addressing_providing-dhcp-services" class="j-doc-nav__link ">
    3.1. The difference between static and dynamic IP addressing
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#dhcp-transaction-phases_providing-dhcp-services" class="j-doc-nav__link ">
    3.2. DHCP transaction phases
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#the-differences-when-using-dhcpd-for-dhcpv4-and-dhcpv6_providing-dhcp-services" class="j-doc-nav__link ">
    3.3. The differences when using dhcpd for DHCPv4 and DHCPv6
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#the-lease-database-of-the-dhcpd-service_providing-dhcp-services" class="j-doc-nav__link ">
    3.4. The lease database of the dhcpd service
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#comparison-of-dhcpv6-to-radvd_providing-dhcp-services" class="j-doc-nav__link ">
    3.5. Comparison of DHCPv6 to radvd
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#configuring-the-radvd-service-for-ipv6-routers_providing-dhcp-services" class="j-doc-nav__link ">
    3.6. Configuring the radvd service for IPv6 routers
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services" class="j-doc-nav__link ">
    3.7. Setting network interfaces for the DHCP servers
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services" class="j-doc-nav__link ">
    3.8. Setting up the DHCP service for subnets directly connected to the DHCP server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services" class="j-doc-nav__link ">
    3.9. Setting up the DHCP service for subnets that are not directly connected to the DHCP server
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services" class="j-doc-nav__link ">
    3.10. Assigning a static address to a host using DHCP
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services" class="j-doc-nav__link ">
    3.11. Using a group declaration to apply parameters to multiple hosts, subnets, and shared networks at the same time
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#restoring-a-corrupt-lease-database_providing-dhcp-services" class="j-doc-nav__link ">
    3.12. Restoring a corrupt lease database
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#setting-up-a-dhcp-relay-agent_providing-dhcp-services" class="j-doc-nav__link ">
    3.13. Setting up a DHCP relay agent
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#idm140143536811072" class="j-doc-nav__link ">
    Legal Notice
  </a>
  
          </li>
              </ol>
    
  </div>
</nav>


              </div>
            </div>
            <div class="j-options-container j-options-container--mobile">
              <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--options content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-iodp3wq">
                <span class="j-sidebar__menu-trigger__open-headline">
                  Settings
                </span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>
              

  <ul class="j-doc-options__list content-expander content-expander--processed" id="content-expander-iodp3wq" aria-hidden="true">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language">
        Language:
      </label>
      <select id="j-doc-language" class="j-doc-option__select" data-ddg-inputtype="unknown">
                  <option value="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            
          </option>
                  <option value="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            
          </option>
                  <option value="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            
          </option>
                  <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services" selected="selected">
            English
          </option>
                  <option value="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            Franais
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services"></a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services"></a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services"></a>
            </li>
                      <li>
              <a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">English</a>
            </li>
                      <li>
              <a href="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">Franais</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode" class="j-doc-option__select" data-ddg-inputtype="unknown">
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html/managing_networking_infrastructure_services" class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services" selected="selected" class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/pdf/managing_networking_infrastructure_services/Red_Hat_Enterprise_Linux-9-Managing_networking_infrastructure_services-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html/managing_networking_infrastructure_services">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_enterprise_linux/9/pdf/managing_networking_infrastructure_services/Red_Hat_Enterprise_Linux-9-Managing_networking_infrastructure_services-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


              </div>
          </div>
                <div class="pvof-doc__tertiary-sidebar j-doc__tertiary-sidebar j-doc__tertiary-sidebar--sticky">
          <div class="pvof-doc__tertiary-sidebar__inner j-doc__tertiary-sidebar__inner"><div id="j-reading-mode-toggle" class="j-switch__wrapper j-reading-mode__toggle"><input type="checkbox" name="reading-mode" value="false" id="reading-mode-checkbox" class="j-reading-mode j-switch__input visually-hidden"><label for="reading-mode-checkbox" class="j-switch__label">Focus mode<span class="j-reading-mode__shortcut-hint" hidden=""><kbd>F</kbd></span><div class="j-switch"></div></label></div>
            <div class="j-doc__doc-options">
              <div class="j-options-container j-options-container--desktop j-options-container--desktop--processed">
                <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--tablet content-expander__trigger content-expander__trigger--processed" aria-expanded="true" aria-controls="content-expander-lria38x">
                  <span class="j-sidebar__menu-trigger-icon"></span>
                  <h2 class="visually-hidden">Language and Page Formatting Options</h2>
                </button>
                  

  <ul class="j-doc-options__list content-expander content-expander--processed" id="content-expander-lria38x" open="">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language--2">
        Language:
      </label>
      <select id="j-doc-language--2" class="j-doc-option__select" data-ddg-inputtype="unknown">
                  <option value="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            
          </option>
                  <option value="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            
          </option>
                  <option value="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            
          </option>
                  <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services" selected="selected">
            English
          </option>
                  <option value="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">
            Franais
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services"></a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services"></a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services"></a>
            </li>
                      <li>
              <a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">English</a>
            </li>
                      <li>
              <a href="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">Franais</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode--2" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode--2" class="j-doc-option__select" data-ddg-inputtype="unknown">
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html/managing_networking_infrastructure_services" class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services" selected="selected" class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/pdf/managing_networking_infrastructure_services/Red_Hat_Enterprise_Linux-9-Managing_networking_infrastructure_services-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html/managing_networking_infrastructure_services">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_networking_infrastructure_services">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_enterprise_linux/9/pdf/managing_networking_infrastructure_services/Red_Hat_Enterprise_Linux-9-Managing_networking_infrastructure_services-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


                </div>
              </div>
          </div>
        </div>

                  <div class="doc-wrapper pvof-doc__wrapper j-superdoc__content-wrapper" id="doc-wrapper">
            

  <div class="pane-page-title">
    <h1 class="title" itemprop="name">Managing networking infrastructure services</h1>
  </div>


  <div xml:lang="en-US" class="book" id="idm140143546093280"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red&nbsp;Hat Enterprise&nbsp;Linux</span> <span class="productnumber">9</span></div><div><h2 class="subtitle">A guide to managing networking infrastructure services in Red&nbsp;Hat Enterprise&nbsp;Linux&nbsp;9</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red&nbsp;Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140143536811072">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document describes how to set up and manage networking core 
infrastructure services, such as DNS and DHCP, on Red Hat Enterprise 
Linux 9.
			</div></div></div></div><hr></div><section class="preface" id="making-open-source-more-inclusive"><div class="titlepage"><div><div><h1 class="title">Making open source more inclusive</h1></div></div></div><p class="_abstract _abstract">
			Red Hat is committed to replacing problematic language in our code, 
documentation, and web properties. We are beginning with these four 
terms: master, slave, blacklist, and whitelist. Because of the enormity 
of this endeavor, these changes will be implemented gradually over 
several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wrights message</a>.
		</p></section><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_networking-infrastructure-services"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting comments on specific passages</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					View the documentation in the <span class="strong strong"><strong>Multi-page HTML</strong></span> format and ensure that you see the <span class="strong strong"><strong>Feedback</strong></span> button in the upper right corner after the page fully loads.
				</li><li class="listitem">
					Use your cursor to highlight the part of the text that you want to comment on.
				</li><li class="listitem">
					Click the <span class="strong strong"><strong>Add Feedback</strong></span> button that appears near the highlighted text.
				</li><li class="listitem">
					Add your feedback and click <span class="strong strong"><strong>Submit</strong></span>.
				</li></ol></div><div class="orderedlist"><p class="title"><strong>Submitting feedback through Bugzilla (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%209&amp;component=Documentation">Bugzilla</a> website.
				</li><li class="listitem">
					Select the correct version from the <span class="strong strong"><strong>Version</strong></span> menu.
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Submit Bug</strong></span>.
				</li></ol></div></section><section class="chapter" id="assembly_setting-up-and-configuring-a-bind-dns-server_networking-infrastructure-services"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Setting up and configuring a BIND DNS server</h1></div></div></div><p>
			BIND is a feature-rich DNS server that is fully compliant with the 
Internet Engineering Task Force (IETF) DNS standards and draft 
standards. For example, administrators frequently use BIND as:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Caching DNS server in the local network
				</li><li class="listitem">
					Authoritative DNS server for zones
				</li><li class="listitem">
					Secondary server to provide high availability for zones
				</li></ul></div><section class="section" id="ref_considerations-about-protecting-bind-with-selinux-or-running-it-in-a-change-root_environment_assembly_setting-up-and-configuring-a-bind-dns-server"><div class="titlepage"><div><div><h2 class="title">1.1. Considerations about protecting BIND with SELinux or running it in a change-root environment</h2></div></div></div><p>
				To secure a BIND installation, you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run the <code class="literal">named</code> service without a change-root environment. In this case, SELinux in <code class="literal">enforcing</code>
 mode prevents exploitation of known BIND security vulnerabilities. By 
default, Red&nbsp;Hat Enterprise&nbsp;Linux uses SELinux in <code class="literal">enforcing</code> mode.
					</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							Running BIND on RHEL with SELinux in <code class="literal">enforcing</code> mode is more secure than running BIND in a change-root environment.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">named-chroot</code> service in a change-root environment.
					</p><p class="simpara">
						Using the change-root feature, administrators can define that the 
root directory of a process and its sub-processes is different to the <code class="literal">/</code> directory. When you start the <code class="literal">named-chroot</code> service, BIND switches its root directory to <code class="literal">/var/named/chroot/</code>. As a consequence, the service uses <code class="literal">mount --bind</code> commands to make the files and directories listed in <code class="literal">/etc/named-chroot.files</code> available in <code class="literal">/var/named/chroot/</code>, and the process has no access to files outside of <code class="literal">/var/named/chroot/</code>.
					</p></li></ul></div><p>
				If you decide to use BIND:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						In normal mode, use the <code class="literal">named</code> service.
					</li><li class="listitem">
						In a change-root environment, use the <code class="literal">named-chroot</code> service. This requires that you install, additionally, the <code class="literal">named-chroot</code> package.
					</li></ul></div></section><section class="section" id="proc_configuring-bind-as-a-caching-dns-server_assembly_setting-up-and-configuring-a-bind-dns-server"><div class="titlepage"><div><div><h2 class="title">1.2. Configuring BIND as a caching DNS server</h2></div></div></div><p>
				By default, the BIND DNS server resolves and caches successful and 
failed lookups. The service then answers requests to the same records 
from its cache. This significantly improves the speed of DNS lookups.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The IP address of the server is static.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">bind</code> and <code class="literal">bind-utils</code> packages:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3nzths3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dnf install bind bind-utils</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						If you want to run BIND in a change-root environment install the <code class="literal">bind-chroot</code> package:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--o5lanm6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dnf install bind-chroot</strong></span></pre></div></div><p class="simpara">
						Note that running BIND on a host with SELinux in <code class="literal">enforcing</code> mode, which is default, is more secure.
					</p></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/named.conf</code> file, and make the following changes in the <code class="literal">options</code> statement:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Update the <code class="literal">listen-on</code> and <code class="literal">listen-on-v6</code> statements to specify on which IPv4 and IPv6 interfaces BIND should listen:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2yvml3c"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>listen-on port 53 { <span class="emphasis"><em>127.0.0.1; 192.0.2.1;</em></span> };</strong></span>
<span class="strong strong"><strong>listen-on-v6 port 53 { <span class="emphasis"><em>::1; 2001:db8:1::1;</em></span> };</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Update the <code class="literal">allow-query</code> statement to configure from which IP addresses and ranges clients can query this DNS server:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qb6din2"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>allow-query { <span class="emphasis"><em>localhost; 192.0.2.0/24; 2001:db8:1::/64;</em></span> };</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Add an <code class="literal">allow-recursion</code> statement to define from which IP addresses and ranges BIND accepts recursive queries:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ug071be"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>allow-recursion { <span class="emphasis"><em>localhost; 192.0.2.0/24; 2001:db8:1::/64;</em></span> };</strong></span></pre></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
									Do not allow recursion on public IP addresses of the server. 
Otherwise, the server can become part of large-scale DNS amplification 
attacks.
								</p></div></div></li><li class="listitem"><p class="simpara">
								By default, BIND resolves queries by recursively querying from 
the root servers to an authoritative DNS server. Alternatively, you can 
configure BIND to forward queries to other DNS servers, such as the ones
 of your provider. In this case, add a <code class="literal">forwarders</code> statement with the list of IP addresses of the DNS servers that BIND should forward queries to:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dzknqx6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>forwarders { <span class="emphasis"><em>198.51.100.1; 203.0.113.5;</em></span> };</strong></span></pre></div></div><p class="simpara">
								As a fall-back behavior, BIND resolves queries recursively if 
the forwarder servers do not respond. To disable this behavior, add a <code class="literal">forward only;</code> statement.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ti8rn07"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div><p class="simpara">
						If the command displays no output, the syntax is correct.
					</p></li><li class="listitem"><p class="simpara">
						Update the <code class="literal">firewalld</code> rules to allow incoming DNS traffic:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--v92r5mw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service=dns</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Start and enable BIND:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1u4yk2o"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable --now named</strong></span></pre></div></div><p class="simpara">
						If you want to run BIND in a change-root environment, use the <code class="literal">systemctl enable --now named-chroot</code> command to enable and start the service.
					</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the newly set up DNS server to resolve a domain:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k1se56s"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>www.example.org</em></span></strong></span>
...
<span class="emphasis"><em>www.example.org.</em></span>    <span class="emphasis"><em>86400</em></span>    IN    A    <span class="emphasis"><em>198.51.100.34</em></span>

;; Query time: <span class="emphasis"><em>917 msec</em></span>
...</pre></div></div><p class="simpara">
						This example assumes that BIND runs on the same host and responds to queries on the <code class="literal">localhost</code> interface.
					</p><p class="simpara">
						After querying a record for the first time, BIND adds the entry to its cache.
					</p></li><li class="listitem"><p class="simpara">
						Repeat the previous query:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2olmk6f"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>www.example.org</em></span></strong></span>
...
<span class="emphasis"><em>www.example.org.</em></span>    <span class="emphasis"><em>85332</em></span>    IN    A    <span class="emphasis"><em>198.51.100.34</em></span>

;; Query time: <span class="emphasis"><em>1 msec</em></span>
...</pre></div></div><p class="simpara">
						Because of the cached entry, further requests for the same record are significantly faster until the entry expires.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Configure the clients in your network to use this DNS server. If a
 DHCP server provides the DNS server setting to the clients, update the 
DHCP servers configuration accordingly.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#ref_considerations-about-protecting-bind-with-selinux-or-running-it-in-a-change-root_environment_assembly_setting-up-and-configuring-a-bind-dns-server" title="1.1.&nbsp;Considerations about protecting BIND with SELinux or running it in a change-root environment">Considerations about protecting BIND with SELinux or running it in a change-root environment</a>
					</li><li class="listitem">
						<code class="literal">named.conf(5)</code> man page
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/bind/sample/etc/named.conf</code>
					</li></ul></div></section><section class="section" id="proc_configuring-logging-on-a-bind-dns-server_assembly_setting-up-and-configuring-a-bind-dns-server"><div class="titlepage"><div><div><h2 class="title">1.3. Configuring logging on a BIND DNS server</h2></div></div></div><p>
				The configuration in the default <code class="literal">/etc/named.conf</code> file, as provided by the <code class="literal">bind</code> package, uses the <code class="literal">default_debug</code> channel and logs messages to the <code class="literal">/var/named/data/named.run</code> file. The <code class="literal">default_debug</code> channel only logs entries when the servers debug level is non-zero.
			</p><p>
				Using different channels and categories, you can configure BIND to 
write different events with a defined severity to separate files.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						BIND is already configured, for example, as a caching name server.
					</li><li class="listitem">
						The <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/named.conf</code> file, and add <code class="literal">category</code> and <code class="literal">channel</code> phrases to the <code class="literal">logging</code> statement, for example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gkccr4t"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">logging {
    ...

    <span class="strong strong"><strong>category notify { zone_transfer_log; };</strong></span>
    <span class="strong strong"><strong>category xfer-in { zone_transfer_log; };</strong></span>
    <span class="strong strong"><strong>category xfer-out { zone_transfer_log; };</strong></span>
    <span class="strong strong"><strong>channel zone_transfer_log {</strong></span>
        <span class="strong strong"><strong>file "<span class="emphasis"><em>/var/named/log/transfer.log</em></span>" versions <span class="emphasis"><em>10</em></span> size <span class="emphasis"><em>50m</em></span>;</strong></span>
        <span class="strong strong"><strong>print-time yes;</strong></span>
        <span class="strong strong"><strong>print-category yes;</strong></span>
        <span class="strong strong"><strong>print-severity yes;</strong></span>
        <span class="strong strong"><strong>severity info;</strong></span>
     <span class="strong strong"><strong>};</strong></span>

     ...
};</pre></div></div><p class="simpara">
						With this example configuration, BIND logs messages related to zone transfers to <code class="literal">/var/named/log/transfer.log</code>. BIND creates up to <code class="literal">10</code> versions of the log file and rotates them if they reach a maximum size of <code class="literal">50</code> MB.
					</p><p class="simpara">
						The <code class="literal">category</code> phrase defines to which channels BIND sends messages of a category.
					</p><p class="simpara">
						The <code class="literal">channel</code> phrase defines the 
destination of log messages including the number of versions, the 
maximum file size, and the severity level BIND should log to a channel. 
Additional settings, such as enabling logging the time stamp, category, 
and severity of an event are optional, but useful for debugging 
purposes.
					</p></li><li class="listitem"><p class="simpara">
						Create the log directory if it does not exist, and grant write permissions to the <code class="literal">named</code> user on this directory:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k7h9qyf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>mkdir /var/named/log/</strong></span>
# <span class="strong strong"><strong>chown named:named /var/named/log/</strong></span>
# <span class="strong strong"><strong>chmod 700 /var/named/log/</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ij1112d"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div><p class="simpara">
						If the command displays no output, the syntax is correct.
					</p></li><li class="listitem"><p class="simpara">
						Restart BIND:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--xkwk8gz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl restart named</strong></span></pre></div></div><p class="simpara">
						If you run BIND in a change-root environment, use the <code class="literal">systemctl restart named-chroot</code> command to restart the service.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Display the content of the log file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--q95t6uj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>cat <span class="emphasis"><em>/var/named/log/transfer.log</em></span></strong></span>
...
<span class="emphasis"><em>06-Jul-2022 15:08:51.261 xfer-out: info: client @0x7fecbc0b0700 192.0.2.2#36121/key example-transfer-key (example.com): transfer of 'example.com/IN': AXFR started: TSIG example-transfer-key (serial 2022070603)</em></span>
<span class="emphasis"><em>06-Jul-2022 15:08:51.261 xfer-out: info: client @0x7fecbc0b0700 192.0.2.2#36121/key example-transfer-key (example.com): transfer of 'example.com/IN': AXFR ended</em></span></pre></div></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">named.conf(5)</code> man page
					</li></ul></div></section><section class="section" id="proc_writing-bind-acls_assembly_setting-up-and-configuring-a-bind-dns-server"><div class="titlepage"><div><div><h2 class="title">1.4. Writing BIND ACLs</h2></div></div></div><p>
				Controlling access to certain features of BIND can prevent 
unauthorized access and attacks, such as denial of service (DoS). BIND 
access control list (<code class="literal">acl</code>) statements are lists of IP addresses and ranges. Each ACL has a nickname that you can use in several statements, such as <code class="literal">allow-query</code>, to refer to the specified IP addresses and ranges.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					BIND uses only the first matching entry in an ACL. For example, if you define an ACL <code class="literal">{ 192.0.2/24; !192.0.2.1; }</code> and the host with IP address <code class="literal">192.0.2.1</code> connects, access is granted even if the second entry excludes this address.
				</p></div></div><p>
				BIND has the following built-in ACLs:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">none</code>: Matches no hosts.
					</li><li class="listitem">
						<code class="literal">any</code>: Matches all hosts.
					</li><li class="listitem">
						<code class="literal">localhost</code>: Matches the loopback addresses <code class="literal">127.0.0.1</code> and <code class="literal">::1</code>, as well as the IP addresses of all interfaces on the server that runs BIND.
					</li><li class="listitem">
						<code class="literal">localnets</code>: Matches the loopback addresses <code class="literal">127.0.0.1</code> and <code class="literal">::1</code>, as well as all subnets the server that runs BIND is directly connected to.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						BIND is already configured, for example, as a caching name server.
					</li><li class="listitem">
						The <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/named.conf</code> file and make the following changes:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add <code class="literal">acl</code> statements to the file. For example, to create an ACL named <code class="literal">internal-networks</code> for <code class="literal">127.0.0.1</code>, <code class="literal">192.0.2.0/24</code>, and <code class="literal">2001:db8:1::/64</code>, enter:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--p9407o4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>acl internal-networks { <span class="emphasis"><em>127.0.0.1; 192.0.2.0/24; 2001:db8:1::/64;</em></span> };</strong></span>
<span class="strong strong"><strong>acl dmz-networks { <span class="emphasis"><em>198.51.100.0/24; 2001:db8:2::/64;</em></span> };</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Use the ACLs nickname in statements that support them, for example:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2ftzp7m"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>allow-query { internal-networks; dmz-networks; };</strong></span>
<span class="strong strong"><strong>allow-recursion { internal-networks; };</strong></span></pre></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zwyi0of"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div><p class="simpara">
						If the command displays no output, the syntax is correct.
					</p></li><li class="listitem"><p class="simpara">
						Reload BIND:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--a11v5q4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
						If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Execute an action that triggers a feature which uses the 
configured ACL. For example, the ACL in this procedure allows only 
recursive queries from the defined IP addresses. In this case, enter the
 following command on a host that is not within the ACLs definition to 
attempt resolving an external domain:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--p4qp9jt"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>192.0.2.1</em></span> <span class="emphasis"><em>www.example.com</em></span></strong></span></pre></div></div><p class="simpara">
						If the command returns no output, BIND denied access, and the ACL 
works. For a verbose output on the client, use the command without <code class="literal">+short</code> option:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--v944wzm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig @<span class="emphasis"><em>192.0.2.1</em></span> <span class="emphasis"><em>www.example.com</em></span></strong></span>
...
;; WARNING: recursion requested but not available
...</pre></div></div></li></ul></div></section><section class="section" id="assembly_configuring-zones-on-a-bind-dns-server_assembly_setting-up-and-configuring-a-bind-dns-server"><div class="titlepage"><div><div><h2 class="title">1.5. Configuring zones on a BIND DNS server</h2></div></div></div><p>
				A DNS zone is a database with resource records for a specific 
sub-tree in the domain space. For example, if you are responsible for 
the <code class="literal">example.com</code> domain, you can set up a zone for it in BIND. As a result, clients can, resolve <code class="literal">www.example.com</code> to the IP address configured in this zone.
			</p><section class="section" id="ref_the-soa-record-in-zone-files_assembly_configuring-zones-on-a-bind-dns-server"><div class="titlepage"><div><div><h3 class="title">1.5.1. The SOA record in zone files</h3></div></div></div><p>
					The start of authority (SOA) record is a required record in a DNS 
zone. This record is important, for example, if multiple DNS servers are
 authoritative for a zone but also to DNS resolvers.
				</p><p>
					A SOA record in BIND has the following syntax:
				</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--97tbnpd"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="emphasis"><em>name</em></span> <span class="emphasis"><em>class</em></span> <span class="emphasis"><em>type</em></span> <span class="emphasis"><em>mname</em></span> <span class="emphasis"><em>rname</em></span> <span class="emphasis"><em>serial</em></span> <span class="emphasis"><em>refresh</em></span> <span class="emphasis"><em>retry</em></span> <span class="emphasis"><em>expire</em></span> <span class="emphasis"><em>minimum</em></span></pre></div></div><p>
					For better readability, administrators typically split the record 
in zone files into multiple lines with comments that start with a 
semicolon (<code class="literal">;</code>). Note that, if you split a SOA record, parentheses keep the record together:
				</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vys5956"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>@ IN SOA <span class="emphasis"><em>ns1.example.com.</em></span> <span class="emphasis"><em>hostmaster.example.com.</em></span> (</strong></span>
                          <span class="strong strong"><strong>2022070601</strong></span> <span class="strong strong"><strong>; serial number</strong></span>
                          <span class="strong strong"><strong>1d</strong></span>         <span class="strong strong"><strong>; refresh period</strong></span>
                          <span class="strong strong"><strong>3h</strong></span>         <span class="strong strong"><strong>; retry period</strong></span>
                          <span class="strong strong"><strong>3d</strong></span>         <span class="strong strong"><strong>; expire time</strong></span>
                          <span class="strong strong"><strong>3h</strong></span> )       <span class="strong strong"><strong>; minimum TTL</strong></span></pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Note the trailing dot at the end of the fully-qualified domain 
names (FQDNs). FQDNs consist of multiple domain labels, separated by 
dots. Because the DNS root has an empty label, FQDNs end with a dot. 
Therefore, BIND appends the zone name to names without a trailing dot. A
 hostname without a trailing dot, for example, <code class="literal">ns1.example.com</code> would be expanded to <code class="literal">ns1.example.com.example.com.</code>, which is not the correct address of the primary name server.
					</p></div></div><p>
					These are the fields in a SOA record:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">name</code>: The name of the zone, the so-called <code class="literal">origin</code>. If you set this field to <code class="literal">@</code>, BIND expands it to the zone name defined in <code class="literal">/etc/named.conf</code>.
						</li><li class="listitem">
							<code class="literal">class</code>: In SOA records, you must set this field always to Internet (<code class="literal">IN</code>).
						</li><li class="listitem">
							<code class="literal">type</code>: In SOA records, you must set this field always to <code class="literal">SOA</code>.
						</li><li class="listitem">
							<code class="literal">mname</code> (master name): The hostname of the primary name server of this zone.
						</li><li class="listitem">
							<code class="literal">rname</code> (responsible name): The email 
address of who is responsible for this zone. Note that the format is 
different. You must replace the at sign (<code class="literal">@</code>) with a dot (<code class="literal">.</code>).
						</li><li class="listitem"><p class="simpara">
							<code class="literal">serial</code>: The version number of this 
zone file. Secondary name servers only update their copies of the zone 
if the serial number on the primary server is higher.
						</p><p class="simpara">
							The format can be any numeric value. A commonly-used format is <code class="literal">&lt;year&gt;&lt;month&gt;&lt;day&gt;&lt;two-digit-number&gt;</code>. With this format, you can, theoretically, change the zone file up to a hundred times per day.
						</p></li><li class="listitem">
							<code class="literal">refresh</code>: The amount of time secondary servers should wait before checking the primary server if the zone was updated.
						</li><li class="listitem">
							<code class="literal">retry</code>: The amount of time after that a secondary server retries to query the primary server after a failed attempt.
						</li><li class="listitem">
							<code class="literal">expire</code>: The amount of time after that a secondary server stops querying the primary server, if all previous attempts failed.
						</li><li class="listitem">
							<code class="literal">minimum</code>: RFC 2308 changed the 
meaning of this field to the negative caching time. Compliant resolvers 
use it to determine how long to cache <code class="literal">NXDOMAIN</code> name errors.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						A numeric value in the <code class="literal">refresh</code>, <code class="literal">retry</code>, <code class="literal">expire</code>, and <code class="literal">minimum</code> fields define a time in seconds. However, for better readability, use time suffixes, such as <code class="literal">m</code> for minute, <code class="literal">h</code> for hours, and <code class="literal">d</code> for days. For example, <code class="literal">3h</code> stands for 3 hours.
					</p></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://datatracker.ietf.org/doc/html/rfc1035">RFC 1035</a>: Domain names - implementation and specification
						</li><li class="listitem">
							<a class="link" href="https://datatracker.ietf.org/doc/html/rfc1034">RFC 1034</a>: Domain names - concepts and facilities
						</li><li class="listitem">
							<a class="link" href="https://datatracker.ietf.org/doc/html/rfc2308">RFC 2308</a>: Negative caching of DNS queries (DNS cache)
						</li></ul></div></section><section class="section" id="proc_setting-up-a-forward-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server"><div class="titlepage"><div><div><h3 class="title">1.5.2. Setting up a forward zone on a BIND primary server</h3></div></div></div><p>
					Forward zones map names to IP addresses and other information. For example, if you are responsible for the domain <code class="literal">example.com</code>, you can set up a forward zone in BIND to resolve names, such as <code class="literal">www.example.com</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							BIND is already configured, for example, as a caching name server.
						</li><li class="listitem">
							The <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a zone definition to the <code class="literal">/etc/named.conf</code> file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6h4b43j"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>zone "<span class="emphasis"><em>example.com</em></span>" {</strong></span>
    <span class="strong strong"><strong>type master;</strong></span>
    <span class="strong strong"><strong>file "<span class="emphasis"><em>example.com.zone</em></span>";</strong></span>
    <span class="strong strong"><strong>allow-query { <span class="emphasis"><em>any;</em></span> };</strong></span>
    <span class="strong strong"><strong>allow-transfer { <span class="emphasis"><em>none;</em></span> };</strong></span>
<span class="strong strong"><strong>};</strong></span></pre></div></div><p class="simpara">
							These settings define:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									This server as the primary server (<code class="literal">type master</code>) for the <code class="literal">example.com</code> zone.
								</li><li class="listitem">
									The <code class="literal">/var/named/example.com.zone</code> file is the zone file. If you set a relative path, as in this example, this path is relative to the directory you set in <code class="literal">directory</code> in the <code class="literal">options</code> statement.
								</li><li class="listitem">
									Any host can query this zone. Alternatively, specify IP ranges 
or BIND access control list (ACL) nicknames to limit the access.
								</li><li class="listitem">
									No host can transfer the zone. Allow zone transfers only when 
you set up secondary servers and only for the IP addresses of the 
secondary servers.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yxff3vw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div><p class="simpara">
							If the command displays no output, the syntax is correct.
						</p></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">/var/named/example.com.zone</code> file, for example, with the following content:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--drhoa89"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>$TTL <span class="emphasis"><em>8h</em></span></strong></span>
<span class="strong strong"><strong>@ IN SOA <span class="emphasis"><em>ns1.example.com.</em></span> <span class="emphasis"><em>hostmaster.example.com.</em></span> (</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>2022070601</em></span></strong></span> <span class="strong strong"><strong>; serial number</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>1d</em></span></strong></span>         <span class="strong strong"><strong>; refresh period</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>3h</em></span></strong></span>         <span class="strong strong"><strong>; retry period</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>3d</em></span></strong></span>         <span class="strong strong"><strong>; expire time</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>3h</em></span></strong></span> )       <span class="strong strong"><strong>; minimum TTL</strong></span>

                  <span class="strong strong"><strong>IN NS</strong></span>   <span class="strong strong"><strong>ns1.example.com.</strong></span>
                  <span class="strong strong"><strong>IN MX</strong></span>   <span class="strong strong"><strong>10 mail.example.com.</strong></span>

<span class="strong strong"><strong>www</strong></span>               <span class="strong strong"><strong>IN A</strong></span>    <span class="strong strong"><strong>192.0.2.30</strong></span>
<span class="strong strong"><strong>www</strong></span>               <span class="strong strong"><strong>IN AAAA</strong></span> <span class="strong strong"><strong>2001:db8:1::30</strong></span>
<span class="strong strong"><strong>ns1</strong></span>               <span class="strong strong"><strong>IN A</strong></span>    <span class="strong strong"><strong>192.0.2.1</strong></span>
<span class="strong strong"><strong>ns1</strong></span>               <span class="strong strong"><strong>IN AAAA</strong></span> <span class="strong strong"><strong>2001:db8:1::1</strong></span>
<span class="strong strong"><strong>mail</strong></span>              <span class="strong strong"><strong>IN A</strong></span>    <span class="strong strong"><strong>192.0.2.20</strong></span>
<span class="strong strong"><strong>mail</strong></span>              <span class="strong strong"><strong>IN AAAA</strong></span> <span class="strong strong"><strong>2001:db8:1::20</strong></span></pre></div></div><p class="simpara">
							This zone file:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Sets the default time-to-live (TTL) value for resource records to 8 hours. Without a time suffix, such as <code class="literal">h</code> for hour, BIND interprets the value as seconds.
								</li><li class="listitem">
									Contains the required SOA resource record with details about the zone.
								</li><li class="listitem">
									Sets <code class="literal">ns1.example.com</code> as an authoritative DNS server for this zone. To be functional, a zone requires at least one name server (<code class="literal">NS</code>) record. However, to be compliant with RFC 1912, you require at least two name servers.
								</li><li class="listitem">
									Sets <code class="literal">mail.example.com</code> as the mail exchanger (<code class="literal">MX</code>) of the <code class="literal">example.com</code>
 domain. The numeric value in front of the host name is the priority of 
the record. Entries with a lower value have a higher priority.
								</li><li class="listitem">
									Sets the IPv4 and IPv6 addresses of <code class="literal">www.example.com</code>, <code class="literal">mail.example.com</code>, and <code class="literal">ns1.example.com</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Set secure permissions on the zone file that allow only the <code class="literal">named</code> group to read it:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2bfq6s4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>chown root:named /var/named/<span class="emphasis"><em>example.com.zone</em></span></strong></span>
# <span class="strong strong"><strong>chmod 640 /var/named/<span class="emphasis"><em>example.com.zone</em></span></strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Verify the syntax of the <code class="literal">/var/named/example.com.zone</code> file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0cxtdm6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkzone <span class="emphasis"><em>example.com</em></span> <span class="emphasis"><em>/var/named/example.com.zone</em></span></strong></span>
zone <span class="emphasis"><em>example.com/IN</em></span>: loaded serial <span class="emphasis"><em>2022070601</em></span>
OK</pre></div></div></li><li class="listitem"><p class="simpara">
							Reload BIND:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--u8jqa7g"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
							If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Query different records from the <code class="literal">example.com</code> zone, and verify that the output matches the records you have configured in the zone file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--711l8wn"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>AAAA</em></span> <span class="emphasis"><em>www.example.com</em></span></strong></span>
2001:db8:1::30

# <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>NS</em></span> <span class="emphasis"><em>example.com</em></span></strong></span>
ns1.example.com.

# <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>A</em></span> <span class="emphasis"><em>ns1.example.com</em></span></strong></span>
192.0.2.1</pre></div></div><p class="simpara">
							This example assumes that BIND runs on the same host and responds to queries on the <code class="literal">localhost</code> interface.
						</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#ref_the-soa-record-in-zone-files_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.1.&nbsp;The SOA record in zone files">The SOA record in zone files</a>
						</li><li class="listitem">
							<a class="link" href="#proc_writing-bind-acls_assembly_setting-up-and-configuring-a-bind-dns-server" title="1.4.&nbsp;Writing BIND ACLs">Writing BIND ACLs</a>
						</li><li class="listitem">
							<a class="link" href="https://datatracker.ietf.org/doc/html/rfc1912">RFC 1912 - Common DNS operational and configuration errors</a>
						</li></ul></div></section><section class="section" id="proc_setting-up-a-reverse-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server"><div class="titlepage"><div><div><h3 class="title">1.5.3. Setting up a reverse zone on a BIND primary server</h3></div></div></div><p>
					Reverse zones map IP addresses to names. For example, if you are responsible for IP range <code class="literal">192.0.2.0/24</code>, you can set up a reverse zone in BIND to resolve IP addresses from this range to hostnames.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you create a reverse zone for whole classful networks, name the zone accordingly. For example, for the class C network <code class="literal">192.0.2.0/24</code>, the name of the zone is <code class="literal">2.0.192.in-addr.arpa</code>. If you want to create a reverse zone for a different network size, for example <code class="literal">192.0.2.0/28</code>, the name of the zone is <code class="literal">28-2.0.192.in-addr.arpa</code>.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							BIND is already configured, for example, as a caching name server.
						</li><li class="listitem">
							The <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a zone definition to the <code class="literal">/etc/named.conf</code> file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--buvrs42"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>zone "<span class="emphasis"><em>2.0.192.in-addr.arpa</em></span>" {</strong></span>
    <span class="strong strong"><strong>type master;</strong></span>
    <span class="strong strong"><strong>file "<span class="emphasis"><em>2.0.192.in-addr.arpa.zone</em></span>";</strong></span>
    <span class="strong strong"><strong>allow-query { <span class="emphasis"><em>any;</em></span> };</strong></span>
    <span class="strong strong"><strong>allow-transfer { <span class="emphasis"><em>none;</em></span> };</strong></span>
<span class="strong strong"><strong>};</strong></span></pre></div></div><p class="simpara">
							These settings define:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									This server as the primary server (<code class="literal">type master</code>) for the <code class="literal">2.0.192.in-addr.arpa</code> reverse zone.
								</li><li class="listitem">
									The <code class="literal">/var/named/2.0.192.in-addr.arpa.zone</code> file is the zone file. If you set a relative path, as in this example, this path is relative to the directory you set in <code class="literal">directory</code> in the <code class="literal">options</code> statement.
								</li><li class="listitem">
									Any host can query this zone. Alternatively, specify IP ranges 
or BIND access control list (ACL) nicknames to limit the access.
								</li><li class="listitem">
									No host can transfer the zone. Allow zone transfers only when 
you set up secondary servers and only for the IP addresses of the 
secondary servers.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--a1rg0ow"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div><p class="simpara">
							If the command displays no output, the syntax is correct.
						</p></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">/var/named/2.0.192.in-addr.arpa.zone</code> file, for example, with the following content:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dplvowa"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>$TTL <span class="emphasis"><em>8h</em></span></strong></span>
<span class="strong strong"><strong>@ IN SOA <span class="emphasis"><em>ns1.example.com.</em></span> <span class="emphasis"><em>hostmaster.example.com.</em></span> (</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>2022070601</em></span></strong></span> <span class="strong strong"><strong>; serial number</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>1d</em></span></strong></span>         <span class="strong strong"><strong>; refresh period</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>3h</em></span></strong></span>         <span class="strong strong"><strong>; retry period</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>3d</em></span></strong></span>         <span class="strong strong"><strong>; expire time</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>3h</em></span></strong></span> )       <span class="strong strong"><strong>; minimum TTL</strong></span>

                  <span class="strong strong"><strong>IN NS</strong></span>   <span class="strong strong"><strong>ns1.example.com.</strong></span>

<span class="strong strong"><strong>1</strong></span>                 <span class="strong strong"><strong>IN PTR</strong></span>  <span class="strong strong"><strong>ns1.example.com.</strong></span>
<span class="strong strong"><strong>30</strong></span>                <span class="strong strong"><strong>IN PTR</strong></span>  <span class="strong strong"><strong>www.example.com.</strong></span></pre></div></div><p class="simpara">
							This zone file:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Sets the default time-to-live (TTL) value for resource records to 8 hours. Without a time suffix, such as <code class="literal">h</code> for hour, BIND interprets the value as seconds.
								</li><li class="listitem">
									Contains the required SOA resource record with details about the zone.
								</li><li class="listitem">
									Sets <code class="literal">ns1.example.com</code> as an authoritative DNS server for this reverse zone. To be functional, a zone requires at least one name server (<code class="literal">NS</code>) record. However, to be compliant with RFC 1912, you require at least two name servers.
								</li><li class="listitem">
									Sets the pointer (<code class="literal">PTR</code>) record for the <code class="literal">192.0.2.1</code> and <code class="literal">192.0.2.30</code> addresses.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Set secure permissions on the zone file that only allow the <code class="literal">named</code> group to read it:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--g7joa8y"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>chown root:named /var/named/<span class="emphasis"><em>2.0.192.in-addr.arpa.zone</em></span></strong></span>
# <span class="strong strong"><strong>chmod 640 /var/named/<span class="emphasis"><em>2.0.192.in-addr.arpa.zone</em></span></strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
							Verify the syntax of the <code class="literal">/var/named/2.0.192.in-addr.arpa.zone</code> file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8ea8z5v"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkzone <span class="emphasis"><em>2.0.192.in-addr.arpa</em></span> <span class="emphasis"><em>/var/named/2.0.192.in-addr.arpa.zone</em></span></strong></span>
zone <span class="emphasis"><em>2.0.192.in-addr.arpa/IN</em></span>: loaded serial <span class="emphasis"><em>2022070601</em></span>
OK</pre></div></div></li><li class="listitem"><p class="simpara">
							Reload BIND:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qurl11q"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
							If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Query different records from the reverse zone, and verify that 
the output matches the records you have configured in the zone file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--xsx7gmc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>localhost</em></span> -x <span class="emphasis"><em>192.0.2.1</em></span></strong></span>
ns1.example.com.

# <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>localhost</em></span> -x <span class="emphasis"><em>192.0.2.30</em></span></strong></span>
www.example.com.</pre></div></div><p class="simpara">
							This example assumes that BIND runs on the same host and responds to queries on the <code class="literal">localhost</code> interface.
						</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#ref_the-soa-record-in-zone-files_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.1.&nbsp;The SOA record in zone files">The SOA record in zone files</a>
						</li><li class="listitem">
							<a class="link" href="#proc_writing-bind-acls_assembly_setting-up-and-configuring-a-bind-dns-server" title="1.4.&nbsp;Writing BIND ACLs">Writing BIND ACLs</a>
						</li><li class="listitem">
							<a class="link" href="https://datatracker.ietf.org/doc/html/rfc1912">RFC 1912 - Common DNS operational and configuration errors</a>
						</li></ul></div></section><section class="section" id="proc_updating-a-bind-zone-file_assembly_configuring-zones-on-a-bind-dns-server"><div class="titlepage"><div><div><h3 class="title">1.5.4. Updating a BIND zone file</h3></div></div></div><p>
					In certain situations, for example if an IP address of a server 
changes, you must update a zone file. If multiple DNS servers are 
responsible for a zone, perform this procedure only on the primary 
server. Other DNS servers that store a copy of the zone will receive the
 update through a zone transfer.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The zone is configured.
						</li><li class="listitem">
							The <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Optional: Identify the path to the zone file in the <code class="literal">/etc/named.conf</code> file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--l0diayj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">options {
    ...
    directory       "<span class="emphasis"><em>/var/named</em></span>";
}

zone "<span class="emphasis"><em>example.com</em></span>" {
    ...
    file "<span class="emphasis"><em>example.com.zone</em></span>";
};</pre></div></div><p class="simpara">
							You find the path to the zone file in the <code class="literal">file</code> statement in the zones definition. A relative path is relative to the directory set in <code class="literal">directory</code> in the <code class="literal">options</code> statement.
						</p></li><li class="listitem"><p class="simpara">
							Edit the zone file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Make the required changes.
								</li><li class="listitem"><p class="simpara">
									Increment the serial number in the start of authority (SOA) record.
								</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
										If the serial number is equal to or lower than the previous 
value, secondary servers will not update their copy of the zone.
									</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the syntax of the zone file:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--52s4bnt"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkzone <span class="emphasis"><em>example.com</em></span> <span class="emphasis"><em>/var/named/example.com.zone</em></span></strong></span>
zone <span class="emphasis"><em>example.com/IN</em></span>: loaded serial <span class="emphasis"><em>2022062802</em></span>
OK</pre></div></div></li><li class="listitem"><p class="simpara">
							Reload BIND:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kcv7u83"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
							If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Query the record you have added, modified, or removed, for example:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--brwsc65"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>A</em></span> <span class="emphasis"><em>ns2.example.com</em></span></strong></span>
192.0.2.2</pre></div></div><p class="simpara">
							This example assumes that BIND runs on the same host and responds to queries on the <code class="literal">localhost</code> interface.
						</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#ref_the-soa-record-in-zone-files_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.1.&nbsp;The SOA record in zone files">The SOA record in zone files</a>
						</li><li class="listitem">
							<a class="link" href="#proc_setting-up-a-forward-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.2.&nbsp;Setting up a forward zone on a BIND primary server">Setting up a forward zone on a BIND primary server</a>
						</li><li class="listitem">
							<a class="link" href="#proc_setting-up-a-reverse-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.3.&nbsp;Setting up a reverse zone on a BIND primary server">Setting up a reverse zone on a BIND primary server</a>
						</li></ul></div></section><section class="section" id="proc_dnssec-zone-signing-using-the-automated-key-generation-and-zone-maintenance-features_assembly_configuring-zones-on-a-bind-dns-server"><div class="titlepage"><div><div><h3 class="title">1.5.5. DNSSEC zone signing using the automated key generation and zone maintenance features</h3></div></div></div><p>
					You can sign zones with domain name system security extensions 
(DNSSEC) to ensure authentication and data integrity. Such zones contain
 additional resource records. Clients can use them to verify the 
authenticity of the zone information.
				</p><p>
					If you enable the DNSSEC policy feature for a zone, BIND performs the following actions automatically:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Creates the keys
						</li><li class="listitem">
							Signs the zone
						</li><li class="listitem">
							Maintains the zone, including re-signing and periodically replacing the keys.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						To enable external DNS servers to verify the authenticity of a 
zone, you must add the public key of the zone to the parent zone. 
Contact your domain provider or registry for further details on how to 
accomplish this.
					</p></div></div><p>
					This procedure uses the built-in <code class="literal">default</code> DNSSEC policy in BIND. This policy uses single <code class="literal">ECDSAP256SHA</code> key signatures. Alternatively, create your own policy to use custom keys, algorithms, and timings.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The zone for which you want to enable DNSSEC is configured.
						</li><li class="listitem">
							The <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
						</li><li class="listitem">
							The server synchronizes the time with a time server. An accurate system time is important for DNSSEC validation.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal">/etc/named.conf</code> file, and add <code class="literal">dnssec-policy default;</code> to the zone for which you want to enable DNSSEC:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--azt5t2r"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">zone "<span class="emphasis"><em>example.com</em></span>" {
    ...
    <span class="strong strong"><strong>dnssec-policy default;</strong></span>
};</pre></div></div></li><li class="listitem"><p class="simpara">
							Reload BIND:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--09i5d8m"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
							If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
						</p></li><li class="listitem"><p class="simpara">
							BIND stores the public key in the <code class="literal">/var/named/K<span class="emphasis"><em>&lt;zone_name&gt;</em></span>.+<span class="emphasis"><em>&lt;algorithm&gt;</em></span>+<span class="emphasis"><em>&lt;key_ID&gt;</em></span>.key</code> file. Use this file to display the public key of the zone in the format that the parent zone requires:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									DS record format:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1nnv52k"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dnssec-dsfromkey /var/named/K<span class="emphasis"><em>example.com.+013+61141</em></span>.key</strong></span>
<span class="emphasis"><em>example.com. IN DS 61141 13 2 3E184188CF6D2521EDFDC3F07CFEE8D0195AACBD85E68BAE0620F638B4B1B027</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
									DNSKEY format:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yin274w"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>grep DNSKEY /var/named/K<span class="emphasis"><em>example.com.+013+61141.key</em></span></strong></span>
<span class="emphasis"><em>example.com. 3600 IN DNSKEY 257 3 13 sjzT3jNEp120aSO4mPEHHSkReHUf7AABNnT8hNRTzD5cKMQSjDJin2I3 5CaKVcWO1pm+HltxUEt+X9dfp8OZkg==</em></span></pre></div></div></li></ul></div></li><li class="listitem">
							Request to add the public key of the zone to the parent zone. 
Contact your domain provider or registry for further details on how to 
accomplish this.
						</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Query your own DNS server for a record from the zone for which you enabled DNSSEC signing:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--fj8p93a"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig +dnssec +short @<span class="emphasis"><em>localhost</em></span> A <span class="emphasis"><em>www.example.com</em></span></strong></span>
<span class="emphasis"><em>192.0.2.30</em></span>
<span class="emphasis"><em>A 13 3 28800 20220718081258 20220705120353 61141 example.com. e7Cfh6GuOBMAWsgsHSVTPh+JJSOI/Y6zctzIuqIU1JqEgOOAfL/Qz474 M0sgi54m1Kmnr2ANBKJN9uvOs5eXYw==</em></span></pre></div></div><p class="simpara">
							This example assumes that BIND runs on the same host and responds to queries on the <code class="literal">localhost</code> interface.
						</p></li><li class="listitem"><p class="simpara">
							After the public key has been added to the parent zone and 
propagated to other servers, verify that the server sets the 
authenticated data (<code class="literal">ad</code>) flag on queries to the signed zone:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ffzs21x"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong> dig @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>example.com</em></span> +dnssec</strong></span>
...
;; flags: qr rd ra <span class="strong strong"><strong>ad</strong></span>; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1
...</pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#proc_setting-up-a-forward-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.2.&nbsp;Setting up a forward zone on a BIND primary server">Setting up a forward zone on a BIND primary server</a>
						</li><li class="listitem">
							<a class="link" href="#proc_setting-up-a-reverse-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.3.&nbsp;Setting up a reverse zone on a BIND primary server">Setting up a reverse zone on a BIND primary server</a>
						</li></ul></div></section></section><section class="section" id="proc_configuring-zone-transfers-among-bind-dns-servers_assembly_setting-up-and-configuring-a-bind-dns-server"><div class="titlepage"><div><div><h2 class="title">1.6. Configuring zone transfers among BIND DNS servers</h2></div></div></div><p>
				Zone transfers ensure that all DNS servers that have a copy of the zone use up-to-date data.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On the future primary server, the zone for which you want to set up zone transfers is already configured.
					</li><li class="listitem">
						On the future secondary server, BIND is already configured, for example, as a caching name server.
					</li><li class="listitem">
						On both servers, the <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On the existing primary server:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create a shared key, and append it to the <code class="literal">/etc/named.conf</code> file:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7b7j9u9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>tsig-keygen <span class="emphasis"><em>example-transfer-key</em></span> | tee -a /etc/named.conf</strong></span>
key "<span class="emphasis"><em>example-transfer-key</em></span>" {
        algorithm hmac-sha256;
        secret "<span class="emphasis"><em>q7ANbnyliDMuvWgnKOxMLi313JGcTZB5ydMW5CyUGXQ=</em></span>";
};</pre></div></div><p class="simpara">
								This command displays the output of the <code class="literal">tsig-keygen</code> command and automatically appends it to <code class="literal">/etc/named.conf</code>.
							</p><p class="simpara">
								You will require the output of the command later on the secondary server as well.
							</p></li><li class="listitem"><p class="simpara">
								Edit the zone definition in the <code class="literal">/etc/named.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
										In the <code class="literal">allow-transfer</code> statement, define that servers must provide the key specified in the <code class="literal">example-transfer-key</code> statement to transfer a zone:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--srfwqz1"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">zone "<span class="emphasis"><em>example.com</em></span>" {
    ...
    allow-transfer { key <span class="strong strong"><strong><span class="emphasis"><em>example-transfer-key;</em></span></strong></span> };
};</pre></div></div><p class="simpara">
										Alternatively, use BIND access control list (ACL) nicknames in the <code class="literal">allow-transfer</code> statement.
									</p></li><li class="listitem"><p class="simpara">
										By default, after a zone has been updated, BIND notifies all name servers which have a name server (<code class="literal">NS</code>) record in this zone. If you do not plan to add an <code class="literal">NS</code> record for the secondary server to the zone, you can, configure that BIND notifies this server anyway. For that, add the <code class="literal">also-notify</code> statement with the IP addresses of this secondary server to the zone:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8mqlrnk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">zone "<span class="emphasis"><em>example.com</em></span>" {
    ...
    <span class="strong strong"><strong>also-notify { <span class="emphasis"><em>192.0.2.2;</em></span> <span class="emphasis"><em>2001:db8:1::2;</em></span> };</strong></span>
};</pre></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
								Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--z102hh7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div><p class="simpara">
								If the command displays no output, the syntax is correct.
							</p></li><li class="listitem"><p class="simpara">
								Reload BIND:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ego1v9x"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
								If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						On the future secondary server:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/named.conf</code> file as follows:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
										Add the same key definition as on the primary server:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--t10d63r"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>key "<span class="emphasis"><em>example-transfer-key</em></span>" {</strong></span>
        <span class="strong strong"><strong>algorithm hmac-sha256;</strong></span>
        <span class="strong strong"><strong>secret "<span class="emphasis"><em>q7ANbnyliDMuvWgnKOxMLi313JGcTZB5ydMW5CyUGXQ=</em></span>";</strong></span>
<span class="strong strong"><strong>};</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
										Add the zone definition to the <code class="literal">/etc/named.conf</code> file:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kprjfva"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>zone "<span class="emphasis"><em>example.com</em></span>" {</strong></span>
    <span class="strong strong"><strong>type slave;</strong></span>
    <span class="strong strong"><strong>file "<span class="emphasis"><em>slaves/example.com.zone</em></span>";</strong></span>
    <span class="strong strong"><strong>allow-query { <span class="emphasis"><em>any;</em></span> };</strong></span>
    <span class="strong strong"><strong>allow-transfer { <span class="emphasis"><em>none;</em></span> };</strong></span>
    <span class="strong strong"><strong>masters {</strong></span>
      <span class="strong strong"><strong><span class="emphasis"><em>192.0.2.1 key example-transfer-key;</em></span></strong></span>
      <span class="strong strong"><strong><span class="emphasis"><em>2001:db8:1::1 key example-transfer-key;</em></span></strong></span>
    <span class="strong strong"><strong>};</strong></span>
<span class="strong strong"><strong>};</strong></span></pre></div></div><p class="simpara">
										These settings state:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												This server is a secondary server (<code class="literal">type slave</code>) for the <code class="literal">example.com</code> zone.
											</li><li class="listitem">
												The <code class="literal">/var/named/slaves/example.com.zone</code> file is the zone file. If you set a relative path, as in this example, this path is relative to the directory you set in <code class="literal">directory</code> in the <code class="literal">options</code>
 statement. To separate zone files for which this server is secondary 
from primary ones, you can store them, for example, in the <code class="literal">/var/named/slaves/</code> directory.
											</li><li class="listitem">
												Any host can query this zone. Alternatively, specify IP ranges or ACL nicknames to limit the access.
											</li><li class="listitem">
												No host can transfer the zone from this server.
											</li><li class="listitem">
												The IP addresses of the primary server of this zone are <code class="literal">192.0.2.1</code> and <code class="literal">2001:db8:1::2</code>. Alternatively, you can specify ACL nicknames. This secondary server will use the key named <code class="literal">example-transfer-key</code> to authenticate to the primary server.
											</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
								Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0j42et6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Reload BIND:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yi9myqc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
								If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
							</p></li></ol></div></li><li class="listitem">
						Optional: Modify the zone file on the primary server and add an <code class="literal">NS</code> record for the new secondary server.
					</li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					On the secondary server:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Display the <code class="literal">systemd</code> journal entries of the <code class="literal">named</code> service:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--eqz6i8b"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>journalctl -u named</strong></span>
...
Jul 06 15:08:51 ns2.example.com named[2024]: zone example.com/IN: Transfer started.
Jul 06 15:08:51 ns2.example.com named[2024]: transfer of 'example.com/IN' from 192.0.2.1#53: connected using 192.0.2.2#45803
Jul 06 15:08:51 ns2.example.com named[2024]: zone example.com/IN: transferred serial 2022070101
Jul 06 15:08:51 ns2.example.com named[2024]: transfer of 'example.com/IN' from 192.0.2.1#53: Transfer status: success
Jul 06 15:08:51 ns2.example.com named[2024]: transfer of 'example.com/IN' from 192.0.2.1#53: Transfer completed: 1 messages, 29 records, 2002 bytes, 0.003 secs (667333 bytes/sec)</pre></div></div><p class="simpara">
						If you run BIND in a change-root environment, use the <code class="literal">journalctl -u named-chroot</code> command to display the journal entries.
					</p></li><li class="listitem"><p class="simpara">
						Verify that BIND created the zone file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--snt37in"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>ls -l /var/named/slaves/</strong></span>
total 4
-rw-r--r--. 1 named named 2736 Jul  6 15:08 example.com.zone</pre></div></div><p class="simpara">
						Note that, by default, secondary servers store zone files in a binary raw format.
					</p></li><li class="listitem"><p class="simpara">
						Query a record of the transferred zone from the secondary server:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6pbuams"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig +short @<span class="emphasis"><em>192.0.2.2</em></span> <span class="emphasis"><em>AAAA</em></span> <span class="emphasis"><em>www.example.com</em></span></strong></span>
2001:db8:1::30</pre></div></div><p class="simpara">
						This example assumes that the secondary server you set up in this procedure listens on IP address <code class="literal">192.0.2.2</code>.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#proc_setting-up-a-forward-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.2.&nbsp;Setting up a forward zone on a BIND primary server">Setting up a forward zone on a BIND primary server</a>
					</li><li class="listitem">
						<a class="link" href="#proc_setting-up-a-reverse-zone-on-a-bind-primary-server_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.3.&nbsp;Setting up a reverse zone on a BIND primary server">Setting up a reverse zone on a BIND primary server</a>
					</li><li class="listitem">
						<a class="link" href="#proc_writing-bind-acls_assembly_setting-up-and-configuring-a-bind-dns-server" title="1.4.&nbsp;Writing BIND ACLs">Writing BIND ACLs</a>
					</li><li class="listitem">
						<a class="link" href="#proc_updating-a-bind-zone-file_assembly_configuring-zones-on-a-bind-dns-server" title="1.5.4.&nbsp;Updating a BIND zone file">Updating a BIND zone file</a>
					</li></ul></div></section><section class="section" id="proc_configuring-response-policy-zones-in-bind-to-override-dns-records_assembly_setting-up-and-configuring-a-bind-dns-server"><div class="titlepage"><div><div><h2 class="title">1.7. Configuring response policy zones in BIND to override DNS records</h2></div></div></div><p>
				Using DNS blocking and filtering, administrators can rewrite a DNS 
response to block access to certain domains or hosts. In BIND, response 
policy zones (RPZs) provide this feature. You can configure different 
actions for blocked entries, such as returning an <code class="literal">NXDOMAIN</code> error or not responding to the query.
			</p><p>
				If you have multiple DNS servers in your environment, use this 
procedure to configure the RPZ on the primary server, and later 
configure zone transfers to make the RPZ available on your secondary 
servers.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						BIND is already configured, for example, as a caching name server.
					</li><li class="listitem">
						The <code class="literal">named</code> or <code class="literal">named-chroot</code> service is running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/named.conf</code> file, and make the following changes:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add a <code class="literal">response-policy</code> definition to the <code class="literal">options</code> statement:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k6u95mw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">options {
    ...

    <span class="strong strong"><strong>response-policy {</strong></span>
        <span class="strong strong"><strong>zone "<span class="emphasis"><em>rpz.local</em></span>";</strong></span>
    <span class="strong strong"><strong>};</strong></span>

    ...
}</pre></div></div><p class="simpara">
								You can set a custom name for the RPZ in the <code class="literal">zone</code> statement in <code class="literal">response-policy</code>. However, you must use the same name in the zone definition in the next step.
							</p></li><li class="listitem"><p class="simpara">
								Add a <code class="literal">zone</code> definition for the RPZ you set in the previous step:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--92m9wls"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>zone "rpz.local" {</strong></span>
    <span class="strong strong"><strong>type master;</strong></span>
    <span class="strong strong"><strong>file "rpz.local";</strong></span>
    <span class="strong strong"><strong>allow-query { <span class="emphasis"><em>localhost; 192.0.2.0/24; 2001:db8:1::/64;</em></span> };</strong></span>
    <span class="strong strong"><strong>allow-transfer { none; };</strong></span>
<span class="strong strong"><strong>};</strong></span></pre></div></div><p class="simpara">
								These settings state:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										This server is the primary server (<code class="literal">type master</code>) for the RPZ named <code class="literal">rpz.local</code>.
									</li><li class="listitem">
										The <code class="literal">/var/named/rpz.local</code> file is the zone file. If you set a relative path, as in this example, this path is relative to the directory you set in <code class="literal">directory</code> in the <code class="literal">options</code> statement.
									</li><li class="listitem">
										Any hosts defined in <code class="literal">allow-query</code> can query this RPZ. Alternatively, specify IP ranges or BIND access control list (ACL) nicknames to limit the access.
									</li><li class="listitem">
										No host can transfer the zone. Allow zone transfers only when 
you set up secondary servers and only for the IP addresses of the 
secondary servers.
									</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Verify the syntax of the <code class="literal">/etc/named.conf</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--m775erx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkconf</strong></span></pre></div></div><p class="simpara">
						If the command displays no output, the syntax is correct.
					</p></li><li class="listitem"><p class="simpara">
						Create the <code class="literal">/var/named/rpz.local</code> file, for example, with the following content:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zxvvlek"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>$TTL <span class="emphasis"><em>10m</em></span></strong></span>
<span class="strong strong"><strong>@ IN SOA <span class="emphasis"><em>ns1.example.com.</em></span> <span class="emphasis"><em>hostmaster.example.com.</em></span> (</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>2022070601</em></span></strong></span> <span class="strong strong"><strong>; serial number</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>1h</em></span></strong></span>         <span class="strong strong"><strong>; refresh period</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>1m</em></span></strong></span>         <span class="strong strong"><strong>; retry period</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>3d</em></span></strong></span>         <span class="strong strong"><strong>; expire time</strong></span>
                          <span class="strong strong"><strong><span class="emphasis"><em>1m</em></span></strong></span> )       <span class="strong strong"><strong>; minimum TTL</strong></span>

                 <span class="strong strong"><strong>IN NS</strong></span>    <span class="strong strong"><strong>ns1.example.com.</strong></span>

<span class="strong strong"><strong>example.org</strong></span>      <span class="strong strong"><strong>IN CNAME</strong></span> <span class="strong strong"><strong>.</strong></span>
<span class="strong strong"><strong>*.example.org</strong></span>    <span class="strong strong"><strong>IN CNAME</strong></span> <span class="strong strong"><strong>.</strong></span>
<span class="strong strong"><strong>example.net</strong></span>      <span class="strong strong"><strong>IN CNAME</strong></span> <span class="strong strong"><strong>rpz-drop.</strong></span>
<span class="strong strong"><strong>*.example.net</strong></span>    <span class="strong strong"><strong>IN CNAME</strong></span> <span class="strong strong"><strong>rpz-drop.</strong></span></pre></div></div><p class="simpara">
						This zone file:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Sets the default time-to-live (TTL) value for resource records to 10 minutes. Without a time suffix, such as <code class="literal">h</code> for hour, BIND interprets the value as seconds.
							</li><li class="listitem">
								Contains the required start of authority (SOA) resource record with details about the zone.
							</li><li class="listitem">
								Sets <code class="literal">ns1.example.com</code> as an authoritative DNS server for this zone. To be functional, a zone requires at least one name server (<code class="literal">NS</code>) record. However, to be compliant with RFC 1912, you require at least two name servers.
							</li><li class="listitem">
								Return an <code class="literal">NXDOMAIN</code> error for queries to <code class="literal">example.org</code> and hosts in this domain.
							</li><li class="listitem">
								Drop queries to <code class="literal">example.net</code> and hosts in this domain.
							</li></ul></div><p class="simpara">
						For a full list of actions and examples, see <a class="link" href="https://tools.ietf.org/id/draft-vixie-dnsop-dns-rpz-00.html">IETF draft: DNS Response Policy Zones (RPZ)</a>.
					</p></li><li class="listitem"><p class="simpara">
						Verify the syntax of the <code class="literal">/var/named/rpz.local</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ipz9ahf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>named-checkzone <span class="emphasis"><em>rpz.local</em></span> <span class="emphasis"><em>/var/named/rpz.local</em></span></strong></span>
zone <span class="emphasis"><em>rpz.local/IN</em></span>: loaded serial <span class="emphasis"><em>2022070601</em></span>
OK</pre></div></div></li><li class="listitem"><p class="simpara">
						Reload BIND:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3sxoqzo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl reload named</strong></span></pre></div></div><p class="simpara">
						If you run BIND in a change-root environment, use the <code class="literal">systemctl reload named-chroot</code> command to reload the service.
					</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Attempt to resolve a host in <code class="literal">example.org</code>, that is configured in the RPZ to return an <code class="literal">NXDOMAIN</code> error:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--x7rfjzy"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig @localhost www.example.org</strong></span>
...
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: <span class="strong strong"><strong>NXDOMAIN</strong></span>, id: 30286
...</pre></div></div><p class="simpara">
						This example assumes that BIND runs on the same host and responds to queries on the <code class="literal">localhost</code> interface.
					</p></li><li class="listitem"><p class="simpara">
						Attempt to resolve a host in the <code class="literal">example.net</code> domain, that is configured in the RPZ to drop queries:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--44vpuyk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig @localhost www.example.net</strong></span>
...
;; connection timed out; no servers could be reached
...</pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://tools.ietf.org/id/draft-vixie-dnsop-dns-rpz-00.html">IETF draft: DNS Response Policy Zones (RPZ)</a>
					</li></ul></div></section></section><section class="chapter" id="assembly_setting-up-an-unbound-dns-server_networking-infrastructure-services"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Setting up an unbound DNS server</h1></div></div></div><p>
			The <code class="literal">unbound</code> DNS server is a validating, recursive, and caching DNS resolver. Additionally, <code class="literal">unbound</code> focuses on security and has, for example, Domain Name System Security Extensions (DNSSEC) enabled by default.
		</p><section class="section" id="proc_configuring-unbound-as-a-caching-dns-server_assembly_setting-up-an-unbound-dns-server"><div class="titlepage"><div><div><h2 class="title">2.1. Configuring Unbound as a caching DNS server</h2></div></div></div><p>
				By default, the <code class="literal">unbound</code> DNS service 
resolves and caches successful and failed lookups. The service then 
answers requests to the same records from its cache.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">unbound</code> package:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--lyxwj1d"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dnf install unbound</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/unbound/unbound.conf</code> file, and make the following changes in the <code class="literal">server</code> clause:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add <code class="literal">interface</code> parameters to configure on which IP addresses the <code class="literal">unbound</code> service listens for queries, for example:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--br3njlq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>interface: <span class="emphasis"><em>127.0.0.1</em></span></strong></span>
<span class="strong strong"><strong>interface: <span class="emphasis"><em>192.0.2.1</em></span></strong></span>
<span class="strong strong"><strong>interface: <span class="emphasis"><em>2001:db8:1::1</em></span></strong></span></pre></div></div><p class="simpara">
								With these settings, <code class="literal">unbound</code> only listens on the specified IPv4 and IPv6 addresses.
							</p><p class="simpara">
								Limiting the interfaces to the required ones prevents clients 
from unauthorized networks, such as the internet, from sending queries 
to this DNS server.
							</p></li><li class="listitem"><p class="simpara">
								Add <code class="literal">access-control</code> parameters to configure from which subnets clients can query the DNS service, for example:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--nxmsx9b"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"><span class="strong strong"><strong>access-control: <span class="emphasis"><em>127.0.0.0/8 allow</em></span></strong></span>
<span class="strong strong"><strong>access-control: <span class="emphasis"><em>192.0.2.0/24 allow</em></span></strong></span>
<span class="strong strong"><strong>access-control: <span class="emphasis"><em>2001:db8:1::/64 allow</em></span></strong></span></pre></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Create private keys and certificates for remotely managing the <code class="literal">unbound</code> service:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gqflcix"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl restart unbound-keygen</strong></span></pre></div></div><p class="simpara">
						If you skip this step, verifying the configuration in the next step will report the missing files. However, the <code class="literal">unbound</code> service automatically creates the files if they are missing.
					</p></li><li class="listitem"><p class="simpara">
						Verify the configuration file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--s8fk9zl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>unbound-checkconf</strong></span>
unbound-checkconf: no errors in /etc/unbound/unbound.conf</pre></div></div></li><li class="listitem"><p class="simpara">
						Update the firewalld rules to allow incoming DNS traffic:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--um057jj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service=dns</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">unbound</code> service:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--g6iecry"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable --now unbound</strong></span></pre></div></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Query the <code class="literal">unbound</code> DNS server listening on the <code class="literal">localhost</code> interface to resolve a domain:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--feewzbi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>www.example.com</em></span></strong></span>
...
<span class="emphasis"><em>www.example.com.</em></span>    <span class="emphasis"><em>86400</em></span>    IN    A    <span class="emphasis"><em>198.51.100.34</em></span>

;; Query time: <span class="emphasis"><em>330 msec</em></span>
...</pre></div></div><p class="simpara">
						After querying a record for the first time, <code class="literal">unbound</code> adds the entry to its cache.
					</p></li><li class="listitem"><p class="simpara">
						Repeat the previous query:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ij66di5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dig @<span class="emphasis"><em>localhost</em></span> <span class="emphasis"><em>www.example.com</em></span></strong></span>
...
<span class="emphasis"><em>www.example.com.</em></span>    <span class="emphasis"><em>85332</em></span>    IN    A    <span class="emphasis"><em>198.51.100.34</em></span>

;; Query time: <span class="emphasis"><em>1 msec</em></span>
...</pre></div></div><p class="simpara">
						Because of the cached entry, further requests for the same record are significantly faster until the entry expires.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Configure clients in your network to use this DNS server. For example, use the <code class="literal">nmcli</code> utility to set the IP of the DNS server in a NetworkManager connection profile:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3u012zg"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>nmcli connection modify <span class="emphasis"><em>Example_Connection</em></span> ipv4.dns <span class="emphasis"><em>192.0.2.1</em></span></strong></span>
# <span class="strong strong"><strong>nmcli connection modify <span class="emphasis"><em>Example_Connection</em></span> ipv6.dns <span class="emphasis"><em>2001:db8:1::1</em></span></strong></span></pre></div></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">unbound.conf(5)</code> man page
					</li></ul></div></section></section><section class="chapter" id="providing-dhcp-services_networking-infrastructure-services"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Providing DHCP services</h1></div></div></div><p class="_abstract _abstract">
			The dynamic host configuration protocol (DHCP) is a network protocol 
that automatically assigns IP information to clients. You can set up the
 <code class="literal">dhcpd</code> service to provide a DHCP server and DHCP relay in your network.
		</p><section class="section" id="the-differences-between-static-and-dynamic-ip-addressing_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.1. The difference between static and dynamic IP addressing</h2></div></div></div><div class="variablelist _abstract"><dl class="variablelist _abstract"><dt><span class="term">Static IP addressing</span></dt><dd><p class="simpara">
							When you assign a static IP address to a device, the address does
 not change over time unless you change it manually. Use static IP 
addressing if you want:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									To ensure network address consistency for servers such as DNS, and authentication servers.
								</li><li class="listitem">
									To use out-of-band management devices that work independently of other network infrastructure.
								</li></ul></div></dd><dt><span class="term">Dynamic IP addressing</span></dt><dd><p class="simpara">
							When you configure a device to use a dynamic IP address, the 
address can change over time. For this reason, dynamic addresses are 
typically used for devices that connect to the network occasionally 
because the IP address can be different after rebooting the host.
						</p><p class="simpara">
							Dynamic IP addresses are more flexible, easier to set up, and 
administer. The Dynamic Host Control Protocol (DHCP) is a traditional 
method of dynamically assigning network configurations to hosts.
						</p></dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					There is no strict rule defining when to use static or dynamic IP 
addresses. It depends on users needs, preferences, and the network 
environment.
				</p></div></div></section><section class="section" id="dhcp-transaction-phases_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.2. DHCP transaction phases</h2></div></div></div><p class="_abstract _abstract">
				The DHCP works in four phases: Discovery, Offer, Request, 
Acknowledgement, also called the DORA process. DHCP uses this process to
 provide IP addresses to clients.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Discovery</span></dt><dd>
							The DHCP client sends a message to discover the DHCP server in 
the network. This message is broadcasted at the network and data link 
layer.
						</dd><dt><span class="term">Offer</span></dt><dd>
							The DHCP server receives messages from the client and offers an 
IP address to the DHCP client. This message is unicast at the data link 
layer but broadcast at the network layer.
						</dd><dt><span class="term">Request</span></dt><dd>
							The DHCP client requests the DHCP server for the offered IP 
address. This message is unicast at the data link layer but broadcast at
 the network layer.
						</dd><dt><span class="term">Acknowledgment</span></dt><dd>
							The DHCP server sends an acknowledgment to the DHCP client. This 
message is unicast at the data link layer but broadcast at the network 
layer. It is the final message of the DHCP DORA process.
						</dd></dl></div></section><section class="section" id="the-differences-when-using-dhcpd-for-dhcpv4-and-dhcpv6_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.3. The differences when using dhcpd for DHCPv4 and DHCPv6</h2></div></div></div><p>
				The <code class="literal">dhcpd</code> service supports providing both DHCPv4 and DHCPv6 on one server. However, you need a separate instance of <code class="literal">dhcpd</code> with separate configuration files to provide DHCP for each protocol.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">DHCPv4</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Configuration file: <code class="literal">/etc/dhcp/dhcpd.conf</code>
								</li><li class="listitem">
									Systemd service name: <code class="literal">dhcpd</code>
								</li></ul></div></dd><dt><span class="term">DHCPv6</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Configuration file: <code class="literal">/etc/dhcp/dhcpd6.conf</code>
								</li><li class="listitem">
									Systemd service name: <code class="literal">dhcpd6</code>
								</li></ul></div></dd></dl></div></section><section class="section" id="the-lease-database-of-the-dhcpd-service_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.4. The lease database of the dhcpd service</h2></div></div></div><p class="_abstract _abstract">
				A DHCP lease is the period for which the <code class="literal">dhcpd</code> service allocates a network address to a client. The <code class="literal">dhcpd</code> service stores the DHCP leases in the following databases:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For DHCPv4: <code class="literal">/var/lib/dhcpd/dhcpd.leases</code>
					</li><li class="listitem">
						For DHCPv6: <code class="literal">/var/lib/dhcpd/dhcpd6.leases</code>
					</li></ul></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Manually updating the database files can corrupt the databases.
				</p></div></div><p>
				The lease databases contain information about the allocated leases, 
such as the IP address assigned to a media access control (MAC) address 
or the time stamp when the lease expires. Note that all time stamps in 
the lease databases are in Coordinated Universal Time (UTC).
			</p><p>
				The <code class="literal">dhcpd</code> service recreates the databases periodically:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						The service renames the existing files:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">/var/lib/dhcpd/dhcpd.leases</code> to <code class="literal">/var/lib/dhcpd/dhcpd.leases~</code>
							</li><li class="listitem">
								<code class="literal">/var/lib/dhcpd/dhcpd6.leases</code> to <code class="literal">/var/lib/dhcpd/dhcpd6.leases~</code>
							</li></ul></div></li><li class="listitem">
						The service writes all known leases to the newly created <code class="literal">/var/lib/dhcpd/dhcpd.leases</code> and <code class="literal">/var/lib/dhcpd/dhcpd6.leases</code> files.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">dhcpd.leases(5)</code> man page
					</li><li class="listitem">
						<a class="link" href="#restoring-a-corrupt-lease-database_providing-dhcp-services" title="3.12.&nbsp;Restoring a corrupt lease database">Restoring a corrupt lease database</a>
					</li></ul></div></section><section class="section" id="comparison-of-dhcpv6-to-radvd_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.5. Comparison of DHCPv6 to radvd</h2></div></div></div><p>
				In an IPv6 network, only router advertisement messages provide 
information about an IPv6 default gateway. As a consequence, if you want
 to use DHCPv6 in subnets that require a default gateway setting, you 
must additionally configure a router advertisement service, such as 
Router Advertisement Daemon (<code class="literal">radvd</code>).
			</p><p>
				The <code class="literal">radvd</code> service uses flags in router advertisement packets to announce the availability of a DHCPv6 server.
			</p><p>
				The following table compares features of DHCPv6 and <code class="literal">radvd</code>:
			</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="lm5e20j" id="rh-table--lm5e20j"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 60%; " class="col_1"><!--Empty--><col style="width: 20%; " class="col_2"><!--Empty--><col style="width: 20%; " class="col_3"><!--Empty--></colgroup><thead><tr><th id="idm140143538096560" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">&nbsp;</th><th id="idm140143538095632" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">DHCPv6</th><th id="idm140143538094544" scope="col" data-row="1" data-col="3" class="content--sm" valign="top" align="left"><code class="literal">radvd</code></th></tr></thead><tbody><tr><td headers="idm140143538096560" data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								Provides information about the default gateway
							</p>
							 </td><td headers="idm140143538095632" data-row="2" data-col="2" class="content--sm" valign="top" align="left"> <p>
								no
							</p>
							 </td><td headers="idm140143538094544" data-row="2" data-col="3" class="content--sm" valign="top" align="left"> <p>
								yes
							</p>
							 </td></tr><tr><td headers="idm140143538096560" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								Guarantees random addresses to protect privacy
							</p>
							 </td><td headers="idm140143538095632" data-row="3" data-col="2" class="content--sm" valign="top" align="left"> <p>
								yes
							</p>
							 </td><td headers="idm140143538094544" data-row="3" data-col="3" class="content--sm" valign="top" align="left"> <p>
								no
							</p>
							 </td></tr><tr><td headers="idm140143538096560" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								Sends further network configuration options
							</p>
							 </td><td headers="idm140143538095632" data-row="4" data-col="2" class="content--sm" valign="top" align="left"> <p>
								yes
							</p>
							 </td><td headers="idm140143538094544" data-row="4" data-col="3" class="content--sm" valign="top" align="left"> <p>
								no
							</p>
							 </td></tr><tr><td headers="idm140143538096560" data-row="5" data-col="1" class="content--lg" valign="top" align="left"> <p>
								Maps media access control (MAC) addresses to IPv6 addresses
							</p>
							 </td><td headers="idm140143538095632" data-row="5" data-col="2" class="content--sm" valign="top" align="left"> <p>
								yes
							</p>
							 </td><td headers="idm140143538094544" data-row="5" data-col="3" class="content--sm" valign="top" align="left"> <p>
								no
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="configuring-the-radvd-service-for-ipv6-routers_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.6. Configuring the radvd service for IPv6 routers</h2></div></div></div><p>
				The router advertisement daemon (<code class="literal">radvd</code>)
 sends router advertisement messages that are required for IPv6 
stateless autoconfiguration. This enables users to automatically 
configure their addresses, settings, routes, and to choose a default 
router based on these advertisements.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can only set <code class="literal">/64</code> prefixes in the <code class="literal">radvd</code> service. To use other prefixes, use DHCPv6.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">radvd</code> package:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5nfnaa3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dnf install radvd</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/radvd.conf</code> file, and add the following configuration:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--arh8581"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">interface <span class="emphasis"><em>enp1s0</em></span>
{
  AdvSendAdvert on;
  AdvManagedFlag on;
  AdvOtherConfigFlag on;

  prefix 2001:db8:0:1::/64 {
  };
};</pre></div></div><p class="simpara">
						These settings configures <code class="literal">radvd</code> to send router advertisement messages on the <code class="literal">enp1s0</code> device for the <code class="literal">2001:db8:0:1::/64</code> subnet. The <code class="literal">AdvManagedFlag on</code> setting defines that the client should receive the IP address from a DHCP server, and the <code class="literal">AdvOtherConfigFlag</code> parameter set to <code class="literal">on</code> defines that clients should receive non-address information from the DHCP server as well.
					</p></li><li class="listitem"><p class="simpara">
						Optionally, configure that <code class="literal">radvd</code> automatically starts when the system boots:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--rnjg9ms"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable radvd</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Start the <code class="literal">radvd</code> service:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--nih83i7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start radvd</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Optionally, display the content of router advertisement packages and the configured values <code class="literal">radvd</code> sends:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--esqavqv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>radvdump</strong></span></pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">radvd.conf(5)</code> man page
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/radvd/radvd.conf.example</code> file
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/1175913">Can I use a prefix length other than 64 bits in IPv6 Router Advertisements?</a>
					</li></ul></div></section><section class="section" id="setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.7. Setting network interfaces for the DHCP servers</h2></div></div></div><p>
				By default, the <code class="literal">dhcpd</code> service processes
 requests only on network interfaces that have an IP address in the 
subnet defined in the configuration file of the service.
			</p><p>
				For example, in the following scenario, <code class="literal">dhcpd</code> listens only on the <code class="literal">enp0s1</code> network interface:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have only a <code class="literal">subnet</code> definition for the 192.0.2.0/24 network in the <code class="literal">/etc/dhcp/dhcpd.conf</code> file.
					</li><li class="listitem">
						The <code class="literal">enp0s1</code> network interface is connected to the 192.0.2.0/24 subnet.
					</li><li class="listitem">
						The <code class="literal">enp7s0</code> interface is connected to a different subnet.
					</li></ul></div><p>
				Only follow this procedure if the DHCP server contains multiple 
network interfaces connected to the same network but the service should 
listen only on specific interfaces.
			</p><p>
				Depending on whether you want to provide DHCP for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv4" title="Procedure">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="#setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv6">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li><li class="listitem">
						The <code class="literal">dhcp-server</code> package is installed.
					</li></ul></div><div class="itemizedlist" id="setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv4"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv4 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Copy the <code class="literal">/usr/lib/systemd/system/dhcpd.service</code> file to the <code class="literal">/etc/systemd/system/</code> directory:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vijad2c"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>cp /usr/lib/systemd/system/dhcpd.service /etc/systemd/system/</strong></span></pre></div></div><p class="simpara">
								Do not edit the <code class="literal">/usr/lib/systemd/system/dhcpd.service</code> file. Future updates of the <code class="literal">dhcp-server</code> package can override the changes.
							</p></li><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/systemd/system/dhcpd.service</code> file, and append the names of the interface, that <code class="literal">dhcpd</code> should listen on to the command in the <code class="literal">ExecStart</code> parameter:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yz46k4r"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">ExecStart=/usr/sbin/dhcpd -f -cf /etc/dhcp/dhcpd.conf -user dhcpd -group dhcpd --no-pid $DHCPDARGS <span class="strong strong"><strong><span class="emphasis"><em>enp0s1</em></span> <span class="emphasis"><em>enp7s0</em></span></strong></span></pre></div></div><p class="simpara">
								This example configures that <code class="literal">dhcpd</code> listens only on the <code class="literal"><span class="emphasis"><em>enp0s1</em></span></code> and <code class="literal">enp7s0</code> interfaces.
							</p></li><li class="listitem"><p class="simpara">
								Reload the <code class="literal">systemd</code> manager configuration:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--h137435"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl daemon-reload</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Restart the <code class="literal">dhcpd</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1tfiwi8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl restart dhcpd.service</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist" id="setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv6"><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv6 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Copy the <code class="literal">/usr/lib/systemd/system/dhcpd6.service</code> file to the <code class="literal">/etc/systemd/system/</code> directory:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ipo2plz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>cp /usr/lib/systemd/system/dhcpd6.service /etc/systemd/system/</strong></span></pre></div></div><p class="simpara">
								Do not edit the <code class="literal">/usr/lib/systemd/system/dhcpd6.service</code> file. Future updates of the <code class="literal">dhcp-server</code> package can override the changes.
							</p></li><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/systemd/system/dhcpd6.service</code> file, and append the names of the interface, that <code class="literal">dhcpd</code> should listen on to the command in the <code class="literal">ExecStart</code> parameter:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--n5on5h2"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">ExecStart=/usr/sbin/dhcpd -f -6 -cf /etc/dhcp/dhcpd6.conf -user dhcpd -group dhcpd --no-pid $DHCPDARGS <span class="strong strong"><strong><span class="emphasis"><em>enp0s1</em></span> <span class="emphasis"><em>enp7s0</em></span></strong></span></pre></div></div><p class="simpara">
								This example configures that <code class="literal">dhcpd</code> listens only on the <code class="literal"><span class="emphasis"><em>enp0s1</em></span></code> and <code class="literal">enp7s0</code> interfaces.
							</p></li><li class="listitem"><p class="simpara">
								Reload the <code class="literal">systemd</code> manager configuration:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--iscbjsr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl daemon-reload</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Restart the <code class="literal">dhcpd6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pdm5m29"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl restart dhcpd6.service</strong></span></pre></div></div></li></ol></div></li></ul></div></section><section class="section" id="setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.8. Setting up the DHCP service for subnets directly connected to the DHCP server</h2></div></div></div><p>
				Use the following procedure if the DHCP server is directly connected
 to the subnet for which the server should answer DHCP requests. This is
 the case if a network interface of the server has an IP address of this
 subnet assigned.
			</p><p>
				Depending on whether you want to provide DHCP for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4" title="Procedure">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="#setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li><li class="listitem">
						The <code class="literal">dhcp-server</code> package is installed.
					</li></ul></div><div class="itemizedlist" id="setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv4 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Optionally, add global parameters that <code class="literal">dhcpd</code> uses as default if no other directives contain these settings:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3tgjewi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">option domain-name "example.com";
default-lease-time 86400;</pre></div></div><p class="simpara">
										This example sets the default domain name for the connection to <code class="literal">example.com</code>, and the default lease time to <code class="literal">86400</code> seconds (1 day).
									</p></li><li class="listitem"><p class="simpara">
										Add the <code class="literal">authoritative</code> statement on a new line:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--c9nxmwd"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">authoritative;</pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
											Without the <code class="literal">authoritative</code> statement, the <code class="literal">dhcpd</code> service does not answer <code class="literal">DHCPREQUEST</code> messages with <code class="literal">DHCPNAK</code> if a client asks for an address that is outside of the pool.
										</p></div></div></li><li class="listitem"><p class="simpara">
										For each IPv4 subnet directly connected to an interface of the server, add a <code class="literal">subnet</code> declaration:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zocdtz9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">subnet 192.0.2.0 netmask 255.255.255.0 {
  range 192.0.2.20 192.0.2.100;
  option domain-name-servers 192.0.2.1;
  option routers 192.0.2.1;
  option broadcast-address 192.0.2.255;
  max-lease-time 172800;
}</pre></div></div><p class="simpara">
										This example adds a subnet declaration for the 192.0.2.0/24 
network. With this configuration, the DHCP server assigns the following 
settings to a client that sends a DHCP request from this subnet:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												A free IPv4 address from the range defined in the <code class="literal">range</code> parameter
											</li><li class="listitem">
												IP of the DNS server for this subnet: <code class="literal">192.0.2.1</code>
											</li><li class="listitem">
												Default gateway for this subnet: <code class="literal">192.0.2.1</code>
											</li><li class="listitem">
												Broadcast address for this subnet: <code class="literal">192.0.2.255</code>
											</li><li class="listitem">
												The maximum lease time, after which clients in this subnet release the IP and send a new request to the server: <code class="literal">172800</code> seconds (2 days)
											</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
								Optionally, configure that <code class="literal">dhcpd</code> starts automatically when the system boots:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--owfqwg0"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable dhcpd</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcpd</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2fo66xs"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist" id="setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6"><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv6 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd6.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Optionally, add global parameters that <code class="literal">dhcpd</code> uses as default if no other directives contain these settings:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qr6keyk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">option dhcp6.domain-search "example.com";
default-lease-time 86400;</pre></div></div><p class="simpara">
										This example sets the default domain name for the connection to <code class="literal">example.com</code>, and the default lease time to <code class="literal">86400</code> seconds (1 day).
									</p></li><li class="listitem"><p class="simpara">
										Add the <code class="literal">authoritative</code> statement on a new line:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--11f7k5d"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">authoritative;</pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
											Without the <code class="literal">authoritative</code> statement, the <code class="literal">dhcpd</code> service does not answer <code class="literal">DHCPREQUEST</code> messages with <code class="literal">DHCPNAK</code> if a client asks for an address that is outside of the pool.
										</p></div></div></li><li class="listitem"><p class="simpara">
										For each IPv6 subnet directly connected to an interface of the server, add a <code class="literal">subnet</code> declaration:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--21gw8ql"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">subnet6 2001:db8:0:1::/64 {
  range6 2001:db8:0:1::20 2001:db8:0:1::100;
  option dhcp6.name-servers 2001:db8:0:1::1;
  max-lease-time 172800;
}</pre></div></div><p class="simpara">
										This example adds a subnet declaration for the 
2001:db8:0:1::/64 network. With this configuration, the DHCP server 
assigns the following settings to a client that sends a DHCP request 
from this subnet:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												A free IPv6 address from the range defined in the <code class="literal">range6</code> parameter.
											</li><li class="listitem">
												The IP of the DNS server for this subnet is <code class="literal">2001:db8:0:1::1</code>.
											</li><li class="listitem"><p class="simpara">
												The maximum lease time, after which clients in this subnet release the IP and send a new request to the server is <code class="literal">172800</code> seconds (2 days).
											</p><p class="simpara">
												Note that IPv6 requires uses router advertisement messages to identify the default gateway.
											</p></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
								Optionally, configure that <code class="literal">dhcpd6</code> starts automatically when the system boots:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0bfv8lc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable dhcpd6</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcpd6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5wva5sz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd6</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">dhcp-options(5)</code> man page
					</li><li class="listitem">
						<code class="literal">dhcpd.conf(5)</code> man page
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> file
					</li></ul></div></section><section class="section" id="setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.9. Setting up the DHCP service for subnets that are not directly connected to the DHCP server</h2></div></div></div><p class="_abstract _abstract">
				Use the following procedure if the DHCP server is not directly 
connected to the subnet for which the server should answer DHCP 
requests. This is the case if a DHCP relay agent forwards requests to 
the DHCP server, because none of the DHCP servers interfaces is 
directly connected to the subnet the server should serve.
			</p><p>
				Depending on whether you want to provide DHCP for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4" title="Procedure">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="#setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li><li class="listitem">
						The <code class="literal">dhcp-server</code> package is installed.
					</li></ul></div><div class="itemizedlist" id="setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv4 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Optionally, add global parameters that <code class="literal">dhcpd</code> uses as default if no other directives contain these settings:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--fw2qz2h"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">option domain-name "example.com";
default-lease-time 86400;</pre></div></div><p class="simpara">
										This example sets the default domain name for the connection to <code class="literal">example.com</code>, and the default lease time to <code class="literal">86400</code> seconds (1 day).
									</p></li><li class="listitem"><p class="simpara">
										Add the <code class="literal">authoritative</code> statement on a new line:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1c7u546"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">authoritative;</pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
											Without the <code class="literal">authoritative</code> statement, the <code class="literal">dhcpd</code> service does not answer <code class="literal">DHCPREQUEST</code> messages with <code class="literal">DHCPNAK</code> if a client asks for an address that is outside of the pool.
										</p></div></div></li><li class="listitem"><p class="simpara">
										Add a <code class="literal">shared-network</code> declaration, such as the following, for IPv4 subnets that are not directly connected to an interface of the server:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5jpwgnu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">shared-network <span class="emphasis"><em>example</em></span> {
  option domain-name-servers 192.0.2.1;
  ...

  subnet 192.0.2.0 netmask 255.255.255.0 {
    range 192.0.2.20 192.0.2.100;
    option routers 192.0.2.1;
  }

  subnet 198.51.100.0 netmask 255.255.255.0 {
    range 198.51.100.20 198.51.100.100;
    option routers 198.51.100.1;
  }
  ...
}</pre></div></div><p class="simpara">
										This example adds a shared network declaration, that contains a <code class="literal">subnet</code>
 declaration for both the 192.0.2.0/24 and 198.51.100.0/24 networks. 
With this configuration, the DHCP server assigns the following settings 
to a client that sends a DHCP request from one of these subnets:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												The IP of the DNS server for clients from both subnets is: <code class="literal">192.0.2.1</code>.
											</li><li class="listitem">
												A free IPv4 address from the range defined in the <code class="literal">range</code> parameter, depending on from which subnet the client sent the request.
											</li><li class="listitem">
												The default gateway is either <code class="literal">192.0.2.1</code> or <code class="literal">198.51.100.1</code> depending on from which subnet the client sent the request.
											</li></ul></div></li><li class="listitem"><p class="simpara">
										Add a <code class="literal">subnet</code> declaration for the subnet the server is directly connected to and that is used to reach the remote subnets specified in <code class="literal">shared-network</code> above:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--mgxztdz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">subnet 203.0.113.0 netmask 255.255.255.0 {
}</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
											If the server does not provide DHCP service to this subnet, the <code class="literal">subnet</code> declaration must be empty as shown in the example. Without a declaration for the directly connected subnet, <code class="literal">dhcpd</code> does not start.
										</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
								Optionally, configure that <code class="literal">dhcpd</code> starts automatically when the system boots:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--h60hbl2"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable dhcpd</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcpd</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--uxohk7f"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist" id="setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6"><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv6 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd6.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Optionally, add global parameters that <code class="literal">dhcpd</code> uses as default if no other directives contain these settings:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--l0gp7t6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">option dhcp6.domain-search "example.com";
default-lease-time 86400;</pre></div></div><p class="simpara">
										This example sets the default domain name for the connection to <code class="literal">example.com</code>, and the default lease time to <code class="literal">86400</code> seconds (1 day).
									</p></li><li class="listitem"><p class="simpara">
										Add the <code class="literal">authoritative</code> statement on a new line:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--eid9f2h"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">authoritative;</pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
											Without the <code class="literal">authoritative</code> statement, the <code class="literal">dhcpd</code> service does not answer <code class="literal">DHCPREQUEST</code> messages with <code class="literal">DHCPNAK</code> if a client asks for an address that is outside of the pool.
										</p></div></div></li><li class="listitem"><p class="simpara">
										Add a <code class="literal">shared-network</code> declaration, such as the following, for IPv6 subnets that are not directly connected to an interface of the server:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wn4sbh4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">shared-network <span class="emphasis"><em>example</em></span> {
  option domain-name-servers 2001:db8:0:1::1:1
  ...

  subnet6 2001:db8:0:1::1:0/120 {
    range6 2001:db8:0:1::1:20 2001:db8:0:1::1:100
  }

  subnet6 2001:db8:0:1::2:0/120 {
    range6 2001:db8:0:1::2:20 2001:db8:0:1::2:100
  }
  ...
}</pre></div></div><p class="simpara">
										This example adds a shared network declaration that contains a <code class="literal">subnet6</code>
 declaration for both the 2001:db8:0:1::1:0/120 and 
2001:db8:0:1::2:0/120 networks. With this configuration, the DHCP server
 assigns the following settings to a client that sends a DHCP request 
from one of these subnets:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												The IP of the DNS server for clients from both subnets is <code class="literal">2001:db8:0:1::1:1</code>.
											</li><li class="listitem"><p class="simpara">
												A free IPv6 address from the range defined in the <code class="literal">range6</code> parameter, depending on from which subnet the client sent the request.
											</p><p class="simpara">
												Note that IPv6 requires uses router advertisement messages to identify the default gateway.
											</p></li></ul></div></li><li class="listitem"><p class="simpara">
										Add a <code class="literal">subnet6</code> declaration for the subnet the server is directly connected to and that is used to reach the remote subnets specified in <code class="literal">shared-network</code> above:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gbiihxi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">subnet6 2001:db8:0:1::50:0/120 {
}</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
											If the server does not provide DHCP service to this subnet, the <code class="literal">subnet6</code> declaration must be empty as shown in the example. Without a declaration for the directly connected subnet, <code class="literal">dhcpd</code> does not start.
										</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
								Optionally, configure that <code class="literal">dhcpd6</code> starts automatically when the system boots:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--n6hg7ef"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable dhcpd6</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcpd6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--puhk1uu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd6</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">dhcp-options(5)</code> man page
					</li><li class="listitem">
						<code class="literal">dhcpd.conf(5)</code> man page
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> file
					</li><li class="listitem">
						<a class="link" href="#setting-up-a-dhcp-relay-agent_providing-dhcp-services" title="3.13.&nbsp;Setting up a DHCP relay agent">Setting up a DHCP relay agent</a>
					</li></ul></div></section><section class="section" id="assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.10. Assigning a static address to a host using DHCP</h2></div></div></div><p>
				Using a <code class="literal">host</code> declaration, you can 
configure the DHCP server to assign a fixed IP address to a media access
 control (MAC) address of a host. For example, use this method to always
 assign the same IP address to a server or network device.
			</p><p>
				Depending on whether you want to configure fixed addresses for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv4" title="Procedure">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="#assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv6">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">dhcpd</code> service is configured and running.
					</li><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li></ul></div><div class="itemizedlist" id="assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv4"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv4 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Add a <code class="literal">host</code> declaration:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--b5tpi3r"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">host server.example.com {
	hardware ethernet 52:54:00:72:2f:6e;
	fixed-address 192.0.2.130;
}</pre></div></div><p class="simpara">
										This example configures the DHCP server to always assign the <code class="literal">192.0.2.130</code> IP address to the host with the <code class="literal">52:54:00:72:2f:6e</code> MAC address.
									</p><p class="simpara">
										The <code class="literal">dhcpd</code> service identifies systems by the MAC address specified in the <code class="literal">fixed-address</code> parameter, and not by the name in the <code class="literal">host</code> declaration. As a consequence, you can set this name to any string that does not match other <code class="literal">host</code> declarations. To configure the same system for multiple networks, use a different name, otherwise, <code class="literal">dhcpd</code> fails to start.
									</p></li><li class="listitem">
										Optionally, add further settings to the <code class="literal">host</code> declaration that are specific for this host.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Restart the <code class="literal">dhcpd</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--fr3n5vr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist" id="assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv6"><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv6 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd6.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Add a <code class="literal">host</code> declaration:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--s4ge4uf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">host server.example.com {
	hardware ethernet 52:54:00:72:2f:6e;
	fixed-address6 2001:db8:0:1::200;
}</pre></div></div><p class="simpara">
										This example configures the DHCP server to always assign the <code class="literal">2001:db8:0:1::20</code> IP address to the host with the <code class="literal">52:54:00:72:2f:6e</code> MAC address.
									</p><p class="simpara">
										The <code class="literal">dhcpd</code> service identifies systems by the MAC address specified in the <code class="literal">fixed-address6</code> parameter, and not by the name in the <code class="literal">host</code> declaration. As a consequence, you can set this name to any string, provided that it is unique to other <code class="literal">host</code> declarations. To configure the same system for multiple networks, use a different name because, otherwise, <code class="literal">dhcpd</code> fails to start.
									</p></li><li class="listitem">
										Optionally, add further settings to the <code class="literal">host</code> declaration that are specific for this host.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Restart the <code class="literal">dhcpd6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3v2h6m9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd6</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">dhcp-options(5)</code> man page
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> file
					</li></ul></div></section><section class="section" id="using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.11. Using a group declaration to apply parameters to multiple hosts, subnets, and shared networks at the same time</h2></div></div></div><p>
				Using a <code class="literal">group</code> declaration, you can apply the same parameters to multiple hosts, subnets, and shared networks.
			</p><p>
				Note that the procedure describes using a <code class="literal">group</code> declaration for hosts, but the steps are the same for subnets and shared networks.
			</p><p>
				Depending on whether you want to configure a group for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv4" title="Procedure">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="#using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv6">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">dhcpd</code> service is configured and running.
					</li><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li></ul></div><div class="itemizedlist" id="using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv4"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv4 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Add a <code class="literal">group</code> declaration:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--tggz6bt"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">group {
  option domain-name-servers 192.0.2.1;

  host server1.example.com {
    hardware ethernet 52:54:00:72:2f:6e;
    fixed-address 192.0.2.130;
  }

  host server2.example.com {
    hardware ethernet 52:54:00:1b:f3:cf;
    fixed-address 192.0.2.140;
  }
}</pre></div></div><p class="simpara">
										This <code class="literal">group</code> definition groups two <code class="literal">host</code> entries. The <code class="literal">dhcpd</code> service applies the value set in the <code class="literal">option domain-name-servers</code> parameter to both hosts in the group.
									</p></li><li class="listitem">
										Optionally, add further settings to the <code class="literal">group</code> declaration that are specific for these hosts.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Restart the <code class="literal">dhcpd</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8d70d78"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist" id="using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv6"><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv6 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/dhcp/dhcpd6.conf</code> file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Add a <code class="literal">group</code> declaration:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zhjo8s0"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">group {
  option dhcp6.domain-search "example.com";

  host server1.example.com {
    hardware ethernet 52:54:00:72:2f:6e;
    fixed-address 2001:db8:0:1::200;
  }

  host server2.example.com {
    hardware ethernet 52:54:00:1b:f3:cf;
    fixed-address 2001:db8:0:1::ba3;
  }
}</pre></div></div><p class="simpara">
										This <code class="literal">group</code> definition groups two <code class="literal">host</code> entries. The <code class="literal">dhcpd</code> service applies the value set in the <code class="literal">option dhcp6.domain-search</code> parameter to both hosts in the group.
									</p></li><li class="listitem">
										Optionally, add further settings to the <code class="literal">group</code> declaration that are specific for these hosts.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Restart the <code class="literal">dhcpd6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wzrxymo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd6</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">dhcp-options(5)</code> man page
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> file
					</li></ul></div></section><section class="section" id="restoring-a-corrupt-lease-database_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.12. Restoring a corrupt lease database</h2></div></div></div><p>
				If the DHCP server logs an error that is related to the lease database, such as <code class="literal">Corrupt lease file - possible data loss!</code>,you can restore the lease database from the copy the <code class="literal">dhcpd</code> service created. Note that this copy might not reflect the latest status of the database.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					If you remove the lease database instead of replacing it with a 
backup, you lose all information about the currently assigned leases. As
 a consequence, the DHCP server could assign leases to clients that have
 been previously assigned to other hosts and are not expired yet. This 
leads to IP conflicts.
				</p></div></div><p>
				Depending on whether you want to restore the DHCPv4, DHCPv6, or both databases, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#restoring-a-corrupt-lease-database_providing-dhcp-services_ipv4" title="Procedure">Restoring the DHCPv4 lease database</a>
					</li><li class="listitem">
						<a class="link" href="#restoring-a-corrupt-lease-database_providing-dhcp-services_ipv6">Restoring the DHCPv6 lease database</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li><li class="listitem">
						The lease database is corrupt.
					</li></ul></div><div class="itemizedlist" id="restoring-a-corrupt-lease-database_providing-dhcp-services_ipv4"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						Restoring the DHCPv4 lease database:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Stop the <code class="literal">dhcpd</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--u62ahk7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl stop dhcpd</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Rename the corrupt lease database:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1usp094"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>mv /var/lib/dhcpd/dhcpd.leases /var/lib/dhcpd/dhcpd.leases.corrupt</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Restore the copy of the lease database that the <code class="literal">dhcp</code> service created when it refreshed the lease database:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5w5d7np"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>cp -p /var/lib/dhcpd/dhcpd.leases~ /var/lib/dhcpd/dhcpd.leases</strong></span></pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									If you have a more recent backup of the lease database, restore this backup instead.
								</p></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcpd</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ihbvomv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist" id="restoring-a-corrupt-lease-database_providing-dhcp-services_ipv6"><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						Restoring the DHCPv6 lease database:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Stop the <code class="literal">dhcpd6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gjd7ua9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl stop dhcpd6</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Rename the corrupt lease database:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0ehx8h3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>mv /var/lib/dhcpd/dhcpd6.leases /var/lib/dhcpd/dhcpd6.leases.corrupt</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Restore the copy of the lease database that the <code class="literal">dhcp</code> service created when it refreshed the lease database:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--f25zh8q"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>cp -p /var/lib/dhcpd/dhcpd6.leases~ /var/lib/dhcpd/dhcpd6.leases</strong></span></pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									If you have a more recent backup of the lease database, restore this backup instead.
								</p></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcpd6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0m5hf96"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcpd6</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#the-lease-database-of-the-dhcpd-service_providing-dhcp-services" title="3.4.&nbsp;The lease database of the dhcpd service">The lease database of the dhcpd service</a>
					</li></ul></div></section><section class="section" id="setting-up-a-dhcp-relay-agent_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">3.13. Setting up a DHCP relay agent</h2></div></div></div><p>
				The DHCP Relay Agent (<code class="literal">dhcrelay</code>) enables
 the relay of DHCP and BOOTP requests from a subnet with no DHCP server 
on it to one or more DHCP servers on other subnets. When a DHCP client 
requests information, the DHCP Relay Agent forwards the request to the 
list of DHCP servers specified. When a DHCP server returns a reply, the 
DHCP Relay Agent forwards this request to the client.
			</p><p>
				Depending on whether you want to set up a DHCP relay for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv4" title="Procedure">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="#setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv6">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal">root</code> user.
					</li></ul></div><div class="itemizedlist" id="setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv4"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv4 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Install the <code class="literal">dhcp-relay</code> package:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wqwt66k"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dnf install dhcp-relay</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Copy the <code class="literal">/lib/systemd/system/dhcrelay.service</code> file to the <code class="literal">/etc/systemd/system/</code> directory:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--736n66v"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>cp /lib/systemd/system/dhcrelay.service /etc/systemd/system/</strong></span></pre></div></div><p class="simpara">
								Do not edit the <code class="literal">/usr/lib/systemd/system/dhcrelay.service</code> file. Future updates of the <code class="literal">dhcp-relay</code> package can override the changes.
							</p></li><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/systemd/system/dhcrelay.service</code> file, and append the <code class="literal">-i <span class="emphasis"><em>interface</em></span></code> parameter, together with a list of IP addresses of DHCPv4 servers that are responsible for the subnet:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--eua423m"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">ExecStart=/usr/sbin/dhcrelay -d --no-pid <span class="strong strong"><strong>-i <span class="emphasis"><em>enp1s0</em></span> <span class="emphasis"><em>192.0.2.1</em></span></strong></span></pre></div></div><p class="simpara">
								With these additional parameters, <code class="literal">dhcrelay</code> listens for DHCPv4 requests on the <code class="literal">enp1s0</code> interface and forwards them to the DHCP server with the IP <code class="literal">192.0.2.1</code>.
							</p></li><li class="listitem"><p class="simpara">
								Reload the <code class="literal">systemd</code> manager configuration:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2h5jkhc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl daemon-reload</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Optionally, configure that the <code class="literal">dhcrelay</code> service starts when the system boots:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--cfxsjig"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable dhcrelay.service</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcrelay</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5h1pkee"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcrelay.service</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist" id="setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv6"><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
						For IPv6 networks:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Install the <code class="literal">dhcp-relay</code> package:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--b9uhdix"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>dnf install dhcp-relay</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Copy the <code class="literal">/lib/systemd/system/dhcrelay.service</code> file to the <code class="literal">/etc/systemd/system/</code> directory and name the file <code class="literal">dhcrelay6.service</code>:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qylle9h"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>cp /lib/systemd/system/dhcrelay.service /etc/systemd/system/dhcrelay6.service</strong></span></pre></div></div><p class="simpara">
								Do not edit the <code class="literal">/usr/lib/systemd/system/dhcrelay.service</code> file. Future updates of the <code class="literal">dhcp-relay</code> package can override the changes.
							</p></li><li class="listitem"><p class="simpara">
								Edit the <code class="literal">/etc/systemd/system/dhcrelay6.service</code> file, and append the <code class="literal">-l <span class="emphasis"><em>receiving_interface</em></span></code> and <code class="literal">-u <span class="emphasis"><em>outgoing_interface</em></span></code> parameters:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yzecgq4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed">ExecStart=/usr/sbin/dhcrelay -d --no-pid <span class="strong strong"><strong>-l <span class="emphasis"><em>enp1s0</em></span> -u <span class="emphasis"><em>enp7s0</em></span></strong></span></pre></div></div><p class="simpara">
								With these additional parameters, <code class="literal">dhcrelay</code> listens for DHCPv6 requests on the <code class="literal">enp1s0</code> interface and forwards them to the network connected to the <code class="literal">enp7s0</code> interface.
							</p></li><li class="listitem"><p class="simpara">
								Reload the <code class="literal">systemd</code> manager configuration:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vm7gjpr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl daemon-reload</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Optionally, configure that the <code class="literal">dhcrelay6</code> service starts when the system boots:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6x3eqe6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl enable dhcrelay6.service</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Start the <code class="literal">dhcrelay6</code> service:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dej2xph"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout white-space-pre language-none codeblock codeblock--processed"># <span class="strong strong"><strong>systemctl start dhcrelay6.service</strong></span></pre></div></div></li></ol></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">dhcrelay(8)</code> man page
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140143536811072"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span> 2023 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat
 under a Creative Commons AttributionShare Alike 3.0 Unported license 
("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>.
 In accordance with CC-BY-SA, if you distribute this document or an 
adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to 
enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest
 extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat 
logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are 
trademarks of Red Hat, Inc., registered in the United States and other 
countries.
	</div><div class="para">
		<span class="trademark">Linux</span> is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span> is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span> is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span> is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span> is an official trademark of 
Joyent. Red Hat is not formally related to or endorsed by the official 
Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span> Word Mark and OpenStack 
logo are either registered trademarks/service marks or 
trademarks/service marks of the OpenStack Foundation, in the United 
States and other countries and are used with the OpenStack Foundation's 
permission. We are not affiliated with, endorsed or sponsored by the 
OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div>


  <nav class="pvof-doc__book-nav">
  <ol class="book-nav__list">
              </ol>
</nav>


          </div>
              </div>
              <div id="comments-footer" class="book-comments">
          

  

        </div>
          </div>
  </article>
<meta itemscope="" itemref="md1">



    </div>
      <!-- CP_PRIMER_FOOTER -->            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto affix-top" href="#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com/">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path class="rh-logo-hat" d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"></path>
                      <path class="rh-logo-band" d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"></path>
                      <path class="rh-logo-type" d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"></path>
                  </svg>
                </a>
              </div>

              <div role="navigation" aria-label="quick">
                  <h3>Quick Links</h3>
                  <ul>
                      <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                      <li><a class="manage-subscriptions" href="https://access.redhat.com/management">Subscriptions</a></li>
                      <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                      <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                      <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="help">
                  <h3>Help</h3>
                  <ul>
                      <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                      <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                      <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="site">
                  <h3>Site Info</h3>
                  <ul>
                      <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                      <li><a class="browser-support-policy" href="https://www.redhat.com/en/about/browser-support">Browser Support Policy</a></li>
                      <li><a class="accessibility" href="https://www.redhat.com/en/about/digital-accessibility">Accessibility</a></li>
                      <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                      <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="other">
                  <h3>Related Sites</h3>
                  <ul>
                      <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                      <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                      <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                      <li><a href="https://cloud.redhat.com/" class="cloud-com">cloud.redhat.com</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="about">
                  <h3>About</h3>
                  <ul>
                      <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                      <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                      <li><a href="http://jobs.redhat.com/" class="about-jobs">Red Hat Jobs</a></li>
                  </ul>
              </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a href="https://status.redhat.com/" class="status-page-widget">
                        <span class="status-description">All systems operational</span>
                        <span class="status-dot shape-circle shape-dash-lime"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright  2023 Red Hat, Inc.</div>

                        <div role="navigation" aria-label="legal" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://www.redhat.com/en/about/terms-use" class="terms-of-use">Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                                <li><a id="teconsent" consent="0,1,2"><a role="link" id="icon-id047646448039150446" tabindex="0" aria-haspopup="dialog" aria-label="Cookie Preferences, opens a dedicated popup modal window" class="truste_cursor_pointer" lang="en">Cookie preferences</a></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                        <img src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-summit-red-a.svg" alt="Red Hat Summit"> <span class="offscreen">Red Hat Summit</span>
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHat" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>                        
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- TrustArc -->
    <div id="consent_blackbar"></div> 
    <!--googleon: all-->
</div>
<!-- /CP_PRIMER_FOOTER -->


  </div>

    
  

<script>_satellite["_runScript2"](function(event, target, Promise) {
window._sdi=window._sdi||{},window._sdi.addEventHandler=window.addEventListener?function(e,i,t){e.addEventListener(i,t,!1)}:function(e,i,t){e.attachEvent("on"+i,t)},window._sdi.addEventHandler(window,"message",(function(e){var i={},t=0;(-1!==e.origin.indexOf("loop=1")||e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.loop)&&(t=1);var a=0;if(e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.autoplay&&(a=1),e.origin.match(/youtube\.com/)&&"undefined"!=typeof JSON&&!t&&!a){i=JSON.parse(e.data);var n=window._sdi.yt.videos;if("infoDelivery"==i.event){var d,o={};for(var r in i.info.videoData&&((o=n[d=i.info.videoData.video_id]||{}).info=i.info,o.id=i.id,n[d]=o),window._sdi.yt.videos){(c=window._sdi.yt.videos[r]).id==i.id&&(o=c)}var s=window._sdi.yt.sc||{};o.info&&(Math.abs(i.info.currentTime-o.info.currentTime)>1.5&&!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),"paused"!=o.state&&s.s().Media.play(o.info.videoData.title,i.info.currentTime)),o.info.currentTime=i.info.currentTime),2==i.info.playerState&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),1==i.info.playerState&&(o.started?!0===s.track&&s.s().Media.play(o.info.videoData.title,o.info.currentTime):(o.started=!0,!0===s.track&&(s.s().Media.open(o.info.videoData.title,o.info.duration,"youtube"),s.s().Media.play(o.info.videoData.title,o.info.currentTime))),o.state="playing"),3==i.info.playerState&&o.started&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),0===i.info.playerState&&(!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),s.s().Media.close(o.info.videoData.title)),o.state="completed")}else if("onStateChange"==i.event){for(var r in window._sdi.yt.videos){var c;(c=window._sdi.yt.videos[r]).id==i.id&&(o=c)}s=window._sdi.yt.sc||{};1==i.info&&(o.started?!0===s.track&&s.s().Media.play(o.info.videoData.title,o.info.currentTime):(o.started=!0,!0===s.track&&(s.s().Media.open(o.info.videoData.title,o.info.duration,"youtube"),"paused"!=o.state&&s.s().Media.play(o.info.videoData.title,i.info.currentTime))),o.state="playing"),2==i.info&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),3==i.info&&o.started&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),0===i.info&&(!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),s.s().Media.close(o.info.videoData.title)),o.state="completed")}}})),window._sdi.loadScript=function(e,i){var t=document.createElement("script");t.type="text/javascript",i&&"function"==typeof i&&(t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,i())}:t.onload=function(){i()}),t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},window._sdi.yt={stages:{},players:{},sc:{track:!0,s:function(){return window.s}},init:function(){for(var e=document.getElementsByTagName("script"),i=!1,t=(window._sdi.yt.videos,0);t<e.length;t++){(e[t].src||"").match(/youtube\.com\/iframe_api/)&&(i=!0)}!1===i?window._sdi.loadScript("//www.youtube.com/iframe_api",(function(){window._sdi.yt.ready("api")})):window._sdi.yt.ready("api")},ready:function(e){window._sdi.yt.stages[e]=!0,window._sdi.yt.stages.dom&&window._sdi.yt.stages.api&&window._sdi.yt.checkIframes()},checkIframes:function(){var e=window._sdi.yt.videos,i=1e3,t=0;document.querySelectorAll("iframe[src*=youtube][data-sdiyt]").forEach((a=>{if("true"==a.dataset.sdiyt)return!1;if(-1!=a.src.indexOf("loop=1"))var n=null;else{var d;n=a.src.match(/h?t?t?p?s?\:?\/\/www\.youtube(-nocookie)?\.com\/embed\/([\w-]{11})(?:\?.*)?/)}if(n){d=n.length>2?n[2]:"",a.id||(a.id=d+t,t++);var o=!1;if(a.src.match(/enablejsapi=1/)||(a.src+=(a.src.indexOf("?")>-1?"&":"?")+"enablejsapi=1",o=!0),o){var r=a.cloneNode(!0);r.src=a.src,r.id=a.id,a.replaceWith(r)}else"undefined"!=typeof YT&&void 0!==YT.get?(ready=!0,e[d]={},(!YT.get(a.id)||void 0===YT.get(a.id).v&&void 0!==YT.get(a.id).v.videoId)&&(e[d].player=new YT.Player(a.id,{events:{onReady:function(){},onStateChange:function(){},videoId:a.id}})),a.setAttribute("data-sdiyt","true")):i=100}})),setTimeout((function(){window._sdi.yt.checkIframes()}),i)},videos:{}},void 0!==window._sdi&&void 0!==window._sdi.addEventHandler&&window._sdi.addEventHandler(window,"load",(function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1?(window._sdi.yt.init(),window._sdi.yt.ready("dom")):window._sdi.ytinterval=setInterval((function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1&&(window._sdi.yt.init(),window._sdi.yt.ready("dom"),clearInterval(window._sdi.ytinterval))}),500)}));
});</script><script>_satellite["_runScript3"](function(event, target, Promise) {
var dataLayerName="appEventData",reservedAttributes=["event"],internalDomains=[],downloadExtensions=["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"],parseAttributes=function(t){var e={};for(var n in t.dataset)if("analytics"===n.substr(0,9)){var a=n.replace("analytics","");e[a[0]?a[0].toLocaleLowerCase()+a.slice(1):""]=t.dataset[n]}return e},addAttributes=function(t,e){return isJavascript(t)&&(e.isJavascript=!0),isDownload(t)&&(e.isDownload=!0),isCrossPropertyDomain(t)&&(e.isCrossPropertyDomain=!0,e.linkTypeName="cross property link"),isCta(t)&&(e.isCta=!0,e.linkTypeName="cta link"),isExitLink(t)&&(e.isExitLink=!0,e.linkTypeName="exit link"),isFooter(t)&&(e.isFooter=!0),isInternalCampaign(t)&&(e.isInternalCampaign=!0),isPromoSection(t)&&(e.isPromoSection=!0),isSearchContainer(t)&&(e.isSearchContainer=!0),e.targetHost=getHostName(t.href),e.internalCampaign=window._sdi.util.getQueryParam("icid",t.href)||window._sdi.util.getQueryParam("intcmp",t.href),e},getLinkText=function(t){return t.getAttribute("data-analytics-text")||t.getAttribute("sObjectId")||t.getAttribute("s-object-id")||t.getAttribute("sObjectID")||t.getAttribute("data-s-object-id")||t.innerText&&""!==t.innerText.trim()&&t.innerText.trim()||t.textContent&&""!==t.textContent.trim()&&t.textContent.trim()||t.querySelector("[alt]")&&t.querySelector("[alt]").getAttribute("alt")||t.querySelector("[title]")&&t.querySelector("[title]").getAttribute("title")||t.getAttribute("aria-label")||t.href||"unknown"},getRegions=function(t,e){if(e=e||[],!t)return e;var n=t.closest("[data-analytics-region]");return n?(e.push(n.dataset.analyticsRegion),e=getRegions(n.parentElement,e)):e},removeReservedAttributes=function(t){return reservedAttributes.forEach((function(e){delete t[e]})),t},redactEmail=function(t){return t.replace(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}/gi,"email_address_redacted")},buildDataObject=function(t,e,n){return n=n||getRegions(t),{event:buildEventName(t,e,n),linkInfo:Object.assign({href:t.href,regions:n.reverse().join("|"),text:redactEmail(getLinkText(t))},removeReservedAttributes(e))}},buildEventName=function(t,e,n){if(e.event)return e.event;var a={};if(n=n||getRegions(t))for(var i=0;i<n.length;i++)if(a[n[i]])return a[n[i]];return"Master Link Clicked"},findRootElement=function(t){if(t)return t.closest("a, [data-analytics-event]")},isJavascript=function(t){return new RegExp("^javascript:","i").test(t.href)},isDownload=function(t){return new RegExp(".("+downloadExtensions.join("|")+")$","i").test(t.href)},isInternalDomain=function(t){return new RegExp(internalDomains.join("|"),"i").test(t.href)},isExitLink=function(t){return!!t.href&&!new RegExp(_satellite.getVar("exitExclusionArray").join("|"),"i").test(t.href)},isCrossPropertyDomain=function(t){return document.location.hostname!==getHostName(t.href)&&"access.cdn.redhat.com"!==getHostName(t.href)&&new RegExp(_satellite.getVar("redHatDomains").join("|"),"i").test(getHostName(t.href))},isCta=function(t){return!(!t.classList.contains("cta-primary")&&"primary"!=t.getAttribute("data-rh-cta-type")&&"primary"!=t.getAttribute("data-ux-cta-type"))},isTab=function(t){return!!(t.classList.contains('[data-toggle="tab"]')||t.classList.contains("pfe-accordion-header")||t.classList.contains('[role="tab"]')||t.classList.contains("ux-vtab-nav-link")||t.classList.contains("ux-tile-nav-link")||t.classList.contains("btn-brick")||t.classList.contains("ux-htab-nav-link")||t.classList.contains("ux-horizontal-tab-nav-link")||t.classList.contains("ux-oss-hub-filter-type-text")||t.classList.contains("ux-htabb-nav-link")||"tab"==t.getAttribute("data-toggle")||"PFE-ACCORDION-HEADER"==t.tagName||"tab"==t.getAttribute("role"))},isFooter=function(t){return el=t.closest("footer"),"undefined"!=typeof el&&null!=el},isInternalCampaign=function(t){return(""!=window._sdi.util.getQueryParam("icid",t.href)||""!=window._sdi.util.getQueryParam("intcmp",t.href))&&(linkRole=t.getAttribute("role")||"",_satellite.logger.log("isInternalCampaign: linkRole:",linkRole),"tab"!==linkRole||void 0)},isPromoSection=function(t){return el=t.closest("div.band-hero"),"undefined"!=typeof el&&null!=el},isSearchContainer=function(t){return _satellite.logger.log("isSearchContainer ran"),el=t.closest("div.cp-sidebar")||t.closest("div.cp-search-results"),_satellite.logger.log("isSearchContainer el",el),_satellite.logger.log("isSearchContainer return","undefined"!=typeof el&&null!=el&&document.location.href.indexOf("search")>-1),"undefined"!=typeof el&&null!=el&&document.location.href.indexOf("search")>-1},getHostName=function(e){return t=document.createElement("a"),t.href=e,t.hostname},pushEvent=function(t){window.appEventData=window.appEventData||[],console.info("Pushing to the dataLayer",t);var e=window[dataLayerName];Array.isArray(e)&&e.push(t)};window.analyticsHelper=window.analyticsHelper||{},window.analyticsHelper.parseCustomEvent=function(t,e,n){_satellite.logger.log("target:",t);var a=parseAttributes(t),i=null,r=getRegions(t);if(e)i=e.closest("[data-analytics-region]");else{var s=t.getRootNode();s&&s.host&&(i=t.getRootNode().host.closest("[data-analytics-region]"))}i&&(r=r.concat(getRegions(i))),"expand"===n&&r.includes("mega menu")&&(a.event="Mega Menu Expanded"),"expand"===n&&r.includes("site-switcher")&&(a.event="Site Switcher Expanded"),"true"!==a.istab&&"true"!==a.isTab||(a.event="Tab Link Clicked",tabHref=t.getAttribute("href")||getLinkText(t)||"",tabHref=tabHref.trim(),a.tabHref=tabHref),_satellite.logger.log("attributes",a),_satellite.logger.log("event type",n),_satellite.logger.log("regions",r),a=addAttributes(t,a);var o=buildDataObject(t,a,r);o.event&&pushEvent(o)};var clickHandler=function(t){if(!(t.target&&t.target.tagName&&t.target.tagName.indexOf("-")>0)){var e=findRootElement(t.target);if(e){var n=parseAttributes(e);isTab(e)&&(n.event="Tab Link Clicked",tabHref=e.getAttribute("href")||getLinkText(e)||"",tabHref=tabHref.trim(),n.tabHref=tabHref),n=addAttributes(e,n);var a=buildDataObject(e,n);a.event&&pushEvent(a)}}};document.addEventListener("click",clickHandler,!0),document.addEventListener("pfe-tabs:shown-tab",(function(t){if(window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent){var e=t.target.closest("pfe-content-set")||t.target.closest("pfe-tabs"),n=null;if(e){if("PFE-CONTENT-SET"===e.tagName){var a=t.detail.tab.querySelector("slot");if(a)(n=e.getSlot(a.getAttribute("name")))&&(n=e.getSlot(t.detail.tab.querySelector("slot").getAttribute("name"))[0])}else n=t.detail.tab;n?(n.setAttribute("data-analytics-isTab","true"),_satellite.logger.info("Called pfe-tabs:shown-tab:parseCustomEvent clicked"),window.analyticsHelper.parseCustomEvent(n,e,"clicked")):console.warn("Wasn't able to find the tabTextWrapper")}else console.warn("Wasn't able to find the componentParent")}})),document.addEventListener("pfe-accordion:change",(function(t){if(window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent){var e=t.target.closest("pfe-content-set")||t.target.closest("pfe-accordion");if(t.detail.expanded){var n="PFE-ACCORDION-HEADER"===t.target.tagName?t.target:t.path[0];if(e&&"PFE-CONTENT-SET"===e.tagName){var a=n.querySelector("slot");if(a){var i=e.getSlot(a.getAttribute("name"));i&&i[0]&&(n=i[0])}}n&&n.setAttribute("data-analytics-isTab","true"),_satellite.logger.info("Called pfe-accordion:change:parseCustomEvent expand"),window.analyticsHelper.parseCustomEvent(n,e,"expand")}}})),document.addEventListener("pfe-shadow-dom-event",(function(t){window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent&&window.analyticsHelper.parseCustomEvent(t.detail.target,t.detail.parentComponent,"click")})),document.addEventListener("pfe-navigation:expanded-item",(function(t){window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent&&window.analyticsHelper.parseCustomEvent(t.detail.toggle,t.target,"expand")}));
});</script><div id="ZN_bCxD2jjWRr4bfVQ"></div><script type="text/javascript" src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/Untitled.js"></script><script src="Managing%20networking%20infrastructure%20services%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/CoreModule.js" defer="defer"></script><script>_satellite["_runScript4"](function(event, target, Promise) {
_satellite.getVar("eloqua_Tag");
});</script><script>_satellite["_runScript5"](function(event, target, Promise) {
var body=document.body,html=document.documentElement,pageHeight=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),viewportHeight=window.innerHeight,initialPercent=viewportHeight/pageHeight,maxInterval=0;initialPercent=initialPercent>1?100:Math.round(100*initialPercent);var maxScroll=Math.floor(initialPercent);_satellite.cookie.set("sat_ppv",maxScroll,{domain:".redhat.com"});var ticking=!1,s=window.scrollY;document.addEventListener("scroll",(()=>{ticking||(window.requestAnimationFrame((()=>{var t=document.body,e=document.documentElement;s=window.scrollY;var i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),o=window.innerHeight,l=s/(i-o)*100;l>maxScroll&&(maxScroll=Math.floor(l)),_satellite.cookie.set("sat_ppv",maxScroll,{domain:".redhat.com"}),ticking=!1})),ticking=!0)}),{passive:!0});
});</script><script>
if("yes"==_satellite.getVar("tagsAllowedFunc")){var profileID=_satellite.getVar("profileID")||"";if(profileID)try{!function(e){!function(t,n,i,a,o){var c,l,r,f,s;for((o=t[a]=t[a]||{})._q=[],l=0,r=(c=["initialize","identify","updateOptions","pageLoad"]).length;l<r;++l)!function(e){o[e]=o[e]||function(){o._q[e===c[0]?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}}(c[l]);(f=n.createElement(i)).async=!0,f.src="https://cdn.pendo.io/agent/static/"+e+"/pendo.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(f,s)}(window,document,"script","pendo"),setTimeout((function(){"undefined"!=typeof pendo&&pendo.initialize({visitor:{id:_satellite.getVar("profileID"),internal:"",lang:""},account:{id:_satellite.getVar("accountID"),account_number:_satellite.getVar("accountID")}})}),2e3)}("f210c485-387f-43ad-4eee-f55bab22507f")}catch(e){}}
</script></body></html>