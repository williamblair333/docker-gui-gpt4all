<!DOCTYPE html>
<html dir="ltr" prefix="og: https://ogp.me/ns#" class=" js supports cssanimations flexbox csstransforms csstransforms3d" style="" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style><style type="text/css">.truste_cursor_pointer {cursor: pointer;}.truste_border_none {border: none;}</style>
    <meta charset="utf-8">
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<meta property="og:site_name" content="Red Hat Customer Portal">
<meta property="og:type" content="article">
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<meta property="og:title" content="Composing a customized RHEL system image Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<meta property="og:description" content="Image builder is a tool for creating deployment-ready customized system images: installation disks, virtual machines, cloud vendor-specific images, and others. Using image builder, you can create these images faster if compared to manual procedures, because it eliminates the specific configurations required for each output type. This document describes how to set up image builder and create images with it.">
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="Image builder is a tool for creating deployment-ready customized system images: installation disks, virtual machines, cloud vendor-specific images, and others. Using image builder, you can create these images faster if compared to manual procedures, because it eliminates the specific configurations required for each output type. This document describes how to set up image builder and create images with it.">
<meta name="twitter:title" content="Composing a customized RHEL system image Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<meta name="twitter:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png">
<meta name="title" content="Composing a customized RHEL system image Red Hat Enterprise Linux 9 | Red Hat Customer Portal">
<link rel="alternate" hreflang="en" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="ko" href="https://access.redhat.com/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="zh-hans" href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="ja" href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="es" href="https://access.redhat.com/documentation/es-es/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="ru" href="https://access.redhat.com/documentation/ru-ru/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="pt-br" href="https://access.redhat.com/documentation/pt-br/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="it" href="https://access.redhat.com/documentation/it-it/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="de" href="https://access.redhat.com/documentation/de-de/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="fr" href="https://access.redhat.com/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<link rel="alternate" hreflang="zh-hant" href="https://access.redhat.com/documentation/zh-tw/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)">
<meta name="MobileOptimized" content="width">
<meta name="HandheldFriendly" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="revision" product="0ad2e1c5-8cc7-4fb9-8e05-1c2d8c07d005" title="960858b6-e302-4950-bcaa-396df0b6037b" page="14ff0c5d-0e20-4d5c-a61a-544da3a75d42" revision="a049e7b9a73db4812eb85a393996d1d12913fc33:en-us" body="0a14d0ee6294a310c31d203176259f71.html" toc="45767a028e6ae87347f3b2b0cc586606.json">

    <title>Composing a customized RHEL system image Red Hat Enterprise Linux 9 | Red Hat Customer Portal</title>
    <link rel="stylesheet" media="all" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css">
<link rel="stylesheet" media="all" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/css__Xq4GfgPDJw9K_yYJFmlRZGJeCENu3R3r4s0K7Tr_9g.css">

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"documentation\/en-us\/red_hat_enterprise_linux\/9\/html-single\/composing_a_customized_rhel_system_image\/index","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"red_hat_jwt":{"client_id":"customer-portal","cookie_name":"rh_jwt","leeway":"0","realm":"redhat-external","sso_host":"https:\/\/sso.redhat.com\/","user_integration":1,"user_plugin":"drupal_user_auth","use_external_js":0,"use_internal_js":0,"use_in_admin":0},"user":{"uid":0,"permissionsHash":"e301988aec96403b7b03860ee81161237ee18c188536caa2bfab8701012b505e"}}</script>
<script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/js_EQWKo9EokWkWS99x_e1oM-NEM0zlKyTkp_83mGdm5Ks.js"></script>

    <!-- CP_PRIMER_HEAD -->  <!-- TrustArc & DTM -->
  <script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/trustarc.js"></script><script type="text/javascript" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/notice" id="truste_0.24448988047928455"></script>
  <script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/dtm.js"></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement.min.js" async=""></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement_Module_ActivityMap.min.js" async=""></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/AppMeasurement_Module_AudienceManagement.min.js" async=""></script><script id="mktgJS" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh.mktg.js"></script><script>_satellite["_runScript1"](function(event, target, Promise) {
var targetWaitAttempts = 0;

var awaitBody = function(offer){
	//mbox call has returned, ensure <body> exists, then add the mbox DIV
	var docBody  = document.getElementsByTagName("body"),
		int_mbox;
	if(docBody.length){
		int_mbox = document.createElement("div");
		docBody = docBody[0];
		int_mbox.id = "int_mbox";
		int_mbox.classList.add("mboxDefault");
		int_mbox.style.display = "none";
		//place mbox DIV as first tag within BODY
		docBody.insertBefore(int_mbox, docBody.firstChild);
	
		//now that receiving DIV is in place, inject the offer code
		adobe.target.applyOffer({
			"mbox": "int_mbox",
			"selector": "#int_mbox",
			"offer": offer
		});
	
		//and then un-hide the mbox DIV
		int_mbox.style.display = "block";
	}else{
		setTimeout(function(){awaitBody(offer)},100);
	}
}

var awaitTarget = function(){
	if (typeof adobe !== "undefined" && typeof adobe.target !== "undefined" && typeof adobe.target.getOffer !== "undefined") {
		//First get the mbox call going out
		adobe.target.getOffer({
			"mbox": "int_mbox",
			"success": function(offer) {
				awaitBody(offer);
			},
			// Handle errors gracefully
			"error": function(status, error) {}
		});
	}else{
		if(++targetWaitAttempts < 50){
			setTimeout(awaitTarget,100);
		}
	}
}
awaitTarget();
});</script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/v1.7-920" async="async" crossorigin="" importance="high"></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="dxp-kbase-prod-138-57cf79cd99-wkvtp">
<meta name="avalon-version" content="eb0593bd">
<meta name="cp-chrome-build-date" content="2023-09-01T18:06:20.591Z">

<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml">
<!-- title -->
<title>Red Hat Customer Portal - Access to 24x7 support and knowledge</title>
<!-- /title -->
<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en", 
        version   : "eb0593bd",
        builddate : "2023-09-01T18:06:20.591Z",        fetchdate : "2023-09-03T14:30:08-0400",        nrid      : "NOLONGERSUPPORTED",
        nrlk      : "NOLONGERSUPPORTED"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="https://access.redhat.com/webassets/avalon/g/favicon.ico"><link media="all" rel="stylesheet" type="text/css" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/bootstrap.css">
<link media="all" rel="stylesheet" type="text/css" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/bootstrap-grid.css">
<link media="all" rel="stylesheet" type="text/css" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/main.css">



<link href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/chosen.css" rel="stylesheet" type="text/css">

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]--><noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>
<link media="all" rel="stylesheet" type="text/css" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-navigation--lightdom.min.css">
<!-- /cssInclude -->
<script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/ie-polyfills.js"></script>

<script async="">
  if (!HTMLScriptElement.supports || !HTMLScriptElement.supports('importmap')) {
    import("https://www.redhatstatic.com/dx/v1-alpha/es-module-shims@1.7.3.js");
  }
</script>
<script type="importmap">
{
  "imports": {
    "@patternfly/elements/" : "https://www.redhatstatic.com/dx/v1-alpha/@patternfly/elements@2.2.2/",
    "@rhds/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/elements/",
    "@rhds/elements/lib/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/lib/",
    "@cpelements/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@cpelements/elements@2.0.0-alpha.7/elements/"
  }
}
</script><script type="text/javascript" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/require.js" data-main="/webassets/avalon/j/"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
<script type="text/javascript" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/new-nav.js"></script>
<!-- /CP_PRIMER_HEAD -->

  <script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC89cb5efc622a491caa02ca11adc4672f-source.min.js" async=""></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC4291db99e867433ca8496d298dca09cb-source.min.js" async=""></script><link href="data:text/css,%5Bid*%3D'google_ads_iframe'%5D%2C%5Bid*%3D'taboola-'%5D%2C.taboolaHeight%2C.taboola-placeholder%2C%23credential_picker_container%2C%23credentials-picker-container%2C%23credential_picker_iframe%2C%5Bid*%3D'google-one-tap-iframe'%5D%2C%23google-one-tap-popup-container%2C.google-one-tap-modal-div%2C%23amp_floatingAdDiv%2C%23ez-content-blocker-container%2C%23notify-adblock%7Bdisplay%3Anone!important%3Bmin-height%3A0!important%3Bheight%3A0!important%3B%7D" rel="stylesheet" type="text/css"><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/prompt.js"></script><script charset="utf-8" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/12.2158c5447122fa995560.chunk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="https://access.redhat.com/webassets/avalon/j/lib/require-css/require.css.min.js" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/require.css.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="rhn-modal" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rhn-modal.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="status-widget" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/status-widget.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="avatars" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/avatars.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="cookie-monster" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/cookie-monster.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="pfe" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="wc" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/wc.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nimbus/searchbar" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/searchbar.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="webcomponentsjs/custom-elements-es5-adapter" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/custom-elements-es5-adapter.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="webcomponentsjs/webcomponents-bundle" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/webcomponents-bundle.js"></script><link rel="stylesheet" media="all" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-table--lightdom.min.css"><script charset="utf-8" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/7.41dc96447e48575a0cfd.chunk.js"></script><script charset="utf-8" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/1.e4bb9861ae9a0d936559.chunk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="data-action" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/data-action.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-icon/dist/pfe-icon.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-icon.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-cta/dist/pfe-cta.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-cta.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-avatar/dist/pfe-avatar.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-avatar.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/cp-search-autocomplete/dist/cp-search-autocomplete.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/cp-search-autocomplete.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-site-switcher/dist/site-switcher.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/site-switcher.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/pfe-navigation/dist/pfe-navigation.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-navigation.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-primary-detail/dist/pfe-primary-detail.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-primary-detail.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nimbus/tour" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/tour.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfelement/dist/pfelement.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfelement.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-autocomplete/dist/pfe-autocomplete.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-autocomplete.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="introjs" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/introjs.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="moment" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/moment.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-button/dist/pfe-button.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-button.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-table/dist/rh-table.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-table.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ieSVGfix" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/ieSVGfix.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@cpelements/rh-account-dropdown/dist/rh-account-dropdown.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-account-dropdown.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="public_modules/@patternfly/pfe-clipboard/dist/pfe-clipboard.umd.min" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/pfe-clipboard.umd.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="prism" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/prism.js"></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RC1badf0bc400d462b892df3a5874c0bc4-source.min.js" async=""></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RCb1afac0346e94d81bf645b608336061e-source.min.js" async=""></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/RCa65a5b793a1a4b4abe76ffa69f30f470-source.min.js" async=""></script></head>
  <body class="en loggedOut">
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas="">
      <!-- CP_PRIMER_HEADER -->
<div id="page-wrap" class="page-wrap">
    <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">

      <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
      <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden">Skip to navigation</a>
            <a href="#doc-wrapper" class="skip-link visually-hidden">Skip to main content</a>            <nav id="portal-utility-nav" class="utility-navigation utility-navigation--bar hidden-at-mobile" data-analytics-region="utility" aria-labelledby="nav__utility-nav--desktop">
                <h3 id="nav__utility-nav--desktop" class="element-invisible">Utilities
                </h3>
                <ul aria-labelledby="nav__utility-nav--desktop">
                    <li id="nav-subscription" data-portal-tour-1="1">
                        <a class="top-nav-subscriptions" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Subscription" href="https://access.redhat.com/management/">Subscriptions
                        </a>
                    </li>
                    <li id="nav-downloads" data-portal-tour-1="2">
                        <a class="top-nav-downloads" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/">Downloads
                        </a>
                    </li>
                    <li id="nav-containers">
                        <a class="top-nav-containers" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/">Containers
                        </a>
                    </li>
                    <li id="nav-support" data-portal-tour-1="3">
                        <a class="top-nav-support-cases" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/">Support Cases
                        </a>
                    </li>
                </ul>
            </nav>

            <pfe-navigation id="pfe-navigation" data-analytics-region="mega menu" pfelement="" class="PFElement pfe-navigation--processed pfe-navigation--has-search pfe-navigation--custom-dropdowns--processed" type="combo" has_search="" has_account="" breakpoint="desktop" lang="en">
                <div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper">
                    <a href="https://access.redhat.com/" class="pfe-navigation__logo-link" data-analytics-text="logo" data-analytics-category="MM|logo">
                        <img class="pfe-navigation__logo-image" alt="Red Hat Customer Portal" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/red-hat-customer-portal.svg">
                    </a>
                </div>

                <nav class="pfe-navigation" aria-label="Main Navigation" data-analytics-region="main nav">
                    <ul class="pfe-navigation__menu" id="pfe-navigation__menu">                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-subscription--mobile" data-portal-tour-1="1">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Subscription" href="https://access.redhat.com/management/">Subscriptions
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-downloads--mobile" data-portal-tour-1="2">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/">Downloads
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-containers--mobile">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/">Containers
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-support--mobile" data-portal-tour-1="3">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/">Support Cases
                            </a>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Products and Services">Products &amp; Services
                            </a>
                            <div class="pfe-navigation__dropdown has-primary-detail">                                <div class="desktop-col-span-2 tablet-col-span-all">
                                    <h3>
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Products" href="https://access.redhat.com/products/">Products
                                        </a>
                                    </h3>
                                    <slot name="main-menu__dropdown--product__product-listing"></slot>
                                </div>                                <div>
                                    <h3 id="nav__products__support">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Support" href="https://access.redhat.com/support">Support
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__support">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Production Support" href="https://access.redhat.com/support/offerings/production/">Production Support
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Development Support" href="https://access.redhat.com/support/offerings/developer/">Development Support
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Product Life Cycles" href="https://access.redhat.com/product-life-cycles/">Product Life Cycles
                                                    </a></li>
                                    </ul>

                                    <h3 id="nav__products__services">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Services" href="https://www.redhat.com/en/services">Services
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__services">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Consulting" href="https://www.redhat.com/en/services/consulting">Consulting
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Technical Account Management" href="https://access.redhat.com/support/offerings/tam/">Technical Account Management
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Training and Certifications" href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__products__documentation">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Documentation" href="https://access.redhat.com/documentation">Documentation
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__documentation">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform
                                                        </a></li>
                                    </ul>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="All Documentation" data-analytics-linktype="cta" href="https://access.redhat.com/documentation">All Documentation
                                        </a>
                                    </pfe-cta>

                                    <h3 id="nav__products__catalog"><a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Ecosystem Catalog" href="https://catalog.redhat.com/">Ecosystem Catalog
                                        </a></h3>
                                        <ul aria-labelledby="nav__products__catalog">
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Red Hat Partner Ecosystem" href="https://access.redhat.com/ecosystem/">Red Hat Partner Ecosystem
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Partner Resources" href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources
                                                    </a></li>
                                        </ul>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Tools" href="https://access.redhat.com/labs/">Tools
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__tools__tools" data-analytics-level="2" data-analytics-text="Tools" data-analytics-category="Tools">Tools
                                    </h3>
                                    <ul aria-labelledby="nav__tools__tools">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Solution Engine" href="https://access.redhat.com/support/cases/#/troubleshoot">Troubleshoot a product issue
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Packages" href="https://access.redhat.com/downloads/content/package-browser">Packages
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Errata" href="https://access.redhat.com/errata/">Errata
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__tools__labs">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Customer Portal Labs" href="https://access.redhat.com/labs/">Customer Portal Labs
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__tools__labs">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Configuration" href="https://access.redhat.com/labs/#!?type=config">Configuration
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Deployment" href="https://access.redhat.com/labs/#!?type=deploy">Deployment
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Security" href="https://access.redhat.com/labs/#!?type=security">Security
                                                    </a></li>                                                    <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Troubleshooting" href="https://access.redhat.com/labs/#!?type=troubleshoot">Troubleshoot
                                                        </a></li>
                                    </ul>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="All Labs" data-analytics-linktype="cta" href="https://access.redhat.com/labs/">All labs
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h4 id="nav__tools__red-hat-insights">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Red Hat Insights" href="https://www.redhat.com/en/technologies/management/insights">Red Hat Insights
                                        </a>
                                    </h4>
                                    <p>Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Learn more" href="https://www.redhat.com/en/technologies/management/insights">Learn More
                                    </a>
                                    <br>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Go to Insights" href="https://cloud.redhat.com/insights">Go to Insights
                                    </a>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Security" href="https://access.redhat.com/security/">Security
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="security__security-center">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Red Hat Product Security Center" href="https://access.redhat.com/security">Red Hat Product Security Center
                                        </a>
                                    </h3>
                                    <p>Engage with our Red Hat Product 
Security team, access security updates, and ensure your environments are
 not exposed to any known security vulnerabilities.
                                    </p>
                                    <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Security|Red Hat Product Security Center" data-analytics-text="Product Security Center" data-analytics-linktype="cta" href="https://access.redhat.com/security/">Product Security Center
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__updates" data-analytics-level="2" data-analytics-text="Security Updates" data-analytics-category="Security">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Security Updates" href="https://access.redhat.com/security">Security Updates
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__updates">
                                        <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Advisories" href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Red Hat CVE Database" href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Labs" href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs
                                                    </a></li>
                                    </ul>
                                    <p class="margin-top-xl">Keep your systems secure with Red Hat's specialized responses to security vulnerabilities.
                                    </p>
                                    <pfe-cta pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="View Responses" data-analytics-linktype="cta" href="https://access.redhat.com/security/vulnerability">View Responses
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__resources">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Resources" href="https://access.redhat.com/security/overview">Resources
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__resources">                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Blog" href="https://redhat.com/en/blog/channel/security">Security Blog
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Measurement" href="https://www.redhat.com/security/data/metrics/">Security Measurement
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Severity Ratings" href="https://access.redhat.com/security/updates/classification/">Severity Ratings
                                                        </a></li>
                                                        <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Backporting Policies" href="https://access.redhat.com/security/updates/backporting/">Backporting Policies
                                                            </a></li>
                                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Product Signing (GPG) Keys" href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys
                                                                </a></li>
                                    </ul>
                                </div>

                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/community/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Community">Community
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__community__cp-community">
                                        <a href="https://access.redhat.com/community" data-analytics-level="2" data-analytics-text="Customer Portal Community" data-analytics-category="Community">Customer Portal Community
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__community__cp-community">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Discussions" href="https://access.redhat.com/discussions">Discussions
                                            </a></li>                                                <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Private Groups" href="https://access.redhat.com/groups/">Private Groups
                                                    </a></li>
                                    </ul>

                                    <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" has_link="">
                                        <a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Community Activity" data-analytics-linktype="cta" href="https://access.redhat.com/community/">Community Activity
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__community__events" data-analytics-level="2" data-analytics-text="Customer Events" data-analytics-category="Community">Customer Events
                                    </h3>
                                    <ul aria-labelledby="nav__community__events">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Convergence" href="https://access.redhat.com/convergence/">Red Hat Convergence
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Summit" href="http://www.redhat.com/summit/">Red Hat Summit
                                                </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__community__stories" data-analytics-level="2" data-analytics-text="Stories" data-analytics-category="Community">Stories
                                    </h3>
                                    <ul aria-labelledby="nav__community__stories">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Red Hat Subscription Value" href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-text="You Asked. We Acted." data-analytics-category="Community|Stories" href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Open Source Communities" href="http://www.redhat.com/en/open-source">Open Source Communities
                                                    </a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>                </nav>                <div id="site-search" slot="search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <cp-search-autocomplete class="push-bottom PFElement" path="/webassets/avalon/j/data.json" num-items="5" placeholder="Enter your search term" pfelement="" type="container"></cp-search-autocomplete>                            <div>Or <a href="https://access.redhat.com/support/cases/#/troubleshoot">troubleshoot an issue</a>.
                            </div>
                        </form>
                    </div>
                </div>


                <div slot="secondary-links" id="localesMenu" class="pfe-navigation__custom-dropdown__wrapper--single-column pfe-navigation__custom-dropdown__wrapper">
                    <button class="pfe-navigation__secondary-link" id="pfe-navigation__secondary-link--English" aria-controls="pfe-navigation__custom-dropdown--English" aria-expanded="false">
                        <pfe-icon icon="web-icon-globe" size="sm" aria-hidden="true" pfelement="" class="PFElement" on="light" type="content"></pfe-icon>English
                    </button>

                    
                <div id="pfe-navigation__custom-dropdown--English" class="pfe-navigation__dropdown-wrapper pfe-navigation__custom-dropdown--single-column pfe-navigation__dropdown-wrapper--invisible" aria-hidden="true" tabindex="-1"><pfe-navigation-dropdown dropdown-width="single" pfelement="" class="PFElement pfe-navigation__dropdown" type="container" data-id-suffix="English">
                        <h2 class="utility-header">Select Your Language
                        </h2>
                        <ul class="reset">
                            <li><a href="https://access.redhat.com/changeLanguage?language=en&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index" data-lang="en" id="en" data-analytics-text="English" class="selected">English</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ko&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index" data-lang="ko" id="ko" data-analytics-text="Korean">한국어</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ja&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index" data-lang="ja" id="ja" data-analytics-text="Japanese">日本語</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN&amp;redirectTo=https%3A//access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index" data-lang="zh_CN" id="zh_CN" data-analytics-text="Chinese">中文 (中国)</a></li>
                        </ul>

                    </pfe-navigation-dropdown></div></div>                <rh-account-dropdown slot="account" pfelement="" class="PFElement" type="content" login-link="https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/auth?client_id=customer-portal&amp;redirect_uri=https%3A%2F%2Faccess.redhat.com%2Fwebassets%2Favalon%2Fj%2Fincludes%2Fsession%2Fscribe%2F%3FredirectTo%3Dhttps%253A%252F%252Faccess.redhat.com%252Fdocumentation%252Fen-us%252Fred_hat_enterprise_linux%252F9%252Fhtml-single%252Fcomposing_a_customized_rhel_system_image%252Findex&amp;state=3d9b002a-1286-47bf-8b3f-20d32c3aa0bf&amp;nonce=79c2898d-39e2-4e60-bc02-1632a429b447&amp;response_mode=fragment&amp;response_type=code&amp;scope=openid" lang="en"></rh-account-dropdown>                <pfe-primary-detail breakpoint-width="600" class="main-menu__dropdown--product__product-listing PFElement" slot="main-menu__dropdown--product__product-listing" consistent-height="" aria-orientation="vertical" role="tablist" pfelement="" on="&quot;light&quot;" type="container" has_details="" breakpoint="compact">
                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-lnyqzc8nv" data-index="0" aria-controls="pfe-detail-8klaha4bk" aria-expanded="false">Infrastructure and Management                    </button>
                    <div slot="details" data-index="0" id="pfe-detail-8klaha4bk" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-lnyqzc8nv" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Satellite" href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Subscription Management" href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Insights" href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights
                                </a>
                            </li>
                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Ansible Automation Platform" href="https://access.redhat.com/products/red-hat-ansible-automation-platform/">Red Hat Ansible Automation Platform
                                </a></li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-tlx1f73vx" data-index="1" aria-controls="pfe-detail-3hdtowm4j" aria-expanded="false">Cloud Computing                    </button>
                    <div slot="details" data-index="1" id="pfe-detail-3hdtowm4j" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-tlx1f73vx" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift" href="https://access.redhat.com/products/openshift">Red Hat OpenShift
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Data Science" href="https://access.redhat.com/products/red-hat-openshift-data-science/">Red Hat OpenShift Data Science
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Dedicated" href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat Advanced Cluster Security for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/">Red Hat Advanced Cluster Security for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Advanced Cluster Management for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Quay" href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat CodeReady Workspaces" href="https://access.redhat.com/products/red-hat-codeready-workspaces/">OpenShift Dev Spaces
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Service on AWS" href="https://access.redhat.com/products/red-hat-openshift-service-aws">Red Hat OpenShift Service on AWS
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-b6iy6b676" data-index="2" aria-controls="pfe-detail-tcfezo7l6" aria-expanded="false">Storage                    </button>
                    <div slot="details" data-index="2" id="pfe-detail-tcfezo7l6" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-b6iy6b676" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Gluster Storage" href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Hyperconverged Infrastructure" href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Ceph Storage" href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Openshift Container Storage" href="https://access.redhat.com/products/red-hat-openshift-data-foundation">Red Hat OpenShift Data Foundation
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-8dym66npr" data-index="3" aria-controls="pfe-detail-nr53ock6o" aria-expanded="false">Runtimes                    </button>
                    <div slot="details" data-index="3" id="pfe-detail-nr53ock6o" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-8dym66npr" data-processed="true" aria-hidden="true" hidden="">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Runtimes" href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Data Grid" href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Web Server" href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Single Sign On" href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat support for Spring Boot" href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Node.js" href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js
                                </a>
                            </li>                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Quarkus" href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus
                                </a>
                            </li>
                        </ul>
                    </div>

                    <button role="tab" slot="details-nav" data-was-tag="H3" id="pfe-detail-toggle-mtsg4evqr" data-index="4" aria-controls="pfe-detail-ww7na4lot" aria-expanded="false">Integration and Automation                    </button>
                    <div slot="details" data-index="4" id="pfe-detail-ww7na4lot" role="tabpanel" tabindex="-1" aria-labelledby="pfe-detail-toggle-mtsg4evqr" data-processed="true" aria-hidden="true" hidden="">
                        <ul class="border-bottom" id="portal-menu-border-bottom">
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Application Foundations" href="https://access.redhat.com/products/red-hat-application-foundations/">Red Hat Application Foundations
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Fuse" href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat AMQ" href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat 3scale API Management" href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div slot="details-nav--footer">
                        <pfe-cta pfe-priority="primary" priority="primary" pfelement="" class="PFElement" on="&quot;light&quot;" has_link="">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="2" data-analytics-text="All Products" data-analytics-category="Products and Services|Products:" data-analytics-linktype="cta">All Products
                            </a>
                        </pfe-cta>
                    </div>
                </pfe-primary-detail>

            <div slot="secondary-links" class="pfe-navigation__site-switcher pfe-navigation__custom-dropdown__wrapper--full pfe-navigation__custom-dropdown__wrapper" mobile-slider=""><button class="pfe-navigation__secondary-link" id="pfe-navigation__secondary-link--All-Red-Hat" aria-controls="pfe-navigation__custom-dropdown--All-Red-Hat" aria-expanded="false"><pfe-icon icon="web-icon-grid-3x3" size="sm" aria-hidden="true" pfelement="" class="PFElement" on="light" type="content"></pfe-icon>All Red Hat</button> <div id="pfe-navigation__custom-dropdown--All-Red-Hat" class="pfe-navigation__dropdown-wrapper pfe-navigation__custom-dropdown--full pfe-navigation__dropdown-wrapper--invisible" aria-hidden="true" tabindex="-1"><pfe-navigation-dropdown dropdown-width="full" pfelement="" class="PFElement pfe-navigation__dropdown" type="container" data-id-suffix="All-Red-Hat"><div class="pfe-navigation__site-switcher__back-wrapper"><button class="pfe-navigation__site-switcher__back-button" aria-label="Close undefined and return to menu">Back to menu</button></div><site-switcher pfelement="" class="PFElement" type="content" lang="en"><article class="node-355871 node node-page clearfix">


    <div class="field field-name-body field-type-text-with-summary field-label-hidden">
        <div class="field-items">
            <div class="field-item even">
                <!--linking to stylesheets so /cms/ajax/site-switcher will load with styles -->
  <link type="text/css" rel="stylesheet" href="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/site-switcher.css" media="all">
  
  <!-- overriding css variables to get the redhat.com logo box and text to change style indicating you are on this site-->

                <style>
                    :root {
                        --rhdc--logo: var(--rhdc--logo--you-are-here);
                        --rhdc--backgroundColor: var(--background--you-are-here);
                        --rhdc--label: var(--label--you-are-here);
                        --rhdc--margin-top: 0px;
                    }
                </style>

                <section class="site-switcher-tray" data-analytics-region="site-switcher">
                    <div class="content">
                        <div class="container">
                            <section class="site-switcher-container">
                                <ul class="site-switcher-primary-list">
                                    <li class="rhdc">
                                        <a href="https://www.redhat.com/?intcmp=701f20000012k69AAA" data-analytics-category="Websites" data-analytics-text="redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat</h3>
                                            <p>Learn about our open source products, services, and company.</p>
                                        </a>
                                    </li>
                                    <li class="customer-portal">
                                        <a href="https://access.redhat.com/?intcmp=701f20000012k6EAAQ" data-analytics-category="Websites" data-analytics-text="access_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Customer portal -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Customer Portal</h3>
                                            <p>Get product support and knowledge from the open source experts.</p>
                                        </a>
                                    </li>
                                    <li class="developers">
                                        <a href="https://developers.redhat.com/?intcmp=701f20000012k6JAAQ" data-analytics-category="Websites" data-analytics-text="developers_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Red Hat Developer -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Developer</h3>
                                            <p>Read developer tutorials and download Red Hat software for cloud
                                                application development.</p>
                                        </a>
                                    </li>
                                    <li class="connect">
                                        <a href="https://connect.redhat.com/" data-analytics-category="Websites" data-analytics-text="connect_redhat">
                                            <p class="location-label">You are here</p>
                                            <div class="tntLogo">
                                                <!-- Red Hat Partner Connect -->
                                                <div class="image"></div>
                                            </div>
                                            <h3>Red Hat Partner Connect</h3>
                                            <p>Become a Red Hat partner and get support in building customer solutions.
                                            </p>
                                        </a>
                                    </li>
                                </ul>
                                <hr>

                                <ul class="site-switcher-secondary-list">
                                    <li>
                                        <h2>Products</h2>
                                        <ul>
                                            <li><a href="https://www.ansible.com/?intcmp=701f20000012k6TAAQ" data-analytics-category="Websites" data-analytics-text="ansible">
                                                    <h3>Ansible.com</h3>
                                                </a>Learn about and try our IT automation product.</li>

                                        </ul>
                                    </li>
                                    <li>
                                        <h2>Try, Buy, Sell</h2>
                                        <ul>
                                            <li><a href="https://cloud.redhat.com/" data-analytics-category="Websites" data-analytics-text="hybrid-cloud">
                                                    <h3>Red Hat Hybrid Cloud</h3>
                                                </a>Access technical how-tos, tutorials, and learning paths focused on
                                                Red Hat’s hybrid cloud managed services.</li>

                                            <li><a href="https://www.redhat.com/store?intcmp=701f20000012k6nAAA" data-analytics-category="Websites" data-analytics-text="store">
                                                    <h3>Red Hat Store</h3>
                                                </a>Buy select Red Hat products and services online.</li>

                                            <li><a href="https://marketplace.redhat.com/" data-analytics-category="Websites" data-analytics-text="marketplace">
                                                    <h3>Red Hat Marketplace</h3>
                                                </a>Try, buy, sell, and manage certified enterprise software for
                                                container-based environments.</li>

                                        </ul>
                                    </li>
                                    <li>
                                        <h2>Community &amp; Open Source</h2>
                                        <ul>
                                            <li><a href="https://enterprisersproject.com/?intcmp=701f20000012k6sAAA" data-analytics-category="Websites" data-analytics-text="enterprisersproject">
                                                    <h3>The Enterprisers Project</h3>
                                                </a>Read analysis and advice articles written by CIOs, for CIOs.</li>
                                            <li><a href="https://opensource.com/?intcmp=701f20000012k6OAAQ" data-analytics-category="Websites" data-analytics-text="opensource">
                                                    <h3>Opensource.com</h3>
                                                </a>Read articles on a range of topics about open source.</li>
                                        </ul>
                                    </li>
                                    <li>
                                        <h2>&nbsp;</h2>
                                        <ul>
                                            <li><a href="https://www.redhat.com/summit?intcmp=701f20000012k6xAAA" data-analytics-category="Websites" data-analytics-text="summit">
                                                    <h3>Red Hat Summit</h3>
                                                </a>Register for and learn about our annual open source IT industry
                                                event.</li>
                                            <li><a href="https://catalog.redhat.com/" data-analytics-category="Websites" data-analytics-text="catalog">
                                                    <h3>Red Hat Ecosystem Catalog</h3>
                                                </a>Find hardware, software, and cloud providers―and download container
                                                images―certified to perform with Red Hat technologies.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </section>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>



</article></site-switcher></pfe-navigation-dropdown></div></div></pfe-navigation>

            <div id="scroll-anchor"></div>

            <!--[if IE 8]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>
                You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
                </div>
            <![endif]-->
            <!--[if IE 9]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
                </div>
            <![endif]-->
            <div id="site-section"></div>
        <div class="breadcrumbs"><div id="breadcrumbs" class="container"><ul><li><a href="https://access.redhat.com/products/">Products &amp; Services</a></li><li><a href="https://access.redhat.com/documentation">Product Documentation</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red&nbsp;Hat Enterprise Linux</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9">9</a></li><li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image">Composing a customized RHEL system image</a></li><li>Composing a customized RHEL system image</li></ul></div></div></header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">                            <!-- /CP_PRIMER_HEADER -->

      <div class="container">
        

                                                                                                        <script>breadcrumbs = [["Products & Services","\/products\/"],["Product Documentation","\/documentation"],["Red Hat Enterprise Linux","\/documentation\/en-us\/red_hat_enterprise_linux"],["9","\/documentation\/en-us\/red_hat_enterprise_linux\/9"],["Composing a customized RHEL system image","\/documentation\/en-us\/red_hat_enterprise_linux\/9\/html\/composing_a_customized_rhel_system_image"],["Composing a customized RHEL system image","\/documentation\/en-us\/red_hat_enterprise_linux\/9\/html\/composing_a_customized_rhel_system_image\/--single-page-document--"]]</script>

<div data-drupal-messages-fallback="" class="hidden"></div>


    </div>
        <div class="j-chrome-content-container">
        

  

  


  <article class="pvof-doc__content-wrapper__outer">
    <script>
      'use strict';

            var $outerWrapper = document.querySelector('.pvof-doc__content-wrapper__outer');
      if ($outerWrapper && $outerWrapper.closest) {
        var $containerWrapper = $outerWrapper.closest('.container');
        if ($containerWrapper) {
          $containerWrapper.classList.remove('container');
          $containerWrapper.classList.add('j-chrome-content-container');
        }
      }

            var cssRemoved = false;
      try {
        var $crapCss = document.querySelectorAll(
          'link[href*="/chrome_themes/nimbus/css/pages.css"], link[href*="/chrome_themes/nimbus/css/components.css"]'
        );
        if ($crapCss.length) {
          for (let index = 0; index < $crapCss.length; index++) {
            const $stylesheet = $crapCss[index];
            $stylesheet.remove();
          }
        }
        cssRemoved = true;
      }
      catch (error) {
        console.error('Ran into an issue while trying to retheme page', error);
        cssRemoved = false;
      }

            if (cssRemoved) {
        var $pvofOuterWrapper = document.querySelector('.pvof-doc__content-wrapper__outer--css-not-removed');
        if ($pvofOuterWrapper) {
          $pvofOuterWrapper.classList.remove('pvof-doc__content-wrapper__outer--css-not-removed');
        }
      }
    </script>
    <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
    <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
    <div class="pvof-doc__content-wrapper pvof-doc__content-wrapper--has-sidebar">
                                <div class="pvof-doc__content-wrapper__inner j-superdoc j-superdoc--has-nav j-reading-mode-initialized">
                            <div class="pvof-sidebar__wrapper j-doc-nav j-superdoc__nav">
            <div class="j-sidebar__menu-container j-sidebar__menu-container--processed">
              <button class="j-sidebar__menu-trigger content-expander__trigger content-expander__trigger--processed" aria-expanded="true" aria-controls="content-expander-djmz64o">
                <span class="j-sidebar__menu-trigger__open-text">Jump To</span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>

              <div class="pvof-sidebar__inner-wrapper j-doc-nav__wrapper content-expander content-expander--processed" id="content-expander-djmz64o" open="">
                <div class="j-sidebar__menu-details-container">
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--expand">
                    Expand all
                  </button>
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--collapse">
                    Collapse all
                  </button>
                </div>
                

  <nav id="pvof-doc__toc" class="pvof-doc__toc">
  <h2 class="j-doc-nav__title" id="j-doc-nav__title">
    Table of contents
  </h2>
  <div class="pvof-doc__toc-inner">
              <ol class="j-doc-nav__list" aria-labelledby="j-doc-nav__title">
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#doc-wrapper" class="j-doc-nav__link is-active">
    Composing a customized RHEL system image
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#making-open-source-more-inclusive" class="j-doc-nav__link ">
    Making open source more inclusive
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#proc_providing-feedback-on-red-hat-documentation_composing-a-customized-rhel-system-image" class="j-doc-nav__link ">
    Providing feedback on Red Hat documentation
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#composer-description_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    1. Image builder description
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-ch17evq">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1. Image builder description"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1. Image builder description"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-ch17evq" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#introduction-to-composer_composer-description" class="j-doc-nav__link ">
    1.1. What is image builder?
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#composer-terminology_composer-description" class="j-doc-nav__link ">
    1.2. Image builder terminology
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#composer-output-formats_composer-description" class="j-doc-nav__link ">
    1.3. Image builder output formats
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#composer-system-requirements_composer-description" class="j-doc-nav__link ">
    1.4. Image builder system requirements
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#installing-composer_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    2. Installing image builder
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-un9vgc1">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2. Installing image builder"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2. Installing image builder"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-un9vgc1" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#installing-composer-in-a-virtual-machine_installing-composer" class="j-doc-nav__link ">
    2.1. Installing image builder in a virtual machine
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#managing-repositories_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    3. Managing image builder repositories
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-7kjo9mh">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3. Managing image builder repositories"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3. Managing image builder repositories"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-7kjo9mh" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_adding-custom-third-party-repositories_managing-repositories" class="j-doc-nav__link ">
    3.1. Adding custom third-party repositories
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_adding-third-party-repositories-with-specific-distributions_managing-repositories" class="j-doc-nav__link ">
    3.2. Adding third-party repositories with specific distributions
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_checking-repositories-metadata-with-gpg_managing-repositories" class="j-doc-nav__link ">
    3.3. Checking repositories metadata with GPG
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#image-builder-default-system-repositories_managing-repositories" class="j-doc-nav__link ">
    3.4. Image builder default system repositories
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#overriding-a-system-repository_managing-repositories" class="j-doc-nav__link ">
    3.5. Overriding a system repository
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#overriding-a-system-repository-with-support-for-subscriptions_managing-repositories" class="j-doc-nav__link ">
    3.6. Overriding a system repository with support for subscriptions
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    4. Creating system images using the image builder command-line interface
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-2mcdlbf">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "4. Creating system images using the image builder command-line interface"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "4. Creating system images using the image builder command-line interface"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-2mcdlbf" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#composer-command-line-interface_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.1. Introducing the image builder command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-composer-blueprint-with-command-line-interface_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.2. Creating an image builder blueprint using the command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#editing-a-composer-blueprint-with-command-line-interface_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.3. Editing an image builder blueprint with command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-system-image-with-composer-in-the-command-line-interface_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.4. Creating a system image with image builder in the command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#basic-composer-command-line-commands_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.5. Basic image builder command-line commands
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#composer-blueprint-format_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.6. Image builder blueprint format
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#image-customizations_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.7. Supported image customizations
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#packages-installed-by-default_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.8. Packages installed by image builder
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#services-enabled-by-default_creating-system-images-with-composer-command-line-interface" class="j-doc-nav__link ">
    4.9. Enabled services on custom images
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    5. Creating system images using the image builder web console interface
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-84cdm0t">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5. Creating system images using the image builder web console interface"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5. Creating system images using the image builder web console interface"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-84cdm0t" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface" class="j-doc-nav__link ">
    5.1. Accessing the image builder dashboard in the RHEL web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface" class="j-doc-nav__link ">
    5.2. Creating an image builder blueprint in the web console interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_-importing-a-blueprint-in-the-image-builder-web-console-interface_creating-system-images-with-composer-web-console-interface" class="j-doc-nav__link ">
    5.3. Importing a blueprint in the image builder web console interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_exporting-a-blueprint-from-the-image-builder-web-console-interface_creating-system-images-with-composer-web-console-interface" class="j-doc-nav__link ">
    5.4. Exporting a blueprint from the image builder web console interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-system-image-with-composer-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface" class="j-doc-nav__link ">
    5.5. Creating a system image using image builder in the web console interface
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#creating-a-boot-iso-installer-image-with-image-builder_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    6. Creating a boot ISO installer image with image builder
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-ledam9m">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6. Creating a boot ISO installer image with image builder"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6. Creating a boot ISO installer image with image builder"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-ledam9m" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-boot-iso-installer-image-with-image-builder-in-the-command-line-interface_creating-a-boot-iso-installer-image-with-image-builder" class="j-doc-nav__link ">
    6.1. Creating a boot ISO installer image using the image builder in the command-line interface
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-boot-iso-installer-image-with-image-builder-in-the-gui_creating-a-boot-iso-installer-image-with-image-builder" class="j-doc-nav__link ">
    6.2. Creating a boot ISO installer image using image builder in the GUI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#installing-the-iso-to-a-bare-metal-system_creating-a-boot-iso-installer-image-with-image-builder" class="j-doc-nav__link ">
    6.3. Installing an image builder ISO image to a bare metal system
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#assembly_creating-pre-hardened-images-with-image-builder-openscap-integration_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    7. Creating pre-hardened images with image builder OpenSCAP integration
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-tu7j5sy">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7. Creating pre-hardened images with image builder OpenSCAP integration"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7. Creating pre-hardened images with image builder OpenSCAP integration"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-tu7j5sy" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_differences-between-kickstart-and-pre-hardened-images_assembly_creating-pre-hardened-images-with-image-builder-openscap-integration" class="j-doc-nav__link ">
    7.1. Differences between Kickstart and pre-hardened images
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_the-openscap-blueprint-customization_assembly_creating-pre-hardened-images-with-image-builder-openscap-integration" class="j-doc-nav__link ">
    7.2. The OpenSCAP blueprint customization
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_creating-a-pre-hardened-image-with-image-builder_assembly_creating-pre-hardened-images-with-image-builder-openscap-integration" class="j-doc-nav__link ">
    7.3. Creating a pre-hardened image with image builder
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#preparing-and-deploying-kvm-guest-images-with-image-builder_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    8. Preparing and deploying KVM guest images using image builder
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-gu7o26q">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8. Preparing and deploying KVM guest images using image builder"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8. Preparing and deploying KVM guest images using image builder"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-gu7o26q" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-customized-kvm-guest-images-with-image-builder_preparing-and-deploying-kvm-guest-images-with-image-builder" class="j-doc-nav__link ">
    8.1. Creating customized KVM guest images using image builder
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating-a-virtual-machine-from-a-kvm-guest-image_preparing-and-deploying-kvm-guest-images-with-image-builder" class="j-doc-nav__link ">
    8.2. Creating a virtual machine from a KVM guest image
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    9. Pushing a container to a registry and embedding it into an image
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-u7wvgne">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "9. Pushing a container to a registry and embedding it into an image"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "9. Pushing a container to a registry and embedding it into an image"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-u7wvgne" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_the-container-image-builder-customization_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image" class="j-doc-nav__link ">
    9.1. Blueprint customization to embed a container into an image
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#con_the-container-registry-credentials_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image" class="j-doc-nav__link ">
    9.2. The Container registry credentials
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_pushing-a-container-artifact-directly-to-a-container-registry_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image" class="j-doc-nav__link ">
    9.3. Pushing a container artifact directly to a container registry
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_building-an-image-and-pulling-the-container-into-the-image_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image" class="j-doc-nav__link ">
    9.4. Building an image and pulling the container into the image
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="#creating-cloud-images-with-composer_composing-a-customized-rhel-system-image" class="j-doc-nav__link j-doc-nav__link--has-children">
    10. Preparing and uploading cloud images using image builder
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-3asjr1v">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "10. Preparing and uploading cloud images using image builder"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "10. Preparing and uploading cloud images using image builder"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-3asjr1v" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#preparing-for-uploading-aws-ami-images_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.1. Preparing to upload AWS AMI images
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#uploading-an-ami-image-to-aws_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.2. Uploading an AMI image to AWS using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#pushing-ami-images-to-aws-cloud_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.3. Pushing images to AWS Cloud AMI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#preparing-for-uploading-azue-vhd-images_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.4. Preparing to upload Microsoft Azure VHD images
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#uploading-vhd-images-to-azure_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.5. Uploading VHD images to Microsoft Azure cloud
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#pushing-vhd-imaged-to-azure-cloud_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.6. Pushing VHD images to Microsoft Azure cloud
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#uploading-vmdk-images-to-vsphere_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.7. Uploading VMDK images and creating a RHEL virtual machine in vSphere
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#assembly_uploading-images-to-gcp-with-image-builder_creating-cloud-images-with-composer" class="j-doc-nav__link j-doc-nav__link--has-children">
    10.8. Uploading images to GCP with image builder
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-0v628ab">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "10.8. Uploading images to GCP with image builder"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "10.8. Uploading images to GCP with image builder"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-0v628ab" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_uploading-a-gce-image-to-gcp_assembly_uploading-images-to-gcp-with-image-builder" class="j-doc-nav__link ">
    10.8.1. Uploading a gce image to GCP using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="#con_authentication-with-gcp_assembly_uploading-images-to-gcp-with-image-builder" class="j-doc-nav__link j-doc-nav__link--has-children">
    10.8.2. Authenticating with GCP
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-9i0v4t2">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "10.8.2. Authenticating with GCP"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "10.8.2. Authenticating with GCP"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander content-expander--processed" id="content-expander-9i0v4t2" aria-hidden="true">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_specifying-credentials-with-the-composer-cli-command_assembly_uploading-images-to-gcp-with-image-builder" class="j-doc-nav__link ">
    10.8.2.1. Specifying credentials with the composer-cli command
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_specifying-credentials-in-the-osbuild-composer-worker-configuration_assembly_uploading-images-to-gcp-with-image-builder" class="j-doc-nav__link ">
    10.8.2.2. Specifying credentials in the osbuild-composer worker configuration
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#pushing-vmware-images-to-vsphere_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.9. Pushing VMDK images to vSphere using the GUI image builder tool
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#proc_pushing-customized-images-to-oracle-cloud-infrastructure_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.10. Pushing customized images to OCI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#uploading-and-qcow2-image-on-openstack_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.11. Uploading QCOW2 images to OpenStack
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#preparing-uploading-images-to-alibaba_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.12. Preparing to upload customized RHEL images to Alibaba
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#uploading-images-to-alibaba_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.13. Uploading customized RHEL images to Alibaba
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#importing-images-to-alibaba_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.14. Importing images to Alibaba
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="#creating_an_instance_on_alibaba_creating-cloud-images-with-composer" class="j-doc-nav__link ">
    10.15. Creating an instance of a customized RHEL image using Alibaba
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="#idm140523809596208" class="j-doc-nav__link ">
    Legal Notice
  </a>
  
          </li>
              </ol>
    
  </div>
</nav>


              </div>
            </div>
            <div class="j-options-container j-options-container--mobile">
              <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--options content-expander__trigger content-expander__trigger--processed" aria-expanded="false" aria-controls="content-expander-ui1tjmd">
                <span class="j-sidebar__menu-trigger__open-headline">
                  Settings
                </span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>
              

  <ul class="j-doc-options__list content-expander content-expander--processed" id="content-expander-ui1tjmd" aria-hidden="true">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language">
        Language:
      </label>
      <select id="j-doc-language" class="j-doc-option__select" data-ddg-inputtype="unknown">
                  <option value="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            한국어
          </option>
                  <option value="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            日本語
          </option>
                  <option value="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            简体中文
          </option>
                  <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image" selected="selected">
            English
          </option>
                  <option value="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            Français
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">한국어</a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">日本語</a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">简体中文</a>
            </li>
                      <li>
              <a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">English</a>
            </li>
                      <li>
              <a href="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">Français</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode" class="j-doc-option__select" data-ddg-inputtype="unknown">
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image" class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image" selected="selected" class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_a_customized_rhel_system_image/Red_Hat_Enterprise_Linux-9-Composing_a_customized_RHEL_system_image-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_a_customized_rhel_system_image/Red_Hat_Enterprise_Linux-9-Composing_a_customized_RHEL_system_image-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


              </div>
          </div>
                <div class="pvof-doc__tertiary-sidebar j-doc__tertiary-sidebar j-doc__tertiary-sidebar--sticky">
          <div class="pvof-doc__tertiary-sidebar__inner j-doc__tertiary-sidebar__inner"><div id="j-reading-mode-toggle" class="j-switch__wrapper j-reading-mode__toggle"><input type="checkbox" name="reading-mode" value="false" id="reading-mode-checkbox" class="j-reading-mode j-switch__input visually-hidden"><label for="reading-mode-checkbox" class="j-switch__label">Focus mode<span class="j-reading-mode__shortcut-hint" hidden=""><kbd>F</kbd></span><div class="j-switch"></div></label></div>
            <div class="j-doc__doc-options">
              <div class="j-options-container j-options-container--desktop j-options-container--desktop--processed">
                <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--tablet content-expander__trigger content-expander__trigger--processed" aria-expanded="true" aria-controls="content-expander-ikp3rs6">
                  <span class="j-sidebar__menu-trigger-icon"></span>
                  <h2 class="visually-hidden">Language and Page Formatting Options</h2>
                </button>
                  

  <ul class="j-doc-options__list content-expander content-expander--processed" id="content-expander-ikp3rs6" open="">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language--2">
        Language:
      </label>
      <select id="j-doc-language--2" class="j-doc-option__select" data-ddg-inputtype="unknown">
                  <option value="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            한국어
          </option>
                  <option value="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            日本語
          </option>
                  <option value="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            简体中文
          </option>
                  <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image" selected="selected">
            English
          </option>
                  <option value="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">
            Français
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/ko-kr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">한국어</a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">日本語</a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">简体中文</a>
            </li>
                      <li>
              <a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">English</a>
            </li>
                      <li>
              <a href="/documentation/fr-fr/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">Français</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode--2" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode--2" class="j-doc-option__select" data-ddg-inputtype="unknown">
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image" class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image" selected="selected" class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_a_customized_rhel_system_image/Red_Hat_Enterprise_Linux-9-Composing_a_customized_RHEL_system_image-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_enterprise_linux/9/pdf/composing_a_customized_rhel_system_image/Red_Hat_Enterprise_Linux-9-Composing_a_customized_RHEL_system_image-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


                </div>
              </div>
          </div>
        </div>

                  <div class="doc-wrapper pvof-doc__wrapper j-superdoc__content-wrapper" id="doc-wrapper">
            

  <div class="pane-page-title">
    <h1 class="title" itemprop="name">Composing a customized RHEL system image</h1>
  </div>


  <div xml:lang="en-US" class="book" id="idm140523807871600"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red&nbsp;Hat Enterprise&nbsp;Linux</span> <span class="productnumber">9</span></div><div><h2 class="subtitle">Creating customized system images with image builder on Red&nbsp;Hat Enterprise&nbsp;Linux&nbsp;9</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red&nbsp;Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140523809596208">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Image builder is a tool for creating deployment-ready customized 
system images: installation disks, virtual machines, cloud 
vendor-specific images, and others. Using image builder, you can create 
these images faster if compared to manual procedures, because it 
eliminates the specific configurations required for each output type. 
This document describes how to set up image builder and create images 
with it.
			</div></div></div></div><hr></div><section class="preface" id="making-open-source-more-inclusive"><div class="titlepage"><div><div><h1 class="title">Making open source more inclusive</h1></div></div></div><p class="_abstract _abstract">
			Red Hat is committed to replacing problematic language in our code, 
documentation, and web properties. We are beginning with these four 
terms: master, slave, blacklist, and whitelist. Because of the enormity 
of this endeavor, these changes will be implemented gradually over 
several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright’s message</a>.
		</p></section><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting comments on specific passages</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					View the documentation in the <span class="strong strong"><strong>Multi-page HTML</strong></span> format and ensure that you see the <span class="strong strong"><strong>Feedback</strong></span> button in the upper right corner after the page fully loads.
				</li><li class="listitem">
					Use your cursor to highlight the part of the text that you want to comment on.
				</li><li class="listitem">
					Click the <span class="strong strong"><strong>Add Feedback</strong></span> button that appears near the highlighted text.
				</li><li class="listitem">
					Add your feedback and click <span class="strong strong"><strong>Submit</strong></span>.
				</li></ol></div><div class="orderedlist"><p class="title"><strong>Submitting feedback through Bugzilla (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%209&amp;component=Documentation">Bugzilla</a> website.
				</li><li class="listitem">
					Select the correct version from the <span class="strong strong"><strong>Version</strong></span> menu.
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Submit Bug</strong></span>.
				</li></ol></div></section><section class="chapter" id="composer-description_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Image builder description</h1></div></div></div><p class="_abstract _abstract">
			To deploy a system on a cloud platform, create a system image. To create RHEL system images, use the image builder tool.
		</p><section class="section" id="introduction-to-composer_composer-description"><div class="titlepage"><div><div><h2 class="title">1.1. What is image builder?</h2></div></div></div><p class="_abstract _abstract">
				You can use image builder to create customized system images of 
RHEL, including system images prepared for deployment on cloud 
platforms. Image builder automatically handles the setup details for 
each output type and is therefore easier to use and faster to work with 
than manual methods of image creation. You can access the image builder 
functionality through a command-line interface in the <code class="literal command">composer-cli</code> tool, or a graphical user interface in the RHEL web console.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					From RHEL 8.3 onward, the <code class="literal">osbuild-composer</code> back end replaces <code class="literal">lorax-composer</code>. The new service provides REST APIs for image building.
				</p></div></div></section><section class="section" id="composer-terminology_composer-description"><div class="titlepage"><div><div><h2 class="title">1.2. Image builder terminology</h2></div></div></div><div class="variablelist _abstract"><dl class="variablelist _abstract"><dt><span class="term">Blueprint</span></dt><dd><p class="simpara">
							A blueprint is a description of a customized system image. It 
lists the packages and customizations that will be part of the system. 
You can edit blueprints with customizations and save them as a 
particular version. When you create a system image from a blueprint, the
 image is associated with the blueprint in the image builder interface 
of the RHEL web console.
						</p><p class="simpara">
							You can create blueprints in the TOML format.
						</p></dd><dt><span class="term">Compose</span></dt><dd>
							Composes are individual builds of a system image, based on a 
specific version of a particular blueprint. Compose as a term refers to 
the system image, the logs from its creation, inputs, metadata, and the 
process itself.
						</dd><dt><span class="term">Customizations</span></dt><dd>
							Customizations are specifications for the image that are not packages. This includes users, groups, and SSH keys.
						</dd></dl></div></section><section class="section" id="composer-output-formats_composer-description"><div class="titlepage"><div><div><h2 class="title">1.3. Image builder output formats</h2></div></div></div><p class="_abstract _abstract">
				Image builder can create images in multiple output formats shown in 
the following table. To check the supported types, run the command:
			</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--avom9ks"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose types</pre></div></div><div class="table" id="idm140523800232544"><p class="title">Table 1.1. Image builder output formats</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="ibh7puy" id="rh-table--ibh7puy" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 25%; " class="col_3"><!--Empty--></colgroup><thead><tr><th id="idm140523803634960" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Description</th><th id="idm140523803633872" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">CLI name</th><th id="idm140523803632784" scope="col" data-row="1" data-col="3" class="content--sm" valign="top" align="left">file extension</th></tr></thead><tbody><tr><td headers="idm140523803634960" data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								QEMU QCOW2 Image
							</p>
							 </td><td headers="idm140523803633872" data-row="2" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">qcow2</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="2" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.qcow2</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								TAR Archive
							</p>
							 </td><td headers="idm140523803633872" data-row="3" data-col="2" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">tar</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="3" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.tar</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								Amazon Machine Image Disk
							</p>
							 </td><td headers="idm140523803633872" data-row="4" data-col="2" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">ami</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="4" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.raw</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								Azure Disk Image
							</p>
							 </td><td headers="idm140523803633872" data-row="5" data-col="2" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">vhd</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="5" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.vhd</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								Google Cloud Platform
							</p>
							 </td><td headers="idm140523803633872" data-row="6" data-col="2" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">gce</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="6" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.vhd</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								VMware Virtual Machine Disk
							</p>
							 </td><td headers="idm140523803633872" data-row="7" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">vmdk</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="7" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.vmdk</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="8" data-col="1" class="content--md" valign="top" align="left"> <p>
								Openstack
							</p>
							 </td><td headers="idm140523803633872" data-row="8" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">openstack</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="8" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.qcow2</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="9" data-col="1" class="content--md" valign="top" align="left"> <p>
								RHEL for Edge Commit
							</p>
							 </td><td headers="idm140523803633872" data-row="9" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-commit</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="9" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.tar</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="10" data-col="1" class="content--md" valign="top" align="left"> <p>
								RHEL for Edge Container
							</p>
							 </td><td headers="idm140523803633872" data-row="10" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-container</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="10" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.tar</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="11" data-col="1" class="content--md" valign="top" align="left"> <p>
								RHEL for Edge Installer
							</p>
							 </td><td headers="idm140523803633872" data-row="11" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-installer</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="11" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.iso</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="12" data-col="1" class="content--md" valign="top" align="left"> <p>
								RHEL for Edge Raw
							</p>
							 </td><td headers="idm140523803633872" data-row="12" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-raw-image</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="12" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.tar</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="13" data-col="1" class="content--md" valign="top" align="left"> <p>
								RHEL for Edge Simplified Installer
							</p>
							 </td><td headers="idm140523803633872" data-row="13" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-simplified-installer</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="13" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.iso</code>
							</p>
							 </td></tr><tr><td headers="idm140523803634960" data-row="14" data-col="1" class="content--md" valign="top" align="left"> <p>
								ISO image
							</p>
							 </td><td headers="idm140523803633872" data-row="14" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">image-installer</code>
							</p>
							 </td><td headers="idm140523803632784" data-row="14" data-col="3" class="content--md" valign="top" align="left"> <p>
								<code class="literal filename">.iso</code>
							</p>
							 </td></tr></tbody></table></rh-table></div></section><section class="section" id="composer-system-requirements_composer-description"><div class="titlepage"><div><div><h2 class="title">1.4. Image builder system requirements</h2></div></div></div><p class="_abstract _abstract">
				The environment where image builder runs, for example a dedicated 
virtual machine, must meet requirements listed in the following table.
			</p><div class="table" id="idm140523808918048"><p class="title">Table 1.2. Image builder system requirements</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="9xyowpk" id="rh-table--9xyowpk" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 67%; " class="col_2"><!--Empty--></colgroup><thead><tr><th id="idm140523808756288" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Parameter</th><th id="idm140523808755200" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Minimal Required Value</th></tr></thead><tbody><tr><td headers="idm140523808756288" data-row="2" data-col="1" class="content--md" valign="top" align="left"> <p>
								System type
							</p>
							 </td><td headers="idm140523808755200" data-row="2" data-col="2" class="content--lg" valign="top" align="left"> <p>
								A dedicated virtual machine. Note that image builder is not 
supported on containers, including Red Hat Universal Base Images (UBI).
							</p>
							 </td></tr><tr><td headers="idm140523808756288" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								Processor
							</p>
							 </td><td headers="idm140523808755200" data-row="3" data-col="2" class="content--md" valign="top" align="left"> <p>
								2 cores
							</p>
							 </td></tr><tr><td headers="idm140523808756288" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								Memory
							</p>
							 </td><td headers="idm140523808755200" data-row="4" data-col="2" class="content--md" valign="top" align="left"> <p>
								4 GiB
							</p>
							 </td></tr><tr><td headers="idm140523808756288" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								Disk space
							</p>
							 </td><td headers="idm140523808755200" data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								20 GiB of free space in the <code class="literal">/var</code> filesystem
							</p>
							 </td></tr><tr><td headers="idm140523808756288" data-row="6" data-col="1" class="content--md" valign="top" align="left"> <p>
								Access privileges
							</p>
							 </td><td headers="idm140523808755200" data-row="6" data-col="2" class="content--md" valign="top" align="left"> <p>
								Administrator level (root)
							</p>
							 </td></tr><tr><td headers="idm140523808756288" data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								Network
							</p>
							 </td><td headers="idm140523808755200" data-row="7" data-col="2" class="content--md" valign="top" align="left"> <p>
								Internet connectivity
							</p>
							 </td></tr></tbody></table></rh-table></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you do not have internet connectivity, you can use image builder
 in isolated networks if you reconfigure it to not connect to Red Hat 
Content Delivery Network (CDN). For that, you must override the default 
repositories to point to your local repositories. Ensure that you have 
your content mirrored internally or use Red Hat Satellite. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index#managing-repositories_composing-a-customized-rhel-system-image">Managing repositories</a> for more details.
				</p></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_satellite/6.6/html/provisioning_guide/provisioning_using_a_red_hat_image_builder_image">Provisioning to Satellite using a Red Hat image builder image</a>
					</li></ul></div></section></section><section class="chapter" id="installing-composer_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Installing image builder</h1></div></div></div><p class="_abstract _abstract">
			Before using image builder, you must install image builder in a virtual machine.
		</p><section class="section" id="installing-composer-in-a-virtual-machine_installing-composer"><div class="titlepage"><div><div><h2 class="title">2.1. Installing image builder in a virtual machine</h2></div></div></div><p class="_abstract _abstract">
				To install image builder on a dedicated virtual machine (VM), follow these steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must be connected to a RHEL VM.
					</li><li class="listitem">
						The VM for image builder must be running and subscribed to Red Hat Subscription Manager (RHSM) or Red Hat Satellite.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the image builder and other necessary packages on the VM:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">osbuild-composer</code> - supported from RHEL 8.3 onward
							</li><li class="listitem">
								<code class="literal">composer-cli</code>
							</li><li class="listitem">
								<code class="literal">cockpit-composer</code>
							</li><li class="listitem">
								<code class="literal">bash-completion</code>
							</li></ul></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ndc438b"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install osbuild-composer composer-cli cockpit-composer bash-completion</pre></div></div><p class="simpara">
						The web console is installed as a dependency of the <span class="emphasis"><em>cockpit-composer</em></span> package.
					</p></li><li class="listitem"><p class="simpara">
						Enable image builder to start after each reboot:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--81u7n0a"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># systemctl enable --now osbuild-composer.socket
# systemctl enable --now cockpit.socket</pre></div></div><p class="simpara">
						The <code class="literal">osbuild-composer</code> and <code class="literal">cockpit</code> services start automatically on first access.
					</p></li><li class="listitem"><p class="simpara">
						Load the shell configuration script so that the autocomplete feature for the <code class="literal command">composer-cli</code> command starts working immediately without reboot:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8sdk8dl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ source /etc/bash_completion.d/composer-cli</pre></div></div></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The <code class="literal">osbuild-composer</code> package is the 
new backend engine that will be the preferred default and focus of all 
new functionality beginning with Red Hat Enterprise Linux 8.3 and later.
 The previous backend <code class="literal">lorax-composer</code> 
package is considered deprecated, will only receive select fixes for the
 remainder of the Red Hat Enterprise Linux 8 life cycle and will be 
omitted from future major releases. It is recommended to uninstall <code class="literal">lorax-composer</code> in favor of osbuild-composer.
				</p></div></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					You can use a system journal to track image builder service 
activities. Additionally, you can find the log messages in the file.
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To find the journal output for traceback, run the following commands:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--zx2amy3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ journalctl | grep osbuild</pre></div></div></li><li class="listitem"><p class="simpara">
						To show both remote or local workers:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--f223mog"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ journalctl -u osbuild-worker*</pre></div></div></li><li class="listitem"><p class="simpara">
						To show the running services:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1phkvd7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ journalctl -u osbuild-composer.service</pre></div></div></li></ul></div></section></section><section class="chapter" id="managing-repositories_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Managing image builder repositories</h1></div></div></div><p>
			You can use the following types of repositories in image builder:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Custom third-party repositories</span></dt><dd>
						Use these to include packages that are not available in the official RHEL repositories.
					</dd><dt><span class="term">Official repository overrides</span></dt><dd>
						Use these if you want to download base system RPMs from elsewhere 
than the official repositories, for example, a custom mirror in your 
network. Because using official repository overrides disables the 
default repositories, your custom mirror must contain all the necessary 
packages.
					</dd></dl></div><section class="section" id="proc_adding-custom-third-party-repositories_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.1. Adding custom third-party repositories</h2></div></div></div><p>
				You can add custom third-party sources to your repositories and manage these repositories by using the <code class="literal">composer-cli</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have the URL of the custom third-party repository.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a repository source file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vfa7mat"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository_name</em></span>"
type = "<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository-url</em></span>"
check_gpg = false
check_ssl = false</pre></div></div><p class="simpara">
						For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--epe8z3v"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">id = "k8s"
name = "Kubernetes"
type = "yum-baseurl"
url = "https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64"
check_gpg = false
check_ssl = false
system = false</pre></div></div></li><li class="listitem">
						Save the file in the TOML format.
					</li><li class="listitem"><p class="simpara">
						Add the new third-party source with the following command:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--aezlntu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>composer-cli sources add <span class="emphasis"><em><span class="replaceable replaceable">&lt;file-name&gt;</span></em></span>.toml</strong></span></pre></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check if the new source was successfully added:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--av2w286"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>composer-cli sources list</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Check the new source content:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qu7i6u0"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ <span class="strong strong"><strong>composer-cli sources info <span class="emphasis"><em><span class="replaceable replaceable">&lt;source_id&gt;</span></em></span></strong></span></pre></div></div></li></ul></div></section><section class="section" id="proc_adding-third-party-repositories-with-specific-distributions_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.2. Adding third-party repositories with specific distributions</h2></div></div></div><p>
				You can specify a list of distributions in the custom third-party source file by using the optional field <code class="literal">distro</code>. The repository file uses the distribution string list while resolving dependencies during the image building.
			</p><p>
				Any request that specifies <code class="literal">rhel-9</code> will use this source. For example, if you list packages and specify <code class="literal">rhel-9</code>, it will include this source. However, listing packages for the host distribution will not include this source.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a repository source file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ph3j859"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
distros = ["<span class="emphasis"><em>list_of_distributions</em></span>"]
id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository-name</em></span>"
system = false
type = ""<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository-url</em></span>"</pre></div></div><p class="simpara">
						For example, to specify the distribution:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--f312jzr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
distros = ["rhel-9"]
id = "rh9-local"
name = "packages for RHEL"
system = false
type = "yum-baseurl"
url = "http://local/repos/rhel9/projectrepo/"</pre></div></div></li><li class="listitem">
						Save the file in the TOML format.
					</li></ol></div></section><section class="section" id="proc_checking-repositories-metadata-with-gpg_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.3. Checking repositories metadata with GPG</h2></div></div></div><p>
				To detect and avoid corrupted packages, you can use the DNF package 
manager to check the GNU Privacy Guard (GPG) signature on RPM packages, 
and also to check if the repository metadata has been signed with a GPG 
key.
			</p><p>
				For security reasons, you can distribute the key in a separate channel from the RPMs, by making your GPG key available over <code class="literal">https</code>. You can indicate which GPG key to use to do the check, by setting <code class="literal">check_repogpg = true</code> in the source. If the key is available over <code class="literal">https</code>, set the <code class="literal">gpgkeys</code> entry to the URL for the key. Optionally, you can also embed the whole key into the source <code class="literal">gpgkeys</code> entry to import it directly instead of fetching it from the URL.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Access the folder where you want to create a repository:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--nzsgw32"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cd repo/</pre></div></div></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">createrepo_c</code> to create a repository from RPM packages:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--clxp5pv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ createrepo_c .</pre></div></div></li><li class="listitem"><p class="simpara">
						Access the directory where the repodata is:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ysp1uq4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cd repodata/</pre></div></div></li><li class="listitem"><p class="simpara">
						Set up a repository by signing your <code class="literal">repomd.xml</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3mgcqdi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ gpg -u YOUR-GPG-KEY-EMAIL --yes --detach-sign --armor repomd.xml</pre></div></div></li><li class="listitem"><p class="simpara">
						Check the GPG signature.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set <code class="literal">check_repogpg = true</code> in the repository source.
							</li><li class="listitem"><p class="simpara">
								If your key is available over <code class="literal">https</code>, set the <code class="literal">gpgkeys</code> field with the key URL for the key. You can add as many URL keys as you need The following is an example:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qlmum8y"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository_name</em></span>"
system = false
type = "<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository_URL</em></span>"
check_repogpg = true
gpgkeys=["_GPG_key_URL"]</pre></div></div></li><li class="listitem"><p class="simpara">
								Optional: You can embed the whole key into the <code class="literal">gpgkeys</code> field. You can add as many keys as you need. For example, add the GPG key directly in the <code class="literal">gpgkeys</code> field:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--vu68ah3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">check_gpg = true
check_ssl = true
check_repogpg
id = "<span class="emphasis"><em>repository_id</em></span>"
name = "<span class="emphasis"><em>repository_name</em></span>"
system = false
type = "<span class="emphasis"><em>repository_type</em></span>"
url = "<span class="emphasis"><em>repository_URL</em></span>"
gpgkeys=["<span class="emphasis"><em>GPG_key</em></span>"]</pre></div></div></li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Test the signature of the repository manually:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8tzlogm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ gpg --verify repomd.xml.asc</pre></div></div></li><li class="listitem"><p class="simpara">
						If the test does not find the signature, you will be prompt with an error similar to the following one:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--r50rgw2"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">$ GPG verification is enabled, but GPG signature is not available.
This may be an error or the repository does not support GPG verification:
Status code: 404 for <a class="link" href="http://repo-server/rhel/repodata/repomd.xml.asc">http://repo-server/rhel/repodata/repomd.xml.asc</a> (IP: 192.168.1.3)</pre></div></div></li><li class="listitem"><p class="simpara">
						If the signature is invalid, you will be prompt with an error similar to the following one:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--doh5a6w"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">repomd.xml GPG signature verification error: Bad GPG signature</pre></div></div></li></ul></div></section><section class="section" id="image-builder-default-system-repositories_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.4. Image builder default system repositories</h2></div></div></div><p class="_abstract _abstract">
				The <code class="literal">osbuild-composer</code> back end does not inherit the system repositories located in the <code class="literal">/etc/yum.repos.d/</code> directory. Instead, it has its own set of official repositories defined in the <code class="literal">/usr/share/osbuild-composer/repositories</code>
 directory. This includes the Red Hat official repository, which 
contains the base system RPMs to install additional software or update 
already installed programs to newer versions. If you want to override 
the official repositories, you must define overrides in <code class="literal">/etc/osbuild-composer/repositories</code>. This directory is for user defined overrides and the files located there take precedence over those in the <code class="literal">/usr</code> directory.
			</p><p>
				The configuration files are not in the usual DNF repository format known from the files in <code class="literal">/etc/yum.repos.d/</code>. Instead, they are simple JSON files.
			</p></section><section class="section" id="overriding-a-system-repository_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.5. Overriding a system repository</h2></div></div></div><p class="_abstract _abstract">
				You can configure a repository override for image builder in the <code class="literal">/etc/osbuild-composer/repositories</code> directory with the following steps.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a custom repository that is accessible from the host system
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a directory where you want to store your repository overrides:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--at4q99c"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo mkdir -p /etc/osbuild-composer/repositories</pre></div></div></li><li class="listitem">
						You can create your own JSON file structure.
					</li><li class="listitem"><p class="simpara">
						Create a JSON file, using a name corresponding to your RHEL 
version. Alternatively, you can copy the file for your distribution from
 <code class="literal">/usr/share/osbuild-composer/</code> and modify its content.
					</p><p class="simpara">
						For RHEL 9, use <code class="literal">/etc/osbuild-composer/repositories/rhel-92.json</code>.
					</p></li><li class="listitem"><p class="simpara">
						Add the following structure to your JSON file, for example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9wlj355"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">{
    "&lt;ARCH&gt;": [
        {
            "name": "baseos",
            "baseurl": "http://mirror.example.com/composes/released/RHEL-9/9.0/BaseOS/x86_64/os/",
            "gpgkey": "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n (…​)",
            "check_gpg": true,
            "metadata_expire": ""
        }
    ]
}</pre></div></div><p class="simpara">
						Specify only one of the following attributes:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">baseurl</code> - string: a base URL of the repository.
							</li><li class="listitem">
								<code class="literal">metalink</code> - string: a URL of a metalink file that contains a list of valid mirror repositories.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">mirrorlist</code> - string: a URL of a mirrorlist file that contains a list of valid mirror repositories
							</p><p class="simpara">
								The remaining fields are optional.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Alternatively, you can copy the JSON file for your distribution.
									</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
												Copy the repository file to the directory you created. In the following command, replace <code class="literal">rhel-version.json</code> with your RHEL version, for example: rhel-9.json.
											</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9yt0sb5"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$  cp /usr/share/osbuild-composer/repositories/rhel-<span class="emphasis"><em>version</em></span>.json /etc/osbuild-composer/repositories/</pre></div></div></li></ol></div></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Using a text editor, edit the <code class="literal">baseurl</code> paths in the <code class="literal">rhel-9.json</code> file and save it. For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gcs0jq0"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ vi /etc/osbuild-composer/repositories/rhel-<span class="emphasis"><em>version</em></span>.json</pre></div></div></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal">osbuild-composer.service</code>:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wq2q0uw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo systemctl restart osbuild-composer.service</pre></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check if the repository points to the correct URLs:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--loa0ixb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ cat /etc/yum.repos.d/redhat.repo</pre></div></div><p class="simpara">
						You can see that the repository points to the correct URLs which are copied from the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6957312">The latest RPMs version available in repository not visible for <code class="literal">osbuild-composer</code>.</a>
					</li></ul></div></section><section class="section" id="overriding-a-system-repository-with-support-for-subscriptions_managing-repositories"><div class="titlepage"><div><div><h2 class="title">3.6. Overriding a system repository with support for subscriptions</h2></div></div></div><p class="_abstract _abstract">
				The <code class="literal">osbuild-composer</code> service can use system subscriptions that are defined in the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file. To use a system subscription in <code class="literal">osbuild-composer</code>, define a repository override that has:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The same <code class="literal">baseurl</code> as the repository defined in <code class="literal">/etc/yum.repos.d/redhat.repo</code>.
					</li><li class="listitem">
						The value of <code class="literal">”rhsm”: true</code> defined in the JSON object.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Your system has a subscription defined in <code class="literal">/etc/yum.repos.d/redhat.repo</code>
					</li><li class="listitem">
						You have created a repository override. See <a class="link" href="#overriding-a-system-repository_managing-repositories" title="3.5.&nbsp;Overriding a system repository">Overriding a system repository</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Obtain the <code class="literal">baseurl</code> from the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--lszeey3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed"># cat /etc/yum.repos.d/redhat.repo
[AppStream]
name = AppStream mirror example
baseurl = https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/
enabled = 1
gpgcheck = 0
sslverify = 1
sslcacert = /etc/pki/ca1/ca.crt
sslclientkey = /etc/pki/ca1/client.key
sslclientcert = /etc/pki/ca1/client.crt
metadata_expire = 86400
enabled_metadata = 0</pre></div></div></li><li class="listitem"><p class="simpara">
						Configure the repository override to use the same <code class="literal">baseurl</code> and set <code class="literal">rhsm</code> to true:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bmjsghi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">{
    "x86_64": [
        {
            "name": "AppStream mirror example",
            "baseurl": "https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/",
            "gpgkey": "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n (…​)",
            "check_gpg": true,
            "rhsm": true
        }
    ]
}</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							<code class="literal">osbuild-composer</code> does not automatically use repositories defined in <code class="literal">/etc/yum.repos.d/</code>. You need to manually specify them either as a system repository override or as an additional <code class="literal">source</code> using <code class="literal">composer-cli</code>. System repository overrides are usually used for “BaseOS” and “AppStream” repositories, whereas <code class="literal">composer-cli</code> sources are used for all the other repositories.
						</p></div></div></li></ol></div><p>
				As a result, image builder reads the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file from the host system and uses it as a source of subscriptions.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/5773421">Image builder uses CDN repositories when host is registered to Satellite 6</a>
					</li></ul></div></section></section><section class="chapter" id="creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Creating system images using the image builder command-line interface</h1></div></div></div><p class="_abstract _abstract">
			Image builder is a tool for creating custom system images. To control
 image builder and create your custom system images, you can use the 
command-line interface (CLI) or the web console interface. Currently, 
however, the CLI is the preferred method to use image builder.
		</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
				The image builder tool does not support building RHEL 9 images on a 
RHEL 8 system. You can only build an image from the earlier version of 
the image you use in the host distribution.
			</p></div></div><section class="section" id="composer-command-line-interface_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.1. Introducing the image builder command-line interface</h2></div></div></div><p class="_abstract _abstract">
				The image builder command-line interface (CLI) is currently the 
preferred method to use image builder. It offers more functionality than
 the <a class="link" href="#creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image" title="Chapter&nbsp;5.&nbsp;Creating system images using the image builder web console interface">web console interface</a>. To use the CLI, run the <code class="literal command">composer-cli</code> command with the suitable options and subcommands.
			</p><p>
				The workflow for the command-line interface can be summarized as follows:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Export (<span class="emphasis"><em>save</em></span>) the blueprint definition to a plain text file
					</li><li class="listitem">
						Edit this file in a text editor
					</li><li class="listitem">
						Import (<span class="emphasis"><em>push</em></span>) the blueprint text file back into image builder
					</li><li class="listitem">
						Run a compose to build an image from the blueprint
					</li><li class="listitem">
						Export the image file to download it
					</li></ol></div><p>
				Apart from the basic subcommands to achieve this procedure, the <code class="literal command">composer-cli</code> command offers many subcommands to examine the state of configured blueprints and composes.
			</p><p>
				To run the <code class="literal command">composer-cli</code> commands as non-root, the user must be in the <code class="literal">weldr</code> or <code class="literal">root</code> groups.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To add a user to the <code class="literal">weldr</code> or <code class="literal">root</code> groups, run the following commands:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--cvj81xp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo usermod -a -G weldr <span class="emphasis"><em>user</em></span>
$ newgrp weldr</pre></div></div></li></ul></div></section><section class="section" id="creating-a-composer-blueprint-with-command-line-interface_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.2. Creating an image builder blueprint using the command-line interface</h2></div></div></div><p class="_abstract _abstract">
				You can create a new image builder blueprint using the command-line 
interface (CLI). The blueprint describes the final image and its 
customizations, such as packages, and kernel customizations.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisite</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Access to the image builder tool.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a plain text file with the following contents:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pv0d0sp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "<span class="emphasis"><em>BLUEPRINT-NAME</em></span>"
description = "<span class="emphasis"><em>LONG FORM DESCRIPTION TEXT</em></span>"
version = "<span class="emphasis"><em>0.0.1</em></span>"
modules = []
groups = []</pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>BLUEPRINT-NAME</em></span> and <span class="emphasis"><em>LONG FORM DESCRIPTION TEXT</em></span> with a name and description for your blueprint.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>0.0.1</em></span> with a version number according to the <a class="link" href="https://semver.org/">Semantic Versioning</a> scheme.
					</p></li><li class="listitem"><p class="simpara">
						For every package that you want to be included in the blueprint, add the following lines to the file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1lt0ntq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[packages]]
name = "<span class="emphasis"><em>package-name</em></span>"
version = "<span class="emphasis"><em>package-version</em></span>"</pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>package-name</em></span> with the name of the package, such as <span class="strong strong"><strong><span class="package package">httpd</span></strong></span>, <span class="strong strong"><strong><span class="package package">gdb-doc</span></strong></span>, or <span class="strong strong"><strong><span class="package package">coreutils</span></strong></span>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>package-version</em></span> with the version to use. This field supports <code class="literal command">dnf</code> version specifications:
					</p><div class="informalexample"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For a specific version, use the exact version number such as <span class="strong strong"><strong>8.7.0</strong></span>.
							</li><li class="listitem">
								For the latest available version, use the asterisk <span class="strong strong"><strong>*</strong></span>.
							</li><li class="listitem">
								For the latest minor version, use formats such as <span class="strong strong"><strong>8.</strong></span>*.
							</li></ul></div></div></li><li class="listitem"><p class="simpara">
						Customize your blueprints to suit your needs. For example, disable
 Simultaneous Multi Threading (SMT), add the following lines to the 
blueprint file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--81t2syr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.kernel]
append = "nosmt=force"</pre></div></div><p class="simpara">
						For additional customizations available, see <a class="link" href="#image-customizations_creating-system-images-with-composer-command-line-interface" title="4.7.&nbsp;Supported image customizations">Supported Image Customizations</a>.
					</p></li><li class="listitem">
						Save the file, for example, as <span class="emphasis"><em>BLUEPRINT-NAME</em></span>.toml and close the text editor.
					</li><li class="listitem"><p class="simpara">
						Push (import) the blueprint:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--q0vnkcm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>BLUEPRINT-NAME</em></span>.toml</pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>BLUEPRINT-NAME</em></span> with the value you used in previous steps.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							To create images using <code class="literal command">composer-cli</code> as non-root, add your user to the <code class="literal">weldr</code> or <code class="literal">root</code> groups.
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--64uxuce"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># usermod -a -G weldr user
$ newgrp weldr</pre></div></div></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List the existing blueprints to verify that the blueprint has been pushed and exists:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bayi8y7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints list</pre></div></div></li><li class="listitem"><p class="simpara">
						Display the blueprint configuration you have just added:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--xiq5n5o"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dloq0uu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div><p class="simpara">
						If image builder is unable to depsolve a package from your custom repositories, follow the steps:
					</p></li><li class="listitem"><p class="simpara">
						Remove the osbuild-composer cache:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--29dxaqk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo rm -rf /var/cache/osbuild-composer/*
$ sudo systemctl restart osbuild-composer</pre></div></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6537251"><code class="literal">osbuild-composer</code> is unable to depsolve a package from my custom repository</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/5720761">Composing a customized RHEL system image with proxy server</a>.
					</li></ul></div></section><section class="section" id="editing-a-composer-blueprint-with-command-line-interface_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.3. Editing an image builder blueprint with command-line interface</h2></div></div></div><p class="_abstract _abstract">
				You can edit an existing image builder blueprint in the command-line
 (CLI) interface to, for example, add a new package, or define a new 
group, and to create your customized images. For that, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a blueprint.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Save (export) the blueprint to a local text file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--fvedxc3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints save <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></li><li class="listitem">
						Edit the <span class="emphasis"><em>BLUEPRINT-NAME</em></span>.toml file with a text editor and make your changes.
					</li><li class="listitem"><p class="simpara">
						Before finishing the edits, verify that the file is a valid blueprint:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Remove this line, if present:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--evqxkgm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">packages = []</pre></div></div></li><li class="listitem">
								Increase the version number, for example, fro 0.0.1 to 0.1.0. 
Remember that image builder blueprint versions must use the <a class="link" href="https://semver.org/">Semantic Versioning</a> scheme. Note also that if you do not change the version, the <span class="strong strong"><strong>patch</strong></span> version component increases automatically.
							</li><li class="listitem"><p class="simpara">
								Check if the contents are valid TOML specifications. See the <a class="link" href="https://github.com/toml-lang/toml#toml/">TOML documentation</a> for more information.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									TOML documentation is a community product and is not supported by Red Hat. You can report any issues with the tool at <a class="link" href="https://github.com/toml-lang/toml/issues">https://github.com/toml-lang/toml/issues</a>
								</p></div></div></li></ol></div></li><li class="listitem">
						Save the file and close the text editor.
					</li><li class="listitem"><p class="simpara">
						Push (import) the blueprint back into image builder:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0ywtsst"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>BLUEPRINT-NAME</em></span>.toml</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							To import the blueprint back into image builder, supply the file name including the <code class="literal filename">.toml</code> extension, while in other commands use only the blueprint name.
						</p></div></div></li><li class="listitem"><p class="simpara">
						To verify that the contents uploaded to image builder match your edits, list the contents of blueprint:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--rcxcblr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2qgyi4r"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#image-customizations_creating-system-images-with-composer-command-line-interface" title="4.7.&nbsp;Supported image customizations">Supported Image Customizations</a>.
					</li></ul></div></section><section class="section" id="creating-a-system-image-with-composer-in-the-command-line-interface_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.4. Creating a system image with image builder in the command-line interface</h2></div></div></div><p class="_abstract _abstract">
				You can build a custom image using the image builder command-line interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a blueprint prepared for the image. See <a class="link" href="#creating-a-composer-blueprint-with-command-line-interface_creating-system-images-with-composer-command-line-interface" title="4.2.&nbsp;Creating an image builder blueprint using the command-line interface">Creating an image builder blueprint using the command-line interface</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the compose:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--q8fvx3z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start <span class="emphasis"><em>BLUEPRINT-NAME</em></span> <span class="emphasis"><em>IMAGE-TYPE</em></span></pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>BLUEPRINT-NAME</em></span> with name of the blueprint, and <span class="emphasis"><em>IMAGE-TYPE</em></span> with the type of the image. For the available values, see the output of the <code class="literal command">composer-cli compose types</code> command.
					</p><p class="simpara">
						The compose process starts in the background and shows the composer Universally Unique Identifier (UUID).
					</p></li><li class="listitem"><p class="simpara">
						Wait until the compose process is finished. The image creation can take up to ten minutes to complete.
					</p><p class="simpara">
						To check the status of the compose:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gp0p91l"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
						A finished compose shows the <span class="strong strong"><strong>FINISHED</strong></span> status value. To identify your compose in the list, use its UUID.
					</p></li><li class="listitem"><p class="simpara">
						After the compose process is finished, download the resulting image file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4cz9obh"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image <span class="emphasis"><em>UUID</em></span></pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>UUID</em></span> with the UUID value shown in the previous steps.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After you create your image, you can check the image creation progress using the following commands:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check the compose status:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--59riz9z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo composer-cli compose status</pre></div></div></li><li class="listitem"><p class="simpara">
						Download the metadata of the image:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--38y33ja"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo composer-cli compose metadata <span class="emphasis"><em>UUID</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Download the logs of the image:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2c1d893"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo composer-cli compose logs <span class="emphasis"><em>UUID</em></span></pre></div></div><p class="simpara">
						The command creates a <code class="literal">.tar</code> file that contains the logs for the image creation. If the logs are empty, you can check the journal.
					</p></li><li class="listitem"><p class="simpara">
						Check the journal:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--whqh3pc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ journalctl | grep osbuild</pre></div></div></li><li class="listitem"><p class="simpara">
						Check the manifest:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--plfkvuf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo cat /var/lib/osbuild-composer/jobs/<span class="emphasis"><em>job_UUID</em></span>.json</pre></div></div><p class="simpara">
						You can find the <span class="emphasis"><em>job_UUID</em></span>.json in the journal.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6537251">Tracing image builder</a>
					</li></ul></div></section><section class="section" id="basic-composer-command-line-commands_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.5. Basic image builder command-line commands</h2></div></div></div><p class="_abstract _abstract">
				The image builder command-line interface offers the following subcommands.
			</p><div class="variablelist"><p class="title"><strong>Blueprint manipulation</strong></p><dl class="variablelist"><dt><span class="term">List all available blueprints</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0iq4fs3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints list</pre></div></div></dd><dt><span class="term">Show a blueprint contents in the TOML format</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qjvzq9v"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints show <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></dd><dt><span class="term">Save (export) blueprint contents in the TOML format into a file <code class="literal">BLUEPRINT-NAME.toml</code></span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--93hjy20"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints save <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></dd><dt><span class="term">Remove a blueprint</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5hzuerw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints delete <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></dd><dt><span class="term">Push (import) a blueprint file in the TOML format into image builder</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--38f9196"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em>BLUEPRINT-NAME</em></span></pre></div></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Composing images from blueprints</strong></p><dl class="variablelist"><dt><span class="term">List the available image types</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ubyvht9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose types</pre></div></div></dd><dt><span class="term">Start a compose</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--perxmd9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start <span class="emphasis"><em>BLUEPRINT</em></span> <span class="emphasis"><em>COMPOSE-TYPE</em></span></pre></div></div><p class="simpara">
							Replace <span class="emphasis"><em>BLUEPRINT</em></span> with the name of the blueprint to build, and <span class="emphasis"><em>COMPOSE-TYPE</em></span> with the output image type.
						</p></dd><dt><span class="term">List all composes</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--k1gt5ju"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose list</pre></div></div></dd><dt><span class="term">List all composes and their status</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4wqmi70"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div></dd><dt><span class="term">Cancel a running compose</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--45ddk2p"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose cancel <span class="emphasis"><em>COMPOSE-UUID</em></span></pre></div></div></dd><dt><span class="term">Delete a finished compose</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--00lu89e"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose delete <span class="emphasis"><em>COMPOSE-UUID</em></span></pre></div></div></dd><dt><span class="term">Show detailed information about a compose</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--t20w7yq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose info <span class="emphasis"><em>COMPOSE-UUID</em></span></pre></div></div></dd><dt><span class="term">Download image file of a compose</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3mkznzg"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image <span class="emphasis"><em>COMPOSE-UUID</em></span></pre></div></div></dd><dt><span class="term">See more subcommands and options</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--up8nwx4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli help</pre></div></div></dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<span class="emphasis"><em>composer-cli</em></span>(1) man page
					</li></ul></div></section><section class="section" id="composer-blueprint-format_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.6. Image builder blueprint format</h2></div></div></div><p class="_abstract _abstract">
				Image builder blueprints are presented to the user as plain text in the TOML format.
			</p><p>
				The elements of a typical blueprint file include the following:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">The blueprint metadata</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8nq1564"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "<span class="emphasis"><em>BLUEPRINT-NAME</em></span>"
description = "<span class="emphasis"><em>LONG FORM DESCRIPTION TEXT</em></span>"
version = "<span class="emphasis"><em>VERSION</em></span>"</pre></div></div><p class="simpara">
							The <span class="emphasis"><em>BLUEPRINT-NAME</em></span> and <span class="emphasis"><em>LONG FORM DESCRIPTION TEXT</em></span> field are a name and description for your blueprint.
						</p><p class="simpara">
							The <span class="emphasis"><em>VERSION</em></span> is a version number according to the <a class="link" href="https://semver.org/">Semantic Versioning</a> scheme.
						</p><p class="simpara">
							This part is present only once for the entire blueprint file.
						</p><p class="simpara">
							The <span class="emphasis"><em>modules</em></span> entry lists the package names and versions of packages to be installed into the image.
						</p><p class="simpara">
							The <span class="emphasis"><em>group</em></span> entry describes a group of packages to be installed into the image. Groups use the following package categories:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Mandatory
								</li><li class="listitem">
									Default
								</li><li class="listitem"><p class="simpara">
									Optional
								</p><p class="simpara">
									Blueprints install the mandatory and default packages. There is no mechanism for selecting optional packages.
								</p></li></ul></div></dd><dt><span class="term">Groups to include in the image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ba0pz8y"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[groups]]
name = "<span class="emphasis"><em>group-name</em></span>"</pre></div></div><p class="simpara">
							The <span class="emphasis"><em>group-name</em></span> is the name of the group, for example, <span class="strong strong"><strong><span class="group group">anaconda-tools</span></strong></span>, <span class="strong strong"><strong><span class="group group">widget</span></strong></span>, <span class="strong strong"><strong><span class="group group">wheel</span></strong></span> or <span class="strong strong"><strong><span class="group group">users</span></strong></span>.
						</p></dd><dt><span class="term">Packages to include in the image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--q5ypk8p"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[packages]]
name = "<span class="emphasis"><em>package-name</em></span>"
version = "<span class="emphasis"><em>package-version</em></span>"</pre></div></div><p class="simpara">
							<span class="emphasis"><em>package-name</em></span> is the name of the package, such as <span class="strong strong"><strong><span class="package package">httpd</span></strong></span>, <span class="strong strong"><strong><span class="package package">gdb-doc</span></strong></span>, or <span class="strong strong"><strong><span class="package package">coreutils</span></strong></span>.
						</p><p class="simpara">
							<span class="emphasis"><em>package-version</em></span> is a version to use. This field supports <code class="literal command">dnf</code> version specifications:
						</p><div class="informalexample"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									For a specific version, use the exact version number such as <span class="strong strong"><strong>8.7.0</strong></span>.
								</li><li class="listitem">
									For latest available version, use the asterisk <span class="strong strong"><strong>*</strong></span>.
								</li><li class="listitem">
									For a latest minor version, use a format such as <span class="strong strong"><strong>8.</strong></span>*.
								</li></ul></div></div><p class="simpara">
							Repeat this block for every package to include.
						</p></dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Currently there are no differences between packages and modules in 
the image builder tool. Both are treated as RPM package dependencies.
				</p></div></div></section><section class="section" id="image-customizations_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.7. Supported image customizations</h2></div></div></div><p class="_abstract _abstract">
				You can customize your image by adding to your blueprint an 
additional RPM package, by enabling a service, or by customizing a 
kernel command line parameter. You can use several image customizations 
within blueprints. To make use of these options, you must configure the 
customizations in the blueprint and import (push) it to image builder.
			</p><div class="informalexample"><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These customizations are not supported when using image builder in the web console.
				</p></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Select a distribution</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--yeffukg"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "<span class="emphasis"><em>blueprint_name</em></span>"
description = "<span class="emphasis"><em>blueprint_version</em></span>"
version = "0.1"
distro = "<span class="emphasis"><em>different_minor_version</em></span>"</pre></div></div><p class="simpara">
							Replace "<span class="emphasis"><em>different_minor_version</em></span>" to build a different minor version, for example, if you want to build a RHEL 9.0, use <code class="literal">distro</code>
 = "rhel-90". On a RHEL 9.1, you can build minor versions such as RHEL 
9.1, RHEL 8.7 and earlier releases. If you do not specify a 
distribution, the blueprint uses the host distribution. In case you 
upgrade the host operating system, the blueprints with no distribution 
set will build images using the new OS version.
						</p></dd><dt><span class="term">Select a package group</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--o1nfo9w"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[packages]]
name = "<span class="emphasis"><em>package_group_name</em></span>"</pre></div></div><p class="simpara">
							Replace "<span class="emphasis"><em>package_group_name</em></span>" with the name of the group. For example, "@server with gui".
						</p></dd><dt><span class="term">Set the image hostname</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--es2e7pa"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations]
hostname = "<span class="emphasis"><em>baseimage</em></span>"</pre></div></div></dd><dt><span class="term">User specifications for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--4e30ulo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.user]]
name = "<span class="emphasis"><em>USER-NAME</em></span>"
description = "<span class="emphasis"><em>USER-DESCRIPTION</em></span>"
password = "<span class="emphasis"><em>PASSWORD-HASH</em></span>"
key = "<span class="emphasis"><em>PUBLIC-SSH-KEY</em></span>"
home = "/home/<span class="emphasis"><em>USER-NAME</em></span>/"
shell = "<span class="emphasis"><em>/usr/bin/bash</em></span>"
groups = [<span class="emphasis"><em>"users", "wheel"</em></span>]
uid = <span class="emphasis"><em>NUMBER</em></span>
gid = <span class="emphasis"><em>NUMBER</em></span></pre></div></div><p class="simpara">
							The GID is optional and must already exist in the image. 
Optionally, a package creates it, or the blueprint creates the GID by 
using the <code class="literal">[[customizations.group]]</code> entry.
						</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								To generate the <code class="literal">password hash</code>, you must install <span class="strong strong"><strong>python3</strong></span> on your system.
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--m4whh23"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install python3</pre></div></div></div></div><p class="simpara">
							Replace <span class="emphasis"><em>PASSWORD-HASH</em></span> with the actual <code class="literal">password hash</code>. To generate the <code class="literal">password hash</code>, use a command such as:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--r31csg3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ python3 -c 'import crypt,getpass;pw=getpass.getpass();print(crypt.crypt(pw) if (pw==getpass.getpass("Confirm: ")) else exit())'</pre></div></div><p class="simpara">
							Replace <span class="emphasis"><em>PUBLIC-SSH-KEY</em></span> with the actual public key.
						</p><p class="simpara">
							Replace the other placeholders with suitable values.
						</p><p class="simpara">
							You must enter the <code class="literal">name</code>. You can omit any of the lines that you do not need.
						</p><p class="simpara">
							Repeat this block for every user to include.
						</p></dd><dt><span class="term">Group specifications for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7q5v775"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.group]]
name = "<span class="emphasis"><em>GROUP-NAME</em></span>"
gid = <span class="emphasis"><em>NUMBER</em></span></pre></div></div><p class="simpara">
							Repeat this block for every group to include.
						</p></dd><dt><span class="term">Set an existing users SSH key</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--cspe0bh"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.sshkey]]
user = "<span class="emphasis"><em>root</em></span>"
key = "<span class="emphasis"><em>PUBLIC-SSH-KEY</em></span>"</pre></div></div><div class="informalexample"><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The "Set an existing user SSH key" customization is only 
applicable for existing users. To create a user and set an SSH key, see 
the <span class="strong strong"><strong>User specifications for the resulting system image</strong></span> customization.
							</p></div></div></div></dd><dt><span class="term">Append a kernel boot parameter option to the defaults</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--tl2cfp8"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.kernel]
append = "<span class="emphasis"><em>KERNEL-OPTION</em></span>"</pre></div></div></dd><dt><span class="term">By
 default, image builder builds a default kernel into the image. But, you
 can customize the kernel with the following configuration in blueprint</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gqy9upv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.kernel]
name = "<span class="emphasis"><em>KERNEL-rt</em></span>"</pre></div></div></dd><dt><span class="term">Define a kernel name to use in an image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--opje92y"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.kernel.name]
name = "<span class="emphasis"><em>KERNEL-NAME</em></span>"</pre></div></div></dd><dt><span class="term">Set the timezone and the <span class="emphasis"><em>Network Time Protocol</em></span> <span class="strong strong"><strong>(NTP)</strong></span> servers for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--rup6o1i"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.timezone]
timezone = "<span class="emphasis"><em>TIMEZONE</em></span>"
ntpservers = "<span class="emphasis"><em>NTP_SERVER</em></span>"</pre></div></div><p class="simpara">
							If you do not set a timezone, the system uses <span class="emphasis"><em>Universal Time, Coordinated</em></span> <span class="strong strong"><strong>(UTC)</strong></span> as default. Setting NTP servers is optional.
						</p></dd><dt><span class="term">Set the locale settings for the resulting system image</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--inp9f3m"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.locale]
languages = <span class="emphasis"><em>["LANGUAGE"]</em></span>
keyboard = "<span class="emphasis"><em>KEYBOARD</em></span>"</pre></div></div><p class="simpara">
							Setting both the language and the keyboard options is mandatory. 
You can add many other languages. The first language you add will be the
 primary language and the other languages will be secondary. For 
example:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--jrfyr9z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.locale]
languages = ["en_US.UTF-8"]
keyboard = "us"</pre></div></div><p class="simpara">
							To list the values supported by the languages, run the following command:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2x1fffm"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ localectl list-locales</pre></div></div><p class="simpara">
							To list the values supported by the keyboard, run the following command:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ssx4y85"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ localectl list-keymaps</pre></div></div></dd><dt><span class="term">Firewall customization</span></dt><dd><p class="simpara">
							Set the firewall for the resulting system image. By default, the 
firewall blocks all access, except for services that enable their ports 
explicitly, such as <code class="literal">sshd</code>. The following blueprint can be used to open other ports or services.
						</p><p class="simpara">
							If you do not want to use the <code class="literal">[customizations.firewall]</code> or the <code class="literal">[customizations.firewall.services]</code>,
 either remove the attributes, or set them to an empty list []. If you 
only want to use the default firewall setup, you can omit the 
customization from the blueprint.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The Google and OpenStack templates explicitly disable the 
firewall for their environment. This cannot be overridden by the 
blueprint.
							</p></div></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--2fno8pb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall]
ports = <span class="emphasis"><em>["PORTS"]</em></span></pre></div></div><p class="simpara">
							Where <code class="literal">ports</code> is an optional list of 
strings that contain ports or a range of ports and protocols to open. 
You can configure ports by using the following format: <code class="literal">port:protocol</code> format
						</p><p class="simpara">
							You can configure the port ranges by using the <code class="literal">portA-portB:protocol</code> format. For example:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gxo160z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall]
ports = ["22:tcp", "80:tcp", "imap:tcp", "53:tcp", "53:udp", "30000-32767:tcp", "30000-32767:udp"]</pre></div></div></dd></dl></div><p>
				You can use numeric ports, or their names from the <code class="literal">/etc/services</code> to enable or disable port lists.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Customize the firewall services</span></dt><dd><p class="simpara">
							<code class="literal">services</code> is an optional object with the following attributes containing services to enable or disable for <code class="literal">firewalld</code>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">enabled</code> - An optional list of strings for services to enable.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">disabled</code> - An optional list of strings for services to disable.
								</p><p class="simpara">
									Check the available firewall services.
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--s0eastp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ firewall-cmd --get-services</pre></div></div><p class="simpara">
									In the blueprint, under section <code class="literal">customizations.firewall.service</code>, specify the firewall services that you want to customize.
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--omqfjrj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall.services]
enabled = <span class="emphasis"><em>["SERVICES"]</em></span>
disabled = <span class="emphasis"><em>["SERVICES"]</em></span></pre></div></div><p class="simpara">
									For example:
								</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--e2p8gqc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.firewall.services]
enabled = ["ftp", "ntp", "dhcp"]
disabled = ["telnet"]</pre></div></div><p class="simpara">
									The services listed in <code class="literal">firewall.services</code> are different from the service-names available in the <code class="literal">/etc/services</code> file.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you do not want to customize the firewall services, omit the <code class="literal">[customizations.firewall]</code> and <code class="literal">[customizations.firewall.services]</code> sections from the blueprint.
									</p></div></div></li></ul></div></dd><dt><span class="term">Set which services to enable during the boot time</span></dt><dd><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6vsvj97"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations.services]
enabled = <span class="emphasis"><em>["SERVICES"]</em></span>
disabled = <span class="emphasis"><em>["SERVICES"]</em></span></pre></div></div><p class="simpara">
							You can control which services to enable during the boot time. 
Some image types already have services enabled or disabled to ensure 
that the image works correctly and this setup cannot be overridden. The <code class="literal">[customizations.services]</code>
 customization in the blueprint do not replace these services, but add 
them to the list of services already present in the image templates.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Each time a build starts, it clones the repository of the host 
system. If you refer to a repository with a large amount of history, it 
might take some time to clone and it uses a significant amount of disk 
space. Also, the clone is temporary and the build removes it after it 
creates the RPM package.
							</p></div></div></dd><dt><span class="term">Specify a custom filesystem configuration</span></dt><dd><p class="simpara">
							You can specify a custom filesystem configuration in your 
blueprints and therefore create images with a specific disk layout, 
instead of the default layout configuration. By using the non-default 
layout configuration in your blueprints, you can benefit from:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									security benchmark compliance
								</li><li class="listitem">
									protection against out-of-disk errors
								</li><li class="listitem">
									improved performance
								</li><li class="listitem"><p class="simpara">
									consistency with existing setups
								</p><p class="simpara">
									To customize the filesystem configuration in your blueprint:
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										The filesystem customization is not supported for OSTree 
systems, because OSTree images have their own mount rule, such as 
read-only.
									</p></div></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6e471oj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.filesystem]]
mountpoint = <span class="emphasis"><em>"MOUNTPOINT"</em></span>
size = <span class="emphasis"><em>MINIMUM-PARTITION-SIZE</em></span></pre></div></div><p class="simpara">
									The blueprint supports the following <code class="literal">mountpoints</code> and their sub-directories:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">/</code> - the root mount point
										</li><li class="listitem">
											<code class="literal">/var</code>
										</li><li class="listitem">
											<code class="literal">/home</code>
										</li><li class="listitem">
											<code class="literal">/opt</code>
										</li><li class="listitem">
											<code class="literal">/srv</code>
										</li><li class="listitem">
											<code class="literal">/usr</code>
										</li><li class="listitem">
											<code class="literal">/app</code>
										</li><li class="listitem">
											<code class="literal">/data</code>
										</li><li class="listitem"><p class="simpara">
											<code class="literal">/boot</code> - Supported from RHEL 8.7 and RHEL 9.1 onward.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												Customizing mount points is only supported from RHEL 8.5 and
 RHEL 9.0 distributions onward, by using the CLI. In earlier 
distributions, you can only specify the <code class="literal">root</code> partition as a mount point and specify the <code class="literal">size</code> argument as an alias for the image size.
											</p></div></div><p class="simpara">
											If you have more than one partition in the customized image, 
you can create images with a customized file system partition on LVM and
 resize those partitions at runtime. To do this, you can specify a 
customized filesystem configuration in your blueprint and therefore 
create images with the desired disk layout. The default filesystem 
layout remains unchanged - if you use plain images without file system 
customization, and <code class="literal">cloud-init</code> resizes the root partition.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												From 8.6 onward, for the <code class="literal">osbuild-composer-46.1-1.el8</code> RPM and later version, the physical partitions are no longer available and filesystem customizations create logical volumes.
											</p></div></div><p class="simpara">
											The blueprint automatically converts the file system customization to a LVM partition.
										</p><p class="simpara">
											The <code class="literal">MINIMUM-PARTITION-SIZE</code> value
 has no default size format. The blueprint customization supports the 
following values and units: kB to TB and KiB to TiB. For example, you 
can define the mount point size in bytes:
										</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--bbe0hd3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.filesystem]]
mountpoint = "/var"
size = 1073741824</pre></div></div><p class="simpara">
											You can also define the mount point size by using units.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												You can only define the mount point size by using units for 
the package version provided for RHEL 8.6 and RHEL 9.0 distributions 
onward.
											</p></div></div><p class="simpara">
											For example:
										</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--u4nogp1"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.filesystem]]
mountpoint = "/opt"
size = "20 GiB"

or

[[customizations.filesystem]]
mountpoint = "/boot"
size = "1 GiB"</pre></div></div></li></ul></div></li></ul></div></dd><dt><span class="term">Create customized directories and files for your image under the <code class="literal">/etc</code> directory</span></dt><dd><p class="simpara">
							To create customized files and directories in your image, use the <code class="literal">[[customizations.files]]</code> and the <code class="literal">[[customizations.directories]]</code> blueprint customizations. Currently, you can use these customizations only in the <code class="literal">/etc</code> directory.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								These blueprint customizations are supported by all image types,
 except the image types that deploy OSTree commits, such as <code class="literal">edge-raw-image</code>, <code class="literal">edge-installer</code>, and <code class="literal">edge-simplified-installer</code>.
							</p></div></div></dd></dl></div><p>
				<span class="strong strong"><strong>Create a custom directory blueprint customization</strong></span>
			</p><p>
				With the <code class="literal">[[customizations.directories]]</code> blueprint customization, you can create customized directories in the <code class="literal">/etc</code> directory of your image.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					If you use the <code class="literal">customizations.directories</code> with a directory path which already exists in the image with <code class="literal">mode</code>, <code class="literal">user</code> or <code class="literal">group</code> already set, the image build fails to prevent changing the ownership or permissions of the existing directory.
				</p></div></div><p>
				With the <code class="literal">[[customizations.directories]]</code> blueprint customization you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create new directories.
					</li><li class="listitem">
						Set user and group ownership for the directory you are creating.
					</li><li class="listitem">
						Set the directory mode permission in the octal format.
					</li><li class="listitem">
						Ensure that parent directories are created as needed.
					</li></ul></div><p>
				To customize a directory configuration in your blueprint, create a file with the following content, for example:
			</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--f3rumsl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.directories]]
path = "/etc/<span class="emphasis"><em>directory_name</em></span>"
mode = "<span class="emphasis"><em>octal_access_permission</em></span>"
user = "<span class="emphasis"><em>user_string_or_integer</em></span>"
group = "<span class="emphasis"><em>group_string_or_integer</em></span>"
ensure_parents = <span class="emphasis"><em>boolean</em></span></pre></div></div><p>
				The blueprint entries are described as following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">path</code> - Mandatory - enter the path to the directory that you want to create. It must be an absolute path under the <code class="literal">/etc</code> directory.
					</li><li class="listitem">
						<code class="literal">mode</code> - Optional - set the access 
permission on the directory, in the octal format. If you do not specify a
 permission, it defaults to 0755. The leading zero is optional.
					</li><li class="listitem">
						<code class="literal">user</code> - Optional - set a user as the owner of the directory. If you do not specify a user, it defaults to <code class="literal">root</code>. You can specify the user as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">group</code> - Optional - set a group as the owner of the directory. If you do not specify a group, it defaults to <code class="literal">root</code>. You can specify the group as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">ensure_parents</code> - Optional - Specify whether you want to create parent directories as needed. If you do not specify a value, it defaults to <code class="literal">false</code>.
					</li></ul></div><p>
				<span class="strong strong"><strong>Create a custom file blueprint customization</strong></span>
			</p><p>
				You can use the custom file blueprint customization to create new 
files or to replace existing files. The parent directory of the file you
 specify must exist, otherwise, the image build fails. Ensure that the 
parent directory exists by specifying it in the <code class="literal">[[customizations.directories]]</code> customization.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					If you combine the files customizations with other blueprint 
customizations, it might affect the functioning of the other 
customizations, or it might override the current files customizations. 
If you are not sure about the customizations, use the appropriate 
blueprint customization.
				</p></div></div><p>
				With the <code class="literal">[[customizations.files]]</code> blueprint customization you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create new text files.
					</li><li class="listitem">
						Modifying existing files. WARNING: this can override the existing content.
					</li><li class="listitem">
						Set user and group ownership for the file you are creating.
					</li><li class="listitem"><p class="simpara">
						Set the mode permission in the octal format.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You cannot create or replace the following files:
						</p></div></div></li><li class="listitem">
						<code class="literal">/etc/fstab</code>
					</li><li class="listitem">
						<code class="literal">/etc/shadow</code>
					</li><li class="listitem">
						<code class="literal">/etc/passwd</code>
					</li><li class="listitem">
						<code class="literal">/etc/group</code>
					</li></ul></div><p>
				To customize a file in your blueprint, create a file with the following content, for example:
			</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7b9k7xl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[[customizations.files]]
path = "/etc/<span class="emphasis"><em>directory_name</em></span>"
mode = "<span class="emphasis"><em>octal_access_permission</em></span>"
user = "<span class="emphasis"><em>user_string_or_integer</em></span>"
group = "<span class="emphasis"><em>group_string_or_integer</em></span>"
data = "Hello world!"</pre></div></div><p>
				The blueprint entries are described as following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">path</code> - Mandatory - enter the path to the file that you want to create. It must be an absolute path under the <code class="literal">/etc</code> directory.
					</li><li class="listitem">
						<code class="literal">mode</code> Optional - set the access 
permission on the file, in the octal format. If you do not specify a 
permission, it defaults to 0644. The leading zero is optional.
					</li><li class="listitem">
						<code class="literal">user</code> - Optional - set a user as the owner of the file. If you do not specify a user, it defaults to <code class="literal">root</code>. You can specify the user as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">group</code> - Optional - set a group as the owner of the file. If you do not specify a group, it defaults to <code class="literal">root</code>. You can specify the group as a string or as an integer.
					</li><li class="listitem">
						<code class="literal">data</code> - Optional - Specify the content of a plain text file. If you do not specify a content, it creates an empty file.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6971352">Blueprint import fails after adding filesystem customization "size"</a>.
					</li><li class="listitem">
						<a class="link" href="https://www.osbuild.org/guides/image-builder-on-premises/blueprint-reference.html#customizations">Blueprint reference</a>.
					</li></ul></div></section><section class="section" id="packages-installed-by-default_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.8. Packages installed by image builder</h2></div></div></div><p class="_abstract _abstract">
				When you create a system image using image builder, the system installs a set of base packages.
			</p><div class="table" id="idm140523799838912"><p class="title">Table 4.1. Default packages to support image type creation</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="7s3ko3k" id="rh-table--7s3ko3k" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th id="idm140523799834048" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Image type</th><th id="idm140523799832960" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Default Packages</th></tr></thead><tbody><tr><td headers="idm140523799834048" data-row="2" data-col="1" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">ami</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="2" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">checkpolicy, chrony, cloud-init, 
cloud-utils-growpart, @Core, dhcp-client, gdisk, insights-client, 
kernel, langpacks-en, net-tools, NetworkManager, redhat-release, 
redhat-release-eula, rng-tools, rsync, selinux-policy-targeted, tar, 
yum-utils</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">openstack</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="3" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">@core, langpacks-en</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">qcow2</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="4" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">@core, chrony, dnf, kernel, dnf, 
nfs-utils, dnf-utils, cloud-init, python3-jsonschema, qemu-guest-agent, 
cloud-utils-growpart, dracut-norescue, tar, tcpdump, rsync, 
dnf-plugin-spacewalk, rhn-client-tools, rhnlib, rhnsd, rhn-setup, 
NetworkManager, dhcp-client, cockpit-ws, cockpit-system, 
subscription-manager-cockpit, redhat-release, redhat-release-eula, 
rng-tools, insights-client</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="5" data-col="1" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">tar</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">policycoreutils, selinux-policy-targeted</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="6" data-col="1" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">vhd</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="6" data-col="2" class="content--md" valign="top" align="left"> <p>
								<code class="literal">@core, langpacks-en</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="7" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">vmdk</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="7" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">@core, chrony, cloud-init, firewalld, langpacks-en, open-vm-tools, selinux-policy-targeted</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="8" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-commit</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="8" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">attr, audit, basesystem, bash, 
bash-completion, chrony, clevis, clevis-dracut, clevis-luks, 
container-selinux, coreutils,criu, cryptsetup, curl, dnsmasq, 
dosfstools, dracut-config-generic, dracut-network, e2fsprogs, firewalld,
 fuse-overlayfs, fwupd, glibc, glibc-minimal-langpack, gnupg2, 
greenboot, gzip, hostname, ima-evm-utils, iproute, iptables, iputils, 
keyutils, less, lvm2, NetworkManager, NetworkManager-wifi, 
NetworkManager-wwan, nss-altfiles, openssh-clients, openssh-server, 
passwd, pinentry, platform-python, podman, policycoreutils, 
policycoreutils-python-utils, polkit, procps-ng, redhat-release, 
rootfiles, rpm, rpm-ostree, rsync, selinux-policy-targeted, 
setools-console, setup, shadow-utils, shadow-utils, skopeo, slirp4netns,
 sudo, systemd, tar, tmux, traceroute, usbguard, util-linux, 
vim-minimal, wpa_supplicant, xz</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="9" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-container</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="9" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">dnf, dosfstools, e2fsprogs, glibc, 
lorax-templates-generic, lorax-templates-rhel, lvm2, policycoreutils, 
python36, python3-iniparse, qemu-img, selinux-policy-targeted, systemd, 
tar, xfsprogs, xz</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="10" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-installer</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="10" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">aajohan-comfortaa-fonts, 
abattis-cantarell-fonts, alsa-firmware, alsa-tools-firmware, anaconda, 
anaconda-install-env-deps, anaconda-widgets, audit, bind-utils, 
bitmap-fangsongti-fonts, bzip2, cryptsetup, dbus-x11, dejavu-sans-fonts,
 dejavu-sans-mono-fonts, device-mapper-persistent-data, dnf, dump, 
ethtool, fcoe-utils, ftp, gdb-gdbserver, gdisk, gfs2-utils, 
glibc-all-langpacks, google-noto-sans-cjk-ttc-fonts, 
gsettings-desktop-schemas, hdparm, hexedit, initscripts, ipmitool, 
iwl3945-firmware, iwl4965-firmware, iwl6000g2a-firmware, 
iwl6000g2b-firmware, jomolhari-fonts, kacst-farsi-fonts, 
kacst-qurn-fonts, kbd, kbd-misc, kdump-anaconda-addon, 
khmeros-base-fonts, libblockdev-lvm-dbus, libertas-sd8686-firmware, 
libertas-sd8787-firmware, libertas-usb8388-firmware, 
libertas-usb8388-olpc-firmware, libibverbs, libreport-plugin-bugzilla, 
libreport-plugin-reportuploader, libreport-rhel-anaconda-bugzilla, 
librsvg2, linux-firmware, lklug-fonts, lldpad, lohit-assamese-fonts, 
lohit-bengali-fonts, lohit-devanagari-fonts, lohit-gujarati-fonts, 
lohit-gurmukhi-fonts, lohit-kannada-fonts, lohit-odia-fonts, 
lohit-tamil-fonts, lohit-telugu-fonts, lsof, madan-fonts, metacity, mtr,
 mt-st, net-tools, nmap-ncat, nm-connection-editor, nss-tools, 
openssh-server, oscap-anaconda-addon, pciutils, perl-interpreter, pigz, 
python3-pyatspi, rdma-core, redhat-release-eula, rpm-ostree, rsync, 
rsyslog, sg3_utils, sil-abyssinica-fonts, sil-padauk-fonts, 
sil-scheherazade-fonts, smartmontools, smc-meera-fonts, spice-vdagent, 
strace, system-storage-manager, thai-scalable-waree-fonts, 
tigervnc-server-minimal, tigervnc-server-module, udisks2, udisks2-iscsi,
 usbutils, vim-minimal, volume_key, wget, xfsdump, 
xorg-x11-drivers,xorg-x11-fonts-misc,xorg-x11-server-utils,xorg-x11-server-Xorg,
 xorg-x11-xauth</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="11" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-simplified-installer</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="11" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">attr, basesystem, binutils, bsdtar, 
clevis-dracut, clevis-luks, cloud-utils-growpart, coreos-installer, 
coreos-installer-dracut, coreutils, device-mapper-multipath, dnsmasq, 
dosfstools, dracut-live, e2fsprogs, fcoe-utils, fdo-init, gzip, 
ima-evm-utils, iproute, iptables, iputils, iscsi-initiator-utils, 
keyutils, lldpad, lvm2, passwd, policycoreutils, 
policycoreutils-python-utils, procps-ng, rootfiles, setools-console, 
sudo, traceroute, util-linux</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="12" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">image-installer</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="12" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">anaconda-dracut, curl, 
dracut-config-generic, dracut-network, hostname, iwl100-firmware, 
iwl1000-firmware, iwl105-firmware, iwl135-firmware, iwl2000-firmware, 
iwl2030-firmware, iwl3160-firmware, iwl5000-firmware, iwl5150-firmware, 
iwl6000-firmware, iwl6050-firmware, iwl7260-firmware, kernel, less, 
nfs-utils, openssh-clients, ostree, plymouth, prefixdevname, rng-tools, 
rpcbind, selinux-policy-targeted, systemd, tar, xfsprogs, xz</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="13" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">edge-raw-image</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="13" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">dnf, dosfstools, e2fsprogs, glibc, 
lorax-templates-generic, lorax-templates-rhel, lvm2, policycoreutils, 
python36, python3-iniparse, qemu-img, selinux-policy-targeted, systemd, 
tar, xfsprogs, xz</code>
							</p>
							 </td></tr><tr><td headers="idm140523799834048" data-row="14" data-col="1" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">gce</code>
							</p>
							 </td><td headers="idm140523799832960" data-row="14" data-col="2" class="content--lg" valign="top" align="left"> <p>
								<code class="literal">@core, langpacks-en, acpid, dhcp-client, dnf-automatic, net-tools, python3, rng-tools, tar, vim</code>
							</p>
							 </td></tr></tbody></table></rh-table></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When you add additional components to your blueprint, ensure that 
the packages in the components you added do not conflict with any other 
package components. Otherwise, the system fails to solve dependencies 
and creating your customized image fails. You can check if there is no 
conflict between the packages by running the command:
				</p></div></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--438aesv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints depsolve BLUEPRINT-NAME</pre></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#composer-output-formats_composer-description" title="1.3.&nbsp;Image builder output formats">Image builder description</a>
					</li></ul></div></section><section class="section" id="services-enabled-by-default_creating-system-images-with-composer-command-line-interface"><div class="titlepage"><div><div><h2 class="title">4.9. Enabled services on custom images</h2></div></div></div><p class="_abstract _abstract">
				When you use image builder to configure a custom image, the default 
services that the image uses are determined by the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The RHEL release on which you use the <code class="literal command">osbuild-composer</code> utility
					</li><li class="listitem">
						The image type
					</li></ul></div><p>
				For example, the <code class="literal">ami</code> image type enables the <code class="literal">sshd</code>, <code class="literal">chronyd</code>, and <code class="literal">cloud-init</code> services by default. If these services are not enabled, the custom image does not boot.
			</p><div class="table" id="idm140523803473984"><p class="title">Table 4.2. Enabled services to support image type creation</p><rh-table class="table-contents rh-table--processed" pfelement="" type="content" data-id="8yqim12" id="rh-table--8yqim12" style="--rh-table--scrollbar--width: 0px;"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th id="idm140523803469120" scope="col" data-row="1" data-col="1" class="content--sm" valign="top" align="left">Image type</th><th id="idm140523803468032" scope="col" data-row="1" data-col="2" class="content--sm" valign="top" align="left">Default enabled Services</th></tr></thead><tbody><tr><td headers="idm140523803469120" data-row="2" data-col="1" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">ami</code>
							</p>
							 </td><td headers="idm140523803468032" data-row="2" data-col="2" class="content--lg" valign="top" align="left"> <p>
								sshd, cloud-init, cloud-init-local, cloud-config, cloud-final
							</p>
							 </td></tr><tr><td headers="idm140523803469120" data-row="3" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">openstack</code>
							</p>
							 </td><td headers="idm140523803468032" data-row="3" data-col="2" class="content--lg" valign="top" align="left"> <p>
								sshd, cloud-init, cloud-init-local, cloud-config, cloud-final
							</p>
							 </td></tr><tr><td headers="idm140523803469120" data-row="4" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">qcow2</code>
							</p>
							 </td><td headers="idm140523803468032" data-row="4" data-col="2" class="content--md" valign="top" align="left"> <p>
								cloud-init
							</p>
							 </td></tr><tr><td headers="idm140523803469120" data-row="5" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">rhel-edge-commit</code>
							</p>
							 </td><td headers="idm140523803468032" data-row="5" data-col="2" class="content--md" valign="top" align="left"> <p>
								No extra service enables by default
							</p>
							 </td></tr><tr><td headers="idm140523803469120" data-row="6" data-col="1" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">tar</code>
							</p>
							 </td><td headers="idm140523803468032" data-row="6" data-col="2" class="content--md" valign="top" align="left"> <p>
								No extra service enables by default
							</p>
							 </td></tr><tr><td headers="idm140523803469120" data-row="7" data-col="1" class="content--sm" valign="top" align="left"> <p>
								<code class="literal">vhd</code>
							</p>
							 </td><td headers="idm140523803468032" data-row="7" data-col="2" class="content--lg" valign="top" align="left"> <p>
								sshd, chronyd, waagent, cloud-init, cloud-init-local, cloud-config, cloud-final
							</p>
							 </td></tr><tr><td headers="idm140523803469120" data-row="8" data-col="1" class="content--md" valign="top" align="left"> <p>
								<code class="literal">vmdk</code>
							</p>
							 </td><td headers="idm140523803468032" data-row="8" data-col="2" class="content--md" valign="top" align="left"> <p>
								sshd, chronyd, vmtoolsd, cloud-init
							</p>
							 </td></tr></tbody></table></rh-table></div><p>
				Note: You can customize which services to enable during the system 
boot. However, the customization does not override services enabled by 
default for the mentioned image types.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#image-customizations_creating-system-images-with-composer-command-line-interface" title="4.7.&nbsp;Supported image customizations">Supported Image Customizations</a>
					</li></ul></div></section></section><section class="chapter" id="creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Creating system images using the image builder web console interface</h1></div></div></div><p class="_abstract _abstract">
			Image builder is a tool for creating custom system images. To control
 image builder and create your custom system images, you can use the web
 console interface. Note that the <a class="link" href="#creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image" title="Chapter&nbsp;4.&nbsp;Creating system images using the image builder command-line interface">command-line interface</a> is the currently preferred alternative, because it offers more features.
		</p><section class="section" id="accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface"><div class="titlepage"><div><div><h2 class="title">5.1. Accessing the image builder dashboard in the RHEL web console</h2></div></div></div><p class="_abstract _abstract">
				With the <span class="strong strong"><strong>cockpit-composer</strong></span> plugin for the RHEL web console, you can manage image builder blueprints and composes using a graphical interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have root access to the system.
					</li><li class="listitem">
						You installed image builder.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open <code class="literal">https://localhost:9090/</code> in a web browser on the system where image builder is installed.
					</p><p class="simpara">
						For more information about how to remotely access image builder, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console"><span class="emphasis"><em>Managing systems using the RHEL web console</em></span></a> document.
					</p></li><li class="listitem">
						Log in to the web console as the root user.
					</li><li class="listitem"><p class="simpara">
						To display the image builder controls, click the <code class="literal">image builder</code> icon, in the upper-left corner of the window.
					</p><p class="simpara">
						The image builder dashabord opens, listing existing blueprints, if any.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image" title="Chapter&nbsp;4.&nbsp;Creating system images using the image builder command-line interface">Creating system images with image builder command-line interface</a>
					</li></ul></div></section><section class="section" id="creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface"><div class="titlepage"><div><div><h2 class="title">5.2. Creating an image builder blueprint in the web console interface</h2></div></div></div><p class="_abstract _abstract">
				Creating a blueprint is a necessary step before creating the 
customized RHEL system image. All the customizations are optional.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These blueprint customizations are available for Red&nbsp;Hat 
Enterprise&nbsp;Linux 9.2 or later versions and Red&nbsp;Hat 
Enterprise&nbsp;Linux 8.8 or later versions.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have opened the image builder app from the web console in a browser. See <a class="link" href="#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface" title="5.1.&nbsp;Accessing the image builder dashboard in the RHEL web console">Accessing the image builder GUI in the RHEL web console</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create Blueprint</span> in the upper-right corner.
					</p><p class="simpara">
						A dialog wizard with fields for the blueprint name and description opens.
					</p></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Details</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the name of the blueprint and, optionally, its description. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: In the <code class="literal">Packages</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Available packages</code> search, enter the package name and click the <span class="guibutton">&gt;</span> button to move it to the Chosen packages field. Search and include as many packages as you want. Click <span class="guibutton">Next</span>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									These customizations are all optional unless otherwise specified.
								</p></div></div></li></ol></div></li><li class="listitem">
						On the <code class="literal">Kernel</code> page, enter a kernel name and the command-line arguments.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal">File system</code> page, you can select <code class="literal">Use automatic partitioning</code> or <code class="literal">Manually configure partitions</code> for your image file system. For manually configuring the partitions, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Manually configure partitions</span> button.
							</p><p class="simpara">
								The <code class="literal">Configure partitions</code> section opens, showing the configuration based on Red Hat standards and security guides.
							</p></li><li class="listitem"><p class="simpara">
								From the dropdown menu, provide details to configure the partitions:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
										For the <code class="literal">Mount point</code> field, select one of the following mount point type options:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<code class="literal">/</code> - the root mount point
											</li><li class="listitem">
												<code class="literal">/var</code>
											</li><li class="listitem">
												<code class="literal">/home</code>
											</li><li class="listitem">
												<code class="literal">/opt</code>
											</li><li class="listitem">
												<code class="literal">/srv</code>
											</li><li class="listitem">
												<code class="literal">/usr</code>
											</li><li class="listitem">
												<code class="literal">/app</code>
											</li><li class="listitem">
												<code class="literal">/data</code>
											</li><li class="listitem">
												<code class="literal">/tmp</code>
											</li><li class="listitem"><p class="simpara">
												<code class="literal">/usr/local</code>
											</p><p class="simpara">
												You can also add an additional path to the <code class="literal">Mount point</code>, such as <code class="literal">/tmp</code>. For example: <code class="literal">/var</code> as a prefix and <code class="literal">/tmp</code> as an additional path results in <code class="literal">/var/tmp</code>.
											</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
													Depending on the Mount point type you choose, the file system type changes to <code class="literal">xfs</code>, and so on.
												</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
										For the <code class="literal">Minimum size partition</code> 
field of the file system, enter the desired minimum partition size. In 
the Minimum size dropdown menu, you can use common size units such as <code class="literal">GiB</code>, <code class="literal">MiB</code>, or <code class="literal">KiB</code>. The default unit is <code class="literal">GiB</code>.
									</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
											<code class="literal">Minimum size</code> means that the image builder can still increase the partition sizes, in case they are too small to create a working image.
										</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
								To add more partitions, click the <span class="guibutton">Add partition</span>
 button. If you see the following error message: “Duplicate partitions: 
Only one partition at each mount point can be created.”, you can:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Click the <span class="guibutton">Remove</span> button to remove the duplicated partition.
									</li><li class="listitem">
										Choose a new mount point for the partition you want to create.
									</li></ol></div></li><li class="listitem">
								After you finish the partitioning configuration, click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Services</code> page, you can enable or disable services:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the service names you want to enable or disable, separating them by a comma, by space, or by pressing the <span class="guibutton">Enter</span> key. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Firewall</code> page, set up your firewall setting:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the <code class="literal">Ports</code>, and the firewall services you want to enable or disable.
							</li><li class="listitem">
								Click the <span class="guibutton">Add zone</span> button to manage your firewall rules for each zone independently. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Users</code> page, add a users by following the steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click <span class="guibutton">Add user</span>.
							</li><li class="listitem">
								Enter a <code class="literal">Username</code>, a <code class="literal">password</code>, and a <code class="literal">SSH key</code>. You can also mark the user as a privileged user, by clicking the <code class="literal">Server administrator</code> checkbox. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Groups</code> page, add groups by completing the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add groups</span> button:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter a <code class="literal">Group name</code> and a <code class="literal">Group ID</code>. You can add more groups. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">SSH keys</code> page, add a key:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add key</span> button.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter the SSH key.
									</li><li class="listitem">
										Enter a <code class="literal">User</code>. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Timezone</code> page, set your timezone settings:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Timezone</code> field, enter the timezone you want to add to your system image. For example, add the following timezone format: "US/Eastern".
							</p><p class="simpara">
								If you do not set a timezone, the system uses Universal Time, Coordinated (UTC) as default.
							</p></li><li class="listitem">
								Enter the <code class="literal">NTP</code> servers. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Locale</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Keyboard</code> search field, enter the package name you want to add to your system image. For example: ["en_US.UTF-8"].
							</li><li class="listitem">
								On the <code class="literal">Languages</code> search field, enter the package name you want to add to your system image. For example: "us". Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Others</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Hostname</code> field, enter the 
hostname you want to add to your system image. If you do not add a 
hostname, the operating system determines the hostname.
							</li><li class="listitem">
								Mandatory only for the Simplifier Installer image: On the <code class="literal">Installation Devices</code> field, enter a valid node for your system image. For example: <code class="literal">dev/sda1</code>. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory only when building FIDO images: On the <code class="literal">FIDO device onboarding</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Manufacturing server URL</code> field, enter the following information:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										On the <code class="literal">DIUN public key insecure</code> field, enter the insecure public key.
									</li><li class="listitem">
										On the <code class="literal">DIUN public key hash</code> field, enter the public key hash.
									</li><li class="listitem">
										On the <code class="literal">DIUN public key root certs</code> field, enter the public key root certs. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">OpenSCAP</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Datastream</code> field, enter the <code class="literal">datastream</code> remediation instructions you want to add to your system image.
							</li><li class="listitem">
								On the <code class="literal">Profile ID</code> field, enter the <code class="literal">profile_id</code> security profile you want to add to your system image. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory only when building Ignition images: On the <code class="literal">Ignition</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Firstboot URL</code> field, enter the package name you want to add to your system image.
							</li><li class="listitem">
								On the <code class="literal">Embedded Data</code> field, drag or upload your file. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem">
						. On the <code class="literal">Review</code> page, review the details about the blueprint. Click <span class="guibutton">Create</span>.
					</li></ol></div><p>
				The image builder view opens, listing existing blueprints.
			</p></section><section class="section" id="proc_-importing-a-blueprint-in-the-image-builder-web-console-interface_creating-system-images-with-composer-web-console-interface"><div class="titlepage"><div><div><h2 class="title">5.3. Importing a blueprint in the image builder web console interface</h2></div></div></div><p>
				You can import and use an already existing blueprint. The system automatically resolves all the dependencies.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have opened the image builder app from thr web console in a browser.
					</li><li class="listitem">
						You have a blueprint that you want to import to use in the image builder web console interface.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the image builder dashboard, click <span class="guibutton">Import blueprint</span>. The <code class="literal">Import blueprint</code> wizard opens.
					</li><li class="listitem">
						From the <code class="literal">Upload</code> field, either drag or upload an existing blueprint. This blueprint can be in either <code class="literal">TOML</code> or <code class="literal">JSON</code> format.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Import</span>. The dashboard lists the blueprint you imported.
					</p><p class="simpara">
						When you click the blueprint you imported, you have access to a 
dashboard with all the customizations for the blueprint that you 
imported.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To verify the packages that have been selected for the imported blueprint, navigate to the <code class="literal">Packages</code> tab.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								To list all the package dependencies, click <span class="guibutton">All</span>. The list is searchable and can be ordered.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: To modify any customization:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								From the <code class="literal">Customizations</code> dashboard, click the customization you want to make a change. Optionally, you can click <span class="guibutton">Edit blueprint</span> to navigate to all the available customization options.
							</li></ul></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#creating-a-system-image-with-composer-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface" title="5.5.&nbsp;Creating a system image using image builder in the web console interface">Creating a system image using image builder in the web console interface</a>.
					</li></ul></div></section><section class="section" id="proc_exporting-a-blueprint-from-the-image-builder-web-console-interface_creating-system-images-with-composer-web-console-interface"><div class="titlepage"><div><div><h2 class="title">5.4. Exporting a blueprint from the image builder web console interface</h2></div></div></div><p>
				You can export a blueprint to use the customizations in another system. You can export the blueprint in the <code class="literal">TOML</code> or in the <code class="literal">JSON</code> format. Both formats work on the CLI and also in the API interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have opened the image builder app from the web console in a browser.
					</li><li class="listitem">
						You have a blueprint that you want to export.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the image builder dashboard, select the blueprint you want to export.
					</li><li class="listitem">
						Click <code class="literal">Export blueprint</code>. The <code class="literal">Export blueprint</code> wizard opens.
					</li><li class="listitem"><p class="simpara">
						To save the <code class="literal">Exported blueprint</code>, click the <span class="guibutton">Export</span> button.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Optionally, click the <span class="guibutton">Copy</span> button to copy the blueprint.
							</li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open the exported blueprint to inspect and review it.
					</li></ol></div></section><section class="section" id="creating-a-system-image-with-composer-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface"><div class="titlepage"><div><div><h2 class="title">5.5. Creating a system image using image builder in the web console interface</h2></div></div></div><p class="_abstract _abstract">
				You can create a customized RHEL system image from a blueprint by completing the following steps.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You opened the image builder app from web console in a browser.
					</li><li class="listitem">
						You created a blueprint.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Access image builder dashboard.
					</li><li class="listitem">
						On the blueprint table, find the blueprint you want to build an image.
					</li><li class="listitem">
						On the right side of the chosen blueprint, click <span class="guibutton">Create Image</span>. The <span class="strong strong"><strong>Create image</strong></span> dialog wizard opens.
					</li><li class="listitem">
						Navigate to the <code class="literal">Images</code> tab and click <code class="literal">Create Image</code>. The <code class="literal">Create image</code> wizard opens.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Image output</strong></span> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Select a blueprint</strong></span> list, select the image type you want.
							</li><li class="listitem"><p class="simpara">
								From the <span class="strong strong"><strong>Image output type</strong></span> list, select the image output type you want.
							</p><p class="simpara">
								Depending on the image type you select, you need to add further details.
							</p></li></ol></div></li><li class="listitem">
						Click <span class="guibutton">Next</span>.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Review</strong></span> page, review the details about the image creation and click <span class="guibutton">Create image</span>.
					</p><p class="simpara">
						The image build starts and takes up to 20 minutes to complete.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After the image finishes building, you can:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Download the image.
					</li><li class="listitem">
						Download the logs of the image to inspect the elements and verify if any issue is found.
					</li></ul></div></section></section><section class="chapter" id="creating-a-boot-iso-installer-image-with-image-builder_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Creating a boot ISO installer image with image builder</h1></div></div></div><p class="_abstract _abstract">
			You can use image builder to create bootable ISO Installer images. These images consist of a <code class="literal">.tar</code> file that has a root file system. You can use the bootable ISO image to install the file system to a bare metal server.
		</p><p>
			Image builder builds a manifest that creates a boot ISO that contains
 a root file system. To create the ISO image, select the image type <span class="strong strong"><strong>image-installer</strong></span>. Image builder builds a <code class="literal">.tar</code> file with the following content:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					a standard Anaconda installer ISO
				</li><li class="listitem">
					an embedded RHEL system tar file
				</li><li class="listitem">
					a default Kickstart file that installs the commit with minimal default requirements
				</li></ul></div><p>
			The created installer ISO image includes a pre-configured system image that you can install directly to a bare metal server.
		</p><section class="section" id="creating-a-boot-iso-installer-image-with-image-builder-in-the-command-line-interface_creating-a-boot-iso-installer-image-with-image-builder"><div class="titlepage"><div><div><h2 class="title">6.1. Creating a boot ISO installer image using the image builder in the command-line interface</h2></div></div></div><p class="_abstract _abstract">
				You can create a customized boot ISO installer image by using the image builder command-line interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a blueprint for the image with a user included and pushed it back into image builder. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#image-customizations_creating-system-images-with-composer-command-line-interface">Blueprint customization for users</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the ISO image:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--40lj8gl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start <span class="emphasis"><em>BLUEPRINT-NAME</em></span> <span class="emphasis"><em>image-installer</em></span></pre></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="emphasis"><em>BLUEPRINT-NAME</em></span> with name of the blueprint you created
							</li><li class="listitem"><p class="simpara">
								<span class="emphasis"><em>image-installer</em></span> is the image type
							</p><p class="simpara">
								The compose process starts in the background and the UUID of the compose is shown.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Wait until the compose is finished. Note that this might take several minutes.
					</p><p class="simpara">
						To check the status of the compose:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0pb7kwc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
						A finished compose shows a status value of <span class="strong strong"><strong>FINISHED</strong></span>. Identify the compose in the list by its UUID.
					</p></li><li class="listitem"><p class="simpara">
						After the compose is finished, download the created image file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--t0czyui"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image <span class="emphasis"><em>UUID</em></span></pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>UUID</em></span> with the UUID value obtained in the previous steps.
					</p><p class="simpara">
						As a result, image builder builds a <code class="literal">.iso</code> file that contains a <code class="literal">.tar</code> file. The <code class="literal">.tar</code> file is the image that will be installed for the Operating system. The <code class="literal">. iso</code> is set up to boot Anaconda and install the tar file to set up the system.
					</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Navigate to the folder where you downloaded the image file.
					</li><li class="listitem">
						Locate the <code class="literal">.iso</code> image you downloaded.
					</li><li class="listitem"><p class="simpara">
						Mount the ISO.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--85ilfxl"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ mount -o ro <span class="emphasis"><em>path_to_ISO</em></span> /mnt</pre></div></div><p class="simpara">
						You can find the <code class="literal">.tar</code> file at the <code class="literal">/mnt/liveimg.tar.gz</code> directory.
					</p></li><li class="listitem"><p class="simpara">
						Extract <code class="literal">.tar</code> file content.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--t62tu3l"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ tar xzf /mnt/liveimg.tar.gz</pre></div></div></li></ol></div><p>
				You can use the created ISO image file on a hard disk or to boot in a
 virtual machine, for example, in an HTTP Boot or a USB installation.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image">Creating system images with image builder command-line interface</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_creating-a-bootable-installation-medium_installing-rhel">Creating a bootable installation medium for RHEL</a>
					</li></ul></div></section><section class="section" id="proc_creating-a-boot-iso-installer-image-with-image-builder-in-the-gui_creating-a-boot-iso-installer-image-with-image-builder"><div class="titlepage"><div><div><h2 class="title">6.2. Creating a boot ISO installer image using image builder in the GUI</h2></div></div></div><p>
				You can build a customized boot ISO installer image using image builder GUI.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a blueprint for your image. See <a class="link" href="#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface" title="5.2.&nbsp;Creating an image builder blueprint in the web console interface">Creating an image builder blueprint in the web console interface</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open the image builder interface of the RHEL web console in a browser. See <a class="link" href="#creating-a-composer-blueprint-with-command-line-interface_creating-system-images-with-composer-command-line-interface" title="4.2.&nbsp;Creating an image builder blueprint using the command-line interface">Creating an image builder blueprint using the command-line interface</a>.
					</li><li class="listitem">
						Locate the blueprint that you want to use to build your image. To 
do so, enter the blueprint name or a part of it into the search box at 
upper left, and click <span class="guibutton">Enter</span>.
					</li><li class="listitem"><p class="simpara">
						On the right side of the blueprint, click the corresponding <span class="guibutton">Create Image</span> button.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Create image</strong></span> dialog wizard opens.
					</p></li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Create image</strong></span> dialog wizard:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In the <span class="strong strong"><strong>Image Type</strong></span> list, select <code class="literal">"RHEL Installer (.iso)"</code>.
							</li><li class="listitem">
								Click <span class="guibutton">Create</span>.
							</li></ol></div></li></ol></div><p>
				Image builder adds the compose of a RHEL ISO image to the queue.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The image build process takes a few minutes to complete.
				</p></div></div><p>
				After the process is complete, you can see the image build complete status. Image builder creates the ISO image.
			</p><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After the image is successfully created, you can download it.
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Click <span class="strong strong"><strong>Download</strong></span> to save the <code class="literal">"RHEL Installer (.iso)"</code> image to your system.
					</li><li class="listitem">
						Navigate to the folder where you downloaded the <code class="literal">"RHEL Installer (.iso)"</code> image.
					</li><li class="listitem">
						Locate the .tar image you downloaded.
					</li><li class="listitem"><p class="simpara">
						Extract the <code class="literal">"RHEL Installer (.iso)"</code> image content.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--lqkaw8i"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ tar -xf <span class="emphasis"><em>content</em></span>.tar</pre></div></div></li></ol></div><p>
				You can use the resulting ISO image file on a hard disk or to boot 
in a virtual machine, for example, in an HTTP Boot or a USB 
installation.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating an image builder blueprint in the web console interface</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image">Creating system images with image builder command-line interface</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_creating-a-bootable-installation-medium_installing-rhel">Creating a bootable installation medium for RHEL</a>.
					</li></ul></div></section><section class="section" id="installing-the-iso-to-a-bare-metal-system_creating-a-boot-iso-installer-image-with-image-builder"><div class="titlepage"><div><div><h2 class="title">6.3. Installing an image builder ISO image to a bare metal system</h2></div></div></div><p class="_abstract _abstract">
				Install the bootable ISO image you created by using image builder to a bare metal system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created the bootable ISO image by using image builder. See <a class="link" href="#creating-a-boot-iso-installer-image-with-image-builder-in-the-command-line-interface_creating-a-boot-iso-installer-image-with-image-builder" title="6.1.&nbsp;Creating a boot ISO installer image using the image builder in the command-line interface">Creating a boot ISO installer image using the image builder in the command-line interface</a>.
					</li><li class="listitem">
						You have downloaded the bootable ISO image.
					</li><li class="listitem">
						You installed the <code class="literal">dd</code> tool.
					</li><li class="listitem">
						You have a USB flash drive with enough capacity for the ISO image.
 The required size varies depending on the packages you selected in your
 blueprint, but the recommended minimum size is 8 GB.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Write the bootable ISO image directly to the USB drive using the <code class="literal">dd</code> tool. For example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--cv0ooh2"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">dd if=installer.iso of=/dev/sdX</pre></div></div><p class="simpara">
						Where <code class="literal">installer.iso</code> is the ISO image file name and <code class="literal">/dev/sdX</code> is your USB flash drive device path.
					</p></li><li class="listitem">
						Insert the flash drive into a USB port of the computer you want to boot.
					</li><li class="listitem"><p class="simpara">
						Boot the ISO image from the USB flash drive.
					</p><p class="simpara">
						When the installation environment starts, you might need to 
complete the installation manually, similarly to the default Red Hat 
Enterprise Linux installation.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#booting-the-installer_installing-RHEL">Booting the installation</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/graphical-installation_graphical-installation">Customizing your installation</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_creating-a-bootable-installation-medium_installing-rhel#making-an-installation-cd-or-dvd_assembly_creating-a-bootable-installation-medium">Creating a bootable USB device on Linux</a>
					</li></ul></div></section></section><section class="chapter" id="assembly_creating-pre-hardened-images-with-image-builder-openscap-integration_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Creating pre-hardened images with image builder OpenSCAP integration</h1></div></div></div><p>
			Image builder on-premises supports OpenSCAP integration to produce 
pre-hardened RHEL images. With image builder on-premises integrated with
 OpenSCAP, you can produce pre-hardened RHEL images. You can set up a 
blueprint, choose from a set of predefined security profiles, add a set 
of packages or add-on files, and build a customized RHEL image ready to 
deploy on your chosen platform that is more suitable to your 
environment.
		</p><p>
			Red Hat provides regularly updated versions of the security hardening
 profiles that you can choose when you build your systems so that you 
can meet your current deployment guidelines.
		</p><section class="section" id="con_differences-between-kickstart-and-pre-hardened-images_assembly_creating-pre-hardened-images-with-image-builder-openscap-integration"><div class="titlepage"><div><div><h2 class="title">7.1. Differences between Kickstart and pre-hardened images</h2></div></div></div><p>
				For the traditional image creation using a Kickstart file, you have 
to choose which packages you must install and ensure that the system is 
not affected by a vulnerability. With image builder OpenSCAP 
integration, you can build security hardened images. During the image 
build process an OSBuild <code class="literal">oscap remediation stage</code> runs the <code class="literal">OpenSCAP</code> tool in the chroot, on the filesystem tree. The <code class="literal">OpenSCAP</code>
 tool runs the standard evaluation for the profile you choose and 
applies the remediations to the image. With this, you can build a more 
completely hardened image, if you compare it to running the remediation 
on a live system.
			</p></section><section class="section" id="con_the-openscap-blueprint-customization_assembly_creating-pre-hardened-images-with-image-builder-openscap-integration"><div class="titlepage"><div><div><h2 class="title">7.2. The OpenSCAP blueprint customization</h2></div></div></div><p>
				With the OpenSCAP support of blueprint customization, you can create
 blueprints and then use them to build your own pre-hardened images. To 
create a pre-hardened image you can customize the mount points and 
configure the file system layout according to the selected security 
profile. During the image build, OpenSCAP applies a first-boot 
remediation.
			</p><p>
				After you select the OpenSCAP profile, the OpenSCAP blueprint 
customization configures the image to trigger the remediation during the
 image build with the selected profile.
			</p><p>
				To use the OpenSCAP blueprint customization in your image blueprints, enter the following information:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The datastream path to the <code class="literal">datastream</code> remediation instructions. You can find it in the <code class="literal">/usr/share/xml/scap/ssg/content/</code> directory.
					</li><li class="listitem"><p class="simpara">
						The <code class="literal">profile_id</code> of the required security profile. The <code class="literal">profile_id</code> field accepts both the long and short forms, for example: <code class="literal">cis</code> or <code class="literal">xccdf_org.ssgproject.content_profile_cis</code>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/security_hardening/index#scap-security-guide-profiles-supported-in-rhel-9_scanning-the-system-for-configuration-compliance-and-vulnerabilities">SCAP Security Guide profiles supported in RHEL 9</a> for more details.
					</p><p class="simpara">
						The following is a blueprint with OpenSCAP customization example:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--uggor6z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[customizations]
[customizations.openscap]
datastream = "/usr/share/xml/scap/ssg/content/ssg-rhel8-ds.xml"
profile_id = "xccdf_org.ssgproject.content_profile_cis"</pre></div></div><p class="simpara">
						The most common SCAP file type is an SCAP source datastream. To show details about the SCAP source datastream from the <code class="literal">scap-security-guide</code> package, enter the command:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--w6y6ozq"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ oscap info /usr/share/xml/scap/ssg/content/ssg-rhel8-ds.xml</pre></div></div><p class="simpara">
						The <code class="literal">oscap</code> tool runs on the image tree
 to perform an offline scan of a file system that is mounted at an 
arbitrary path. You can use it for scanning of custom objects that are 
not supported by <code class="literal">oscap-docker</code> or <code class="literal">oscap-vm</code>, such as containers in formats other than Docker. <code class="literal">oscap-chroot</code> mimics the usage and options of the <code class="literal">oscap</code> tool.
					</p><p class="simpara">
						Image builder generate the necessary configurations for the <code class="literal">osbuild</code> stage based on your blueprint customizations. Additionally, image builder adds two packages to the image:
					</p></li><li class="listitem">
						<code class="literal">openscap-scanner</code> - the <code class="literal">OpenSCAP</code> tool.
					</li><li class="listitem"><p class="simpara">
						<code class="literal">scap-security-guide</code> - package which contains the remediation instructions.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The remediation stage uses the <code class="literal">scap-security-guide</code>
 package for the datastream because this package is installed on the 
image by default. If you want to use a different datastream, add the 
necessary package to the blueprint, and specify the path to the 
datastream in the <code class="literal">oscap</code> configuration.
						</p></div></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/security_hardening/index#scap-security-guide-profiles-supported-in-rhel-9_scanning-the-system-for-configuration-compliance-and-vulnerabilities">SCAP Security Guide profiles supported in RHEL 9</a>.
					</li></ul></div></section><section class="section" id="proc_creating-a-pre-hardened-image-with-image-builder_assembly_creating-pre-hardened-images-with-image-builder-openscap-integration"><div class="titlepage"><div><div><h2 class="title">7.3. Creating a pre-hardened image with image builder</h2></div></div></div><p>
				With the OpenSCAP and image builder integration, you can create pre-hardened images.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a blueprint in the TOML format, with the following content:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--p58puki"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "<span class="emphasis"><em>blueprint_name</em></span>"
description = "<span class="emphasis"><em>blueprint_description</em></span>"
version = "0.0.1"
modules = []
groups = []
distro = ""

[customizations]
[[customizations.user]]
name = "scap-security-guide"
description = "Admin account"
password = <span class="emphasis"><em>secure_password_hash</em></span>
key = ssh-key
home = "/home/scap-security-guide"
group = ["wheel"]


[[customizations.filesystem]]
mountpoint = "/tmp"
size = 13107200
[customizations.openscap]
datastream = "/usr/share/xml/scap/ssg/content/ssg-rhel8-ds.xml "
profile_id = "cis"</pre></div></div></li><li class="listitem"><p class="simpara">
						Start the build of a OpenSCAP image:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9rckv0y"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># <span class="strong strong"><strong>composer-cli compose start <span class="emphasis"><em>blueprint_name</em></span> qcow2</strong></span></pre></div></div><p class="simpara">
						Where <span class="emphasis"><em>blueprint_name</em></span> is the blueprint name.
					</p><p class="simpara">
						After the image build is ready, you can use your pre-hardened image on your deployments. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#creating-a-virtual-machine-from-a-kvm-guest-image_preparing-and-deploying-kvm-guest-images-with-image-builder">Creating a virtual machine</a>.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After you deploy your pre-hardened image in a VM, you can perform a
 configuration compliance scan to verify that the image is aligned to 
the selected security profile.
				</p></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Performing a configuration compliance scanning does not guarantee the system is compliant. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/security_hardening/index#configuration-compliance-scanning_scanning-the-system-for-configuration-compliance-and-vulnerabilities">Configuration compliance scanning</a>.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Connect to the image using SSH.
					</li><li class="listitem"><p class="simpara">
						Run the <code class="literal">oscap</code> scanner.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qwvg7t7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># <span class="strong strong"><strong>scap-workbench</strong></span></pre></div></div></li><li class="listitem">
						Select the version of the system you want to scan. Click <span class="guibutton">Load content</span>.
					</li><li class="listitem">
						Select the profile you want to scan and click <span class="guibutton">Scan</span>. OpenSCAP checks all the requirements for the system.
					</li><li class="listitem">
						After the scan finishes, click <span class="guibutton">Show Report</span>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/scanning-the-system-for-configuration-compliance-and-vulnerabilities_security-hardening">Scanning the system for configuration compliance and vulnerabilities</a>.
					</li><li class="listitem">
						<a class="link" href="https://www.osbuild.org/guides/image-builder-on-premises/oscap-remediation.html">OpenSCAP available security profiles</a>.
					</li></ul></div></section></section><section class="chapter" id="preparing-and-deploying-kvm-guest-images-with-image-builder_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Preparing and deploying KVM guest images using image builder</h1></div></div></div><p class="_abstract _abstract">
			To create a purpose-built image for use on Red Hat Virtualization, you can use image builder to compose a <code class="literal">KVM</code> guest image. The KVM guest images are only supported by <code class="literal">rhel-guest-image</code> in Red Hat Virtualization.
		</p><p>
			When you create a disk image by using RHEL image builder, even if you
 specify your own partition layout, it creates the partitioning table in
 the GUID Partition Table (GPT) layout, with a dual-bootable image: BIOS
 mode or UEFI mode. It then creates a BIOS boot partition, along with 
the UEFI partition.
		</p><p>
			Working with a customized KVM guest image involves the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Creating a KVM guest Image <code class="literal">.qcow2</code> image using image builder.
				</li><li class="listitem">
					Creating a virtual machine from the KVM guest image.
				</li></ol></div><section class="section" id="creating-customized-kvm-guest-images-with-image-builder_preparing-and-deploying-kvm-guest-images-with-image-builder"><div class="titlepage"><div><div><h2 class="title">8.1. Creating customized KVM guest images using image builder</h2></div></div></div><p class="_abstract _abstract">
				You can create a customized <code class="literal">.qcow2</code> KVM guest image by using image builder.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have root or wheel group user access to the system.
					</li><li class="listitem">
						The <code class="literal">cockpit-composer</code> package is installed.
					</li><li class="listitem">
						On a RHEL system, you have opened the image builder dashboard of the web console.
					</li><li class="listitem">
						You have created a blueprint. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating an image builder blueprint in the web console interface</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Click the blueprint name you created.
					</li><li class="listitem">
						Select the tab <span class="strong strong"><strong>Images</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Create Image</strong></span> to create your customized image. A pop-up window opens.
					</li><li class="listitem">
						From the <span class="strong strong"><strong>Type</strong></span> drop-down menu list, select <code class="literal">QEMU Image(.qcow2)</code>.
					</li><li class="listitem">
						Set the size that you want the image to be when instantiated and click <span class="strong strong"><strong>Create</strong></span>.
					</li><li class="listitem">
						A small pop-up on the upper right side of the window informs you 
that the image creation has been added to the queue. After the image 
creation process is complete, you can see the <span class="strong strong"><strong>Image build complete</strong></span> status.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Click the breadcrumbs icon and select the <span class="strong strong"><strong>Download</strong></span> option. Image builder downloads the KVM guest image <code class="literal">.qcow2</code> file at your default download location.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating an image builder blueprint in the web console interface</a>.
					</li></ul></div></section><section class="section" id="creating-a-virtual-machine-from-a-kvm-guest-image_preparing-and-deploying-kvm-guest-images-with-image-builder"><div class="titlepage"><div><div><h2 class="title">8.2. Creating a virtual machine from a KVM guest image</h2></div></div></div><p class="_abstract _abstract">
				With image builder, you can build a <code class="literal">.qcow2</code> image, and use a KVM guest image to create a VM. The KVM guest images created using image builder already have <code class="literal">cloud-init</code> installed and enabled.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a <code class="literal">.qcow2</code> image using image builder. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating an image builder blueprint in the web console interface.</a>
					</li><li class="listitem">
						The <code class="literal">qemu-kvm</code> package is installed on your system. You can check if the <code class="literal">/dev/kvm</code> folder is available on your system.
					</li><li class="listitem">
						You have the <code class="literal">libvirt</code> and <code class="literal">virt-install</code> packages installed on your system.
					</li><li class="listitem">
						The <code class="literal">genisoimage</code> utility is installed on your system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Move the KVM Guest Image you created using image builder to the <code class="literal">/var/lib/libvirt/images</code> directory.
					</li><li class="listitem"><p class="simpara">
						Create a directory, for example, <code class="literal">cloudinitiso</code> and navigate to this newly created directory:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--mcuc0kx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ mkdir cloudinitiso
$ cd cloudinitiso</pre></div></div></li><li class="listitem"><p class="simpara">
						Create a file named <code class="literal">meta-data</code>. Add the following information to this file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--oup0mfo"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">instance-id: citest
local-hostname: vmname</pre></div></div></li><li class="listitem"><p class="simpara">
						Create a file named <code class="literal">user-data</code>. Add the following information to the file:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--kqnq8mx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">#cloud-config
user: admin
password: password
chpasswd: {expire: False}
ssh_pwauth: True
ssh_authorized_keys:
  - ssh-rsa AAA...fhHQ== your.email@example.com</pre></div></div><p class="simpara">
						Where, <code class="literal">ssh_authorized_keys</code> is your SSH public key. You can find your SSH public key in <code class="literal">~/.ssh/id_rsa.pub</code>.
					</p></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">genisoimage</code> command to create an ISO image that includes the <code class="literal">user-data</code> and <code class="literal">meta-data</code> files.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--1qf3jsf"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># genisoimage -output cloud-init.iso -volid cidata -joliet -rock user-data meta-data

I: -input-charset not specified, using utf-8 (detected in locale settings)
Total translation table size: 0
Total rockridge attributes bytes: 331
Total directory bytes: 0
Path table size(bytes): 10
Max brk space used 0
183 extents written (0 MB)</pre></div></div></li><li class="listitem"><p class="simpara">
						Create a new VM from the KVM Guest Image using the <code class="literal">virt-install</code> command. Include the ISO image you created on step 4 as an attachment to the VM image.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--b1xylrd"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># virt-install \
    --memory 4096 \
    --vcpus 4 \
    --name myvm \
    --disk rhel-9-x86_64-kvm.qcow2,device=disk,bus=virtio,format=qcow2 \
    --disk cloud-init.iso,device=cdrom \
    --os-variant rhel 9 \
    --virt-type kvm \
    --graphics none \
    --import</pre></div></div><p class="simpara">
						Where,
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								--graphics none - means it is a headless RHEL 9 VM.
							</li><li class="listitem">
								--vcpus 4 - means that it uses 4 virtual CPUs.
							</li><li class="listitem">
								--memory 4096 - means it uses 4096 MB RAM.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						The VM installation starts:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--i0or76k"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">Starting install...
Connected to domain mytestcivm
...
[  OK  ] Started Execute cloud user/final scripts.
[  OK  ] Reached target Cloud-init target.

Red Hat Enterprise Linux 9 (Ootpa)
Kernel 4.18.0-221.el8.x86_64 on an x86_64</pre></div></div></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After the boot is complete, the VM shows a text login interface. To log in to the VM:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Enter <code class="literal">admin</code> as a username and press <span class="guibutton">Enter</span>.
					</li><li class="listitem"><p class="simpara">
						Enter <code class="literal">password</code> as password and press <span class="guibutton">Enter</span>.
					</p><p class="simpara">
						After the login authentication is complete, you have access to the VM using the CLI.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_enabling-virtualization-in-rhel-9_configuring-and-managing-virtualization">Enabling virtualization</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_cloud-init_for_rhel_8/index">Configuring and managing cloud-init for RHEL 9</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_cloud-init_for_rhel_8/red-hat-support-for-cloud-init_cloud-content#cloud-init-significant-directories-and-files_red-hat-support-for-cloud-init">cloud-init significant directories and files</a>.
					</li></ul></div></section></section><section class="chapter" id="assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Pushing a container to a registry and embedding it into an image</h1></div></div></div><p>
			With support for container customization in the blueprints, you can 
create a container and embed it directly into the image you create.
		</p><section class="section" id="con_the-container-image-builder-customization_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image"><div class="titlepage"><div><div><h2 class="title">9.1. Blueprint customization to embed a container into an image</h2></div></div></div><p>
				To embed a container from <a class="link" href="https://catalog.redhat.com/software/containers/registry/registry.access.redhat.com/repository/ubi9">registry.access.redhat.com</a> registry, you must add a container customization to your blueprint. For example:
			</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ofijcqx"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">[[containers]]
source = "registry.access.redhat.com/ubi9/ubi:latest"
name =  "local-name"
tls-verify = true</pre></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">source</code> - Mandatory field. It is a reference to the container image at a registry. This example uses the <code class="literal">registry.access.redhat.com</code> registry. You can specify a tag version. The default tag version is <code class="literal">latest</code>.
					</li><li class="listitem">
						<code class="literal">name</code> - the name of the container in the local registry.
					</li><li class="listitem"><p class="simpara">
						<code class="literal">tls-verify</code> - Optional boolean field. The <code class="literal">tls-verify</code> boolean field controls the transport layer security. The default value is <code class="literal">true</code>.
					</p><p class="simpara">
						Image builder pulls the container during the image build and 
stores the container into the image. The default local container storage
 location depends on the image type, so that all support <code class="literal">container-tools</code>
 like Podman are able to work with it. The embedded containers are not 
started. To access protected container resources, you can use a <code class="literal">containers-auth.json</code> file.
					</p></li></ul></div></section><section class="section" id="con_the-container-registry-credentials_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image"><div class="titlepage"><div><div><h2 class="title">9.2. The Container registry credentials</h2></div></div></div><p>
				The <code class="literal">osbuild-worker</code> service is responsible for the communication with the container registry. To enable that, you can set up the <code class="literal">/etc/osbuild-worker/osbuild-worker.toml</code> configuration file.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					After setting the <code class="literal">/etc/osbuild-worker/osbuild-worker.toml</code> configuration file, you must restart the <code class="literal">osbuild-worker</code> service, because it reads the <code class="literal">/etc/osbuild-worker/osbuild-worker.toml</code> configuration file only once, during the <code class="literal">osbuild-worker</code> service start.
				</p></div></div><p>
				The <code class="literal">/etc/osbuild-worker/osbuild-worker.toml</code> configuration file has a containers section with an <code class="literal">auth_field_path</code> entry that is a string referring to a path of a <code class="literal">containers-auth.json</code>
 file to be used for accessing protected resources. The container 
registry credentials are only used to pull a container image from a 
registry, when embedding the container into the image.
			</p><p>
				The following is an example:
			</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--nz5y18z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[containers]
auth_file_path = "/etc/osbuild-worker/containers-auth.json"</pre></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.mankier.com/5/containers-auth.json"><code class="literal">containers-auth.json</code> man page</a>.
					</li></ul></div></section><section class="section" id="proc_pushing-a-container-artifact-directly-to-a-container-registry_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image"><div class="titlepage"><div><div><h2 class="title">9.3. Pushing a container artifact directly to a container registry</h2></div></div></div><p>
				You can push container artifacts, such as RHEL for Edge container 
images directly to a container registry after you build it, using the 
image builder CLI. For that you must set up an <code class="literal">upload provider</code> and optionally, credentials, and then you can build the container image, passing the registry and the repository to <code class="literal">composer-cli</code> as arguments. After the image is ready, it is available in the container registry that you set up.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Access to <a class="link" href="https://quay.io/">quay.io registry</a>. This example uses the <code class="literal">quay.io</code> container registry as a target registry, but you can use a container registry of your choice.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Set up a <code class="literal">registry-config.toml</code> file to select the container provider.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--svg040v"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">provider = "<span class="emphasis"><em><span class="replaceable replaceable">container_provider</span></em></span>"

[settings]
tls_verify = false
username = "<span class="emphasis"><em><span class="replaceable replaceable">admin</span></em></span>"
password = "<span class="emphasis"><em><span class="replaceable replaceable">your_password</span></em></span>"</pre></div></div></li><li class="listitem"><p class="simpara">
						Create a blueprint in the <code class="literal">.toml</code> format. This is a blueprint for the container in which you install an <code class="literal">nginx</code> package into the blueprint.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--66nk7e3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "simple-container"
description = "Simple RHEL container"
version = "0.0.1"

[[packages]]
name = "nginx"
version = "*"</pre></div></div></li><li class="listitem"><p class="simpara">
						Push the blueprint:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--dfxcuqi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push blueprint.toml</pre></div></div></li><li class="listitem"><p class="simpara">
						Build the container image:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ckcv0fa"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start <span class="emphasis"><em>simple-container</em></span> container "quay.io:8080/osbuild/<span class="emphasis"><em>repository</em></span>" registry-config.toml</pre></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								simple-container - is the blueprint name.
							</li><li class="listitem">
								container - is the image type.
							</li><li class="listitem"><p class="simpara">
								"quay.io:8080/osbuild/<span class="emphasis"><em>repository</em></span>" - <code class="literal">quay.io</code> is the target registry, <code class="literal">osbuild</code> is the organization and <code class="literal">repository</code> is the location to push the container when it finishes building. Optionally, you can set a <code class="literal">tag</code>. If you do not set a value for <code class="literal">:tag</code>, it uses <code class="literal">:latest</code> tag by default.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Building the container image takes time because of resolving dependencies of the customized packages.
								</p></div></div></li></ul></div></li><li class="listitem">
						After the image build finishes, the container you created is available in <a class="link" href="https://quay.io/">quay.io</a>.
					</li><li class="listitem"><p class="simpara">
						Access <a class="link" href="https://quay.io/">quay.io</a>. and click <code class="literal">Repository Tags</code>.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--e3pon9t"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed"> You can see details about the container you created, such as:
- last modified
- image size
- the `manifest ID`, that you can copy to the clipboard.</pre></div></div></li><li class="listitem">
						Copy the <code class="literal">manifest ID</code> value to build the image in which you want to embed a container.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.4/html/use_red_hat_quay/working_with_tags">Quay.io - Working with tags</a>.
					</li></ul></div></section><section class="section" id="proc_building-an-image-and-pulling-the-container-into-the-image_assembly_pushing-a-container-to-a-register-and-embedding-it-into-a-image"><div class="titlepage"><div><div><h2 class="title">9.4. Building an image and pulling the container into the image</h2></div></div></div><p>
				After you have created the container image, you can build your 
customized image and pull the container image into it. For that, you 
must specify a <span class="strong strong"><strong>container customization</strong></span> in the blueprint, and the <span class="strong strong"><strong>container name</strong></span> for the final image. During the build process, the container image is fetched and placed in the local Podman container storage.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a container image and pushed it into your local <code class="literal">quay.io</code> container registry instance.
					</li><li class="listitem">
						You have access to <a class="link" href="https://access.redhat.com/terms-based-registry/#/">registry.access.redhat.com</a>.
					</li><li class="listitem">
						You have a container <code class="literal">manifest ID</code>.
					</li><li class="listitem"><p class="simpara">
						You have the <code class="literal">qemu-kvm</code> and <code class="literal">qemu-img</code> packages installed. To install it, run the command:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gjdb6y3"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># yum install qemu-kvm qemu-img</pre></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a blueprint to build a <code class="literal">qcow2</code> image. The blueprint must contain the <span class="emphasis"><em><span id="containers"><!--Empty--></span></em></span> customization.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--o8255no"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">name = "image"
description = "A qcow2 image with a container"
version = "0.0.1"
distro = "rhel-90"

[[packages]]
name = "podman"
version = "*"

[[containers]]
source = "registry.access.redhat.com/ubi9:8080/osbuild/container/container-image@sha256:manifest-ID-from-Repository-tag: tag-version"
name =  "source-name"
tls-verify = true</pre></div></div></li><li class="listitem"><p class="simpara">
						Push the blueprint:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--da56ncp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli blueprints push <span class="emphasis"><em><span class="replaceable replaceable">blueprint-image</span></em></span>.toml</pre></div></div></li><li class="listitem"><p class="simpara">
						Build the container image:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--henky3o"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli start compose <span class="emphasis"><em><span class="replaceable replaceable">image</span></em></span> <span class="emphasis"><em>qcow2</em></span></pre></div></div><p class="simpara">
						Where:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="emphasis"><em>image</em></span> is the blueprint name.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">qcow2</code> is the image type.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Building the image takes time because it checks the container on <code class="literal">quay.io</code> registry.
								</p></div></div><p class="simpara">
								After the image build status is "FINISHED", you can use the <code class="literal">qcow2</code> image you created in a VM.
							</p></li></ul></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Pull the <code class="literal">.qcow2</code> image from the <code class="literal">composer-cli</code> to your local file system:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6y1975a"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image COMPOSE-UUID</pre></div></div></li><li class="listitem">
						Start the <code class="literal">qcow2</code> image in a VM. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#creating-a-virtual-machine-from-a-kvm-guest-image_preparing-and-deploying-kvm-guest-images-with-image-builder">Creating a virtual machine from a KVM guest image</a>.
					</li><li class="listitem"><p class="simpara">
						The <code class="literal">qemu</code> wizard opens. Login in to the <code class="literal">qcow2</code> image.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the username and password. These can be the username and password you set up in the <code class="literal">.qcow2</code> blueprint in the "customizations.user" section, or created at boot time with <code class="literal">cloud-init</code>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Run the container image and open a shell prompt inside the container:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--uw6frvv"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># podman run -it registry.access.redhat.com/ubi9:8080/osbuild/<span class="emphasis"><em>repository</em></span> /bin/bash/</pre></div></div><p class="simpara">
						Where:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">registry.access.redhat.com</code> is the target registry, <code class="literal">osbuild</code> is the organization and <code class="literal">repository</code> is the location to push the container when it finishes building.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Check that the packages you added to the blueprint are available:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5jqebaz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># type -a nginx</pre></div></div><p class="simpara">
						The output shows you the <code class="literal">nginx</code> package path.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.11/html/configuring_clusters/install-config-configuring-red-hat-registry">Accessing and Configuring the Red Hat Registry</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html/managing_containers/finding_running_and_building_containers_with_podman_skopeo_and_buildah">Basic Podman commands</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/building_running_and_managing_containers/index#proc_running-skopeo-in-a-container_assembly_running-skopeo-buildah-and-podman-in-a-container">Running Skopeo in a container</a>.
					</li></ul></div></section></section><section class="chapter" id="creating-cloud-images-with-composer_composing-a-customized-rhel-system-image"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Preparing and uploading cloud images using image builder</h1></div></div></div><p class="_abstract _abstract">
			Image builder can create custom system images ready for use on 
various cloud platforms. To use your customized RHEL system image in a 
cloud, create the system image with image builder using the respective 
output type, configure your system for uploading the image, and upload 
the image to your cloud account. You can push customized image clouds 
through the <code class="literal">image builder</code> application in the RHEL web console, available for a subset of the service providers that we support, such as <span class="strong strong"><strong>AWS</strong></span> and <span class="strong strong"><strong>Microsoft Azure</strong></span> clouds. See <a class="link" href="#pushing-ami-images-to-aws-cloud_creating-cloud-images-with-composer" title="10.3.&nbsp;Pushing images to AWS Cloud AMI">Pushing images to AWS Cloud AMI</a> and <a class="link" href="#pushing-vhd-imaged-to-azure-cloud_creating-cloud-images-with-composer" title="10.6.&nbsp;Pushing VHD images to Microsoft Azure cloud">Pushing VHD images to Microsoft Azure cloud</a>.
		</p><section class="section" id="preparing-for-uploading-aws-ami-images_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.1. Preparing to upload AWS AMI images</h2></div></div></div><p class="_abstract _abstract">
				Before uploading an AWS AMI image, you must configure a system for uploading the images.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have an Access Key ID configured in the <a class="link" href="https://aws.amazon.com/iam/">AWS IAM account manager</a>.
					</li><li class="listitem">
						You must have a writable <a class="link" href="https://docs.aws.amazon.com/AmazonS3/latest/gsg/CreatingABucket.html">S3 bucket</a> prepared.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install Python 3 and the <code class="literal command">pip</code> tool:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--qrf53bu"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnf install python3
# dnf install python3-pip</pre></div></div></li><li class="listitem"><p class="simpara">
						Install the <a class="link" href="https://aws.amazon.com/cli/">AWS command-line tools</a> with <code class="literal command">pip</code>:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6yf8pkb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># pip3 install awscli</pre></div></div></li><li class="listitem"><p class="simpara">
						Run the following command to set your profile. The terminal 
prompts you to provide your credentials, region and output format:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--xcji3du"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ aws configure
AWS Access Key ID [None]:
AWS Secret Access Key [None]:
Default region name [None]:
Default output format [None]:</pre></div></div></li><li class="listitem"><p class="simpara">
						Define a name for your bucket and use the following command to create a bucket:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--d9ywfe6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ BUCKET=<span class="emphasis"><em>bucketname</em></span>
$ aws s3 mb s3://$BUCKET</pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>bucketname</em></span> with the actual bucket name. It must be a globally unique name. As a result, your bucket is created.
					</p></li><li class="listitem"><p class="simpara">
						To grant permission to access the S3 bucket, create a <code class="literal">vmimport</code> S3 Role in the AWS Identity and Access Management (IAM), if you have not already done so in the past:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pdn40r0"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ printf '{ "Version": "2012-10-17", "Statement": [ { "Effect": "Allow", "Principal": { "Service": "vmie.amazonaws.com" }, "Action": "sts:AssumeRole", "Condition": { "StringEquals":{ "sts:Externalid": "vmimport" } } } ] }' &gt; trust-policy.json
$ printf '{ "Version":"2012-10-17", "Statement":[ { "Effect":"Allow", "Action":[ "s3:GetBucketLocation", "s3:GetObject", "s3:ListBucket" ], "Resource":[ "arn:aws:s3:::%s", "arn:aws:s3:::%s/*" ] }, { "Effect":"Allow", "Action":[ "ec2:ModifySnapshotAttribute", "ec2:CopySnapshot", "ec2:RegisterImage", "ec2:Describe*" ], "Resource":"*" } ] }' $BUCKET $BUCKET &gt; role-policy.json
$ aws iam create-role --role-name vmimport --assume-role-policy-document file://trust-policy.json
$ aws iam put-role-policy --role-name vmimport --policy-name vmimport --policy-document file://role-policy.json</pre></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-services-s3-commands.html">Using high-level (s3) commands with the AWS CLI</a>
					</li></ul></div></section><section class="section" id="uploading-an-ami-image-to-aws_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.2. Uploading an AMI image to AWS using the CLI</h2></div></div></div><p class="_abstract _abstract">
				You can use image builder to build <code class="literal">ami</code> images and push them directly to Amazon AWS Cloud service provider using the CLI.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have an <code class="literal">Access Key ID</code> configured in the <a class="link" href="https://aws.amazon.com/iam/">AWS IAM</a> account manager.
					</li><li class="listitem">
						You have a writable <a class="link" href="https://aws.amazon.com/s3/">S3 bucket</a> prepared.
					</li><li class="listitem">
						You have a defined blueprint.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Using the text editor, create a configuration file with the following content:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--cb6e77f"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">provider = "aws"

[settings]
accessKeyID = "AWS_ACCESS_KEY_ID"
secretAccessKey = "AWS_SECRET_ACCESS_KEY"
bucket = "AWS_BUCKET"
region = "AWS_REGION"
key = "IMAGE_KEY"</pre></div></div><p class="simpara">
						Replace values in the fields with your credentials for <code class="literal">accessKeyID</code>, <code class="literal">secretAccessKey</code>, <code class="literal">bucket</code>, and <code class="literal">region</code>. The <code class="literal">IMAGE_KEY</code> value is the name of your VM Image to be uploaded to EC2.
					</p></li><li class="listitem">
						Save the file as <span class="emphasis"><em>CONFIGURATION-FILE</em></span>.toml and close the text editor.
					</li><li class="listitem"><p class="simpara">
						Start the compose:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--jurdiho"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start <span class="emphasis"><em>BLUEPRINT-NAME</em></span> <span class="emphasis"><em>IMAGE-TYPE</em></span> <span class="emphasis"><em>IMAGE_KEY</em></span> <span class="emphasis"><em>CONFIGURATION-FILE</em></span>.toml</pre></div></div><p class="simpara">
						Replace:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="emphasis"><em>BLUEPRINT-NAME</em></span> with the name of the blueprint you created
							</li><li class="listitem">
								<span class="emphasis"><em>IMAGE-TYPE</em></span> with the <code class="literal">ami</code> image type.
							</li><li class="listitem">
								<span class="emphasis"><em>IMAGE_KEY</em></span> with the name of your VM Image to be uploaded to EC2.
							</li><li class="listitem"><p class="simpara">
								<span class="emphasis"><em>CONFIGURATION-FILE</em></span>.toml with the name of the configuration file of the cloud provider.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									You must have the correct IAM settings for the bucket you are 
going to send your customized image to. You have to set up a policy to 
your bucket before you are able to upload images to it.
								</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Check the status of the image build and upload it to AWS:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--n3yu4wh"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
						After the image upload process is complete, you can see the "FINISHED" status.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					To confirm that the image upload was successful:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Access <a class="link" href="https://us-east-2.console.aws.amazon.com/ec2/v2/home?region=us-east-2#Images:sort=name">EC2</a> on the menu and select the correct region in the AWS console. The image must have the <code class="literal">available</code> status, to indicate that it was successfully uploaded.
					</li><li class="listitem">
						On the dashboard, select your image and click <span class="guibutton"><code class="literal">Launch</code></span>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional Resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.aws.amazon.com/vm-import/latest/userguide/vmie_prereqs.html#vmimport-role">Required service role to import a VM</a>
					</li></ul></div></section><section class="section" id="pushing-ami-images-to-aws-cloud_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.3. Pushing images to AWS Cloud AMI</h2></div></div></div><p class="_abstract _abstract">
				You can push the output image that you create directly to the <span class="strong strong"><strong>Amazon AWS Cloud AMI</strong></span> service provider.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have <code class="literal">root</code> or <code class="literal">wheel</code> group user access to the system.
					</li><li class="listitem">
						You have opened the image builder interface of the RHEL web console in a browser.
					</li><li class="listitem">
						You have create a blueprint. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating an image builder blueprint in the web console interface</a>.
					</li><li class="listitem">
						You must have an Access Key ID configured in the <a class="link" href="https://aws.amazon.com/iam/">AWS IAM</a> account manager.
					</li><li class="listitem">
						You must have a writable <a class="link" href="https://aws.amazon.com/s3/">S3 bucket</a> prepared.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Click the <span class="strong strong"><strong>blueprint name</strong></span>.
					</li><li class="listitem">
						Select the tab <span class="guibutton">Images</span>.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create Image</span> to create your customized image.
					</p><p class="simpara">
						A pop-up window opens.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Type</strong></span> drop-down menu list, select <code class="literal">Amazon Machine Image Disk (.raw)</code>.
							</li><li class="listitem">
								Check the <span class="strong strong"><strong>Upload to AWS</strong></span> check box to upload your image to the AWS Cloud and click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								To authenticate your access to AWS, type your <code class="literal">AWS access key ID</code> and <code class="literal">AWS secret access key</code> in the corresponding fields. Click <span class="guibutton">Next</span>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									You can view your AWS secret access key only when you create a 
new Access Key ID. If you do not know your Secret Key, generate a new 
Access Key ID.
								</p></div></div></li><li class="listitem">
								Type the name of the image in the <code class="literal">Image name</code> field, type the Amazon bucket name in the <code class="literal">Amazon S3 bucket name</code> field and type the <code class="literal">AWS region</code> field for the bucket you are going to add your customized image to. Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								Review the information and click <span class="guibutton">Finish</span>.
							</p><p class="simpara">
								Optionally, you can click <span class="guibutton">Back</span> to modify any incorrect detail.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									You must have the correct IAM settings for the bucket you are 
going to send your customized image. This procedure uses the IAM Import 
and Export, so you have to set up <span class="strong strong"><strong>a policy</strong></span> to your bucket before you are able to upload images to it. For more information, see <a class="link" href="https://docs.aws.amazon.com/vm-import/latest/userguide/vmie_prereqs.html#iam-permissions-image">Required Permissions for IAM Users</a>.
								</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						A small pop-up on the upper right informs you of the saving 
progress. It also informs that the image creation has been initiated, 
the progress of this image creation and the subsequent upload to the AWS
 Cloud.
					</p><p class="simpara">
						After the process is complete, you can see the <span class="strong strong"><strong>Image build complete</strong></span> status.
					</p></li><li class="listitem">
						Click <a class="link" href="https://us-east-2.console.aws.amazon.com/ec2/v2/home?region=us-east-2#Images:sort=name">Service→EC2</a> on the menu and choose the <a class="link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-regions">correct region</a> in the AWS console. The image must have the <code class="literal">Available</code> status, to indicate that it is uploaded.
					</li><li class="listitem">
						On the dashboard, select your image and click <span class="guibutton"><code class="literal">Launch</code></span>.
					</li><li class="listitem">
						A new window opens. Choose an instance type according to the resources you need to start your image. Click <span class="guibutton">Review and <code class="literal">Launch</code></span>.
					</li><li class="listitem">
						Review your instance start details. You can edit each section if you need to make any changes. Click <span class="guibutton"><code class="literal">Launch</code></span>
					</li><li class="listitem"><p class="simpara">
						Before you start the instance, select a public key to access it.
					</p><p class="simpara">
						You can either use the key pair you already have or you can create a new key pair.
					</p><p class="simpara">
						Follow the next steps to create a new key pair in EC2 and attach it to the new instance.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the drop-down menu list, select <span class="strong strong"><strong>Create a new key pair</strong></span>.
							</li><li class="listitem">
								Enter the name to the new key pair. It generates a new key pair.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Download Key Pair</strong></span> to save the new key pair on your local system.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Then, you can click <span class="guibutton"><code class="literal">Launch Instance</code></span> to start your instance.
					</p><p class="simpara">
						You can check the status of the instance, which displays as <span class="strong strong"><strong>Initializing</strong></span>.
					</p></li><li class="listitem">
						After the instance status is <span class="strong strong"><strong>running</strong></span>, the <span class="guibutton">Connect</span> button becomes available.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Connect</span>. A pop-up window appears with instructions on how to connect using SSH.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Select <span class="strong strong"><strong>A standalone SSH client</strong></span> as the preferred connection method to and open a terminal.
							</li><li class="listitem"><p class="simpara">
								In the location you store your private key, ensure that your key
 is publicly viewable for SSH to work. To do so, run the command:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ou8a5di"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ chmod 400 &lt;your-instance-name.pem&gt;_</pre></div></div></li><li class="listitem"><p class="simpara">
								Connect to your instance using its Public DNS:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pcfdofz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ ssh -i "&lt;_your-instance-name.pem_"&gt; ec2-user@&lt;_your-instance-IP-address_&gt;</pre></div></div></li><li class="listitem"><p class="simpara">
								Type <code class="literal">yes</code> to confirm that you want to continue connecting.
							</p><p class="simpara">
								As a result, you are connected to your instance using SSH.
							</p></li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Check if you are able to perform any action while connected to your instance using SSH.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/support/cases/#/case/new/open-case?intcmp=hp|a|a3|case&amp;caseCreate=true">Open a case on Red Hat Customer Portal</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html">Connecting to your Linux instance using SSH</a>
					</li><li class="listitem">
						<a class="link" href="https://console.aws.amazon.com/support/home?region=us-east-2#/">Open support cases</a>
					</li></ul></div></section><section class="section" id="preparing-for-uploading-azue-vhd-images_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.4. Preparing to upload Microsoft Azure VHD images</h2></div></div></div><p class="_abstract _abstract">
				You can use image builder to prepare a VHD image that can be uploaded to <code class="literal">Microsoft Azure</code> cloud.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have a usable Microsoft Azure resource group and storage account.
					</li><li class="listitem">
						You have python2 installed because the <code class="literal">AZ CLI</code> tool depends specifically on python 2.7.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Import the Microsoft repository key:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--t3p7eio"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># rpm --import https://packages.microsoft.com/keys/microsoft.asc</pre></div></div></li><li class="listitem"><p class="simpara">
						Create a local <code class="literal">azure-cli</code> repository information:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--p304jt6"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># sh -c 'echo -e "[azure-cli]\nname=Azure CLI\nbaseurl=https://packages.microsoft.com/yumrepos/azure-cli\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" &gt; /etc/yum.repos.d/azure-cli.repo'</pre></div></div></li><li class="listitem"><p class="simpara">
						Install the Microsoft Azure CLI:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0ypsmfz"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># dnfdownloader azure-cli
# rpm -ivh --nodeps azure-cli-2.0.64-1.el7.x86_64.rpm</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The downloaded version of the Microsoft Azure CLI package may vary depending on the current available version.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Run the Microsoft Azure CLI:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--jlrn4cj"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ az login</pre></div></div><p class="simpara">
						The terminal shows the following message <code class="literal">Note, we have launched a browser for you to login. For old experience with device code, use "az login --use-device-code</code>. Then, the terminal opens a browser with a link to <a class="link" href="https://microsoft.com/devicelogin">https://microsoft.com/devicelogin</a> from where you can login.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If you are running a remote (SSH) session, the <a class="link" href="https://microsoft.com/devicelogin">https://microsoft.com/devicelogin</a>
 link will not open in the browser. In this case, you can copy the link 
to a browser and login to authenticate your remote session. To sign in, 
use a web browser to open the page <a class="link" href="https://microsoft.com/devicelogin">https://microsoft.com/devicelogin</a> and enter the device code to authenticate.
						</p></div></div></li><li class="listitem"><p class="simpara">
						List the keys for the storage account in Microsoft Azure:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--wrbhtoy"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ GROUP=<span class="emphasis"><em>resource-group-name</em></span>
$ ACCOUNT=<span class="emphasis"><em>storage-account-name</em></span>
$ az storage account keys list --resource-group $GROUP --account-name $ACCOUNT</pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>resource-group-name</em></span> with name of your Microsoft Azure resource group and <span class="emphasis"><em>storage-account-name</em></span> with name of your Microsoft Azure storage account.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You can list the available resources using the following command:
						</p></div></div><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--6q5medr"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ az resource list</pre></div></div></li><li class="listitem"><p class="simpara">
						Make note of value <code class="literal">key1</code> in the output of the previous command, and assign it to an environment variable:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--uubiy6n"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ KEY1=<span class="emphasis"><em>value</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
						Create a storage container:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--br8qfuh"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ CONTAINER=<span class="emphasis"><em>storage-account-name</em></span>
$ az storage container create --account-name $ACCOUNT \
--account-key $KEY1 --name $CONTAINER</pre></div></div><p class="simpara">
						Replace <span class="emphasis"><em>storage-account-name</em></span> with name of the storage account.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-yum?view=azure-cli-latest">Microsoft Azure CLI.</a>
					</li></ul></div></section><section class="section" id="uploading-vhd-images-to-azure_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.5. Uploading VHD images to Microsoft Azure cloud</h2></div></div></div><p class="_abstract _abstract">
				After you have created your customized VHD image, you can upload it to the Microsoft Azure cloud.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Your system must be set up for uploading Microsoft Azure VHD images. See <a class="link" href="#preparing-for-uploading-azue-vhd-images_creating-cloud-images-with-composer" title="10.4.&nbsp;Preparing to upload Microsoft Azure VHD images">Preparing to upload Microsoft Azure VHD images</a>.
					</li><li class="listitem"><p class="simpara">
						You must have a Microsoft Azure VHD image created by image builder.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								In the CLI, use the <code class="literal">vhd</code> output type.
							</li><li class="listitem"><p class="simpara">
								In the GUI, use the <code class="literal">Azure Disk Image (.vhd)</code> image type.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									When creating a <code class="literal">.vhd</code> image using the CLI, image builder writes temporary files to the <code class="literal">/var</code> subdirectory. To prevent the <code class="literal">.vhd</code> image creation from failing, increase the <code class="literal">/var</code> subdirectory capacity to at least 15 to 20 GB free space to ensure availability.
								</p></div></div></li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Push the image to Microsoft Azure and create an instance from it:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--nkqtobi"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ VHD=<span class="emphasis"><em>25ccb8dd-3872-477f-9e3d-c2970cd4bbaf-disk.vhd</em></span>
$ az storage blob upload --account-name $ACCOUNT --container-name $CONTAINER --file $VHD --name $VHD --type page
...</pre></div></div></li><li class="listitem"><p class="simpara">
						After the upload to the Microsoft Azure Blob storage completes, create a Microsoft Azure image from it:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7d0nl9j"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ az image create --resource-group $GROUP --name $VHD --os-type linux --location eastus --source https://$ACCOUNT.blob.core.windows.net/$CONTAINER/$VHD
 - Running ...</pre></div></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create an instance either with the Microsoft Azure portal, or a command similar to the following:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9ch3lik"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ az vm create --resource-group $GROUP --location eastus --name $VHD --image $VHD --admin-username azure-user --generate-ssh-keys
 - Running ...</pre></div></div></li><li class="listitem">
						Use your private key via SSH to access the resulting instance. Log in as <code class="literal">azure-user</code>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional Resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6955577">Composing an image for the <code class="literal">.vhd</code> format fails.</a>
					</li></ul></div></section><section class="section" id="pushing-vhd-imaged-to-azure-cloud_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.6. Pushing VHD images to Microsoft Azure cloud</h2></div></div></div><p class="_abstract _abstract">
				You can create <code class="literal">.vhd</code> images using image builder. Then, you can push the output <code class="literal">.vhd</code> images to a Blob Storage of the Microsoft Azure Cloud service provider.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have root access to the system.
					</li><li class="listitem">
						You have access to the image builder interface of the RHEL web console.
					</li><li class="listitem">
						You created a blueprint. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating an image builder blueprint in the web console interface</a>.
					</li><li class="listitem">
						You have a <a class="link" href="https://portal.azure.com/#create/Microsoft.StorageAccount">Microsoft Storage Account</a> created.
					</li><li class="listitem">
						You have a writable <a class="link" href="https://portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts">Blob Storage</a> prepared.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In the image builder dashboard, select the blueprint you want to use.
					</li><li class="listitem">
						Click the <span class="guibutton">Images</span> tab.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create Image</span> to create your customized <code class="literal">.vhd</code> image.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Create image</strong></span> wizard opens.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Select <code class="literal">Microsoft Azure (.vhd)</code> from the <span class="strong strong"><strong>Type</strong></span> drop-down menu list.
							</li><li class="listitem">
								Check the <span class="strong strong"><strong>Upload to Azure</strong></span> check box to upload your image to the Microsoft Azure Cloud.
							</li><li class="listitem">
								Enter the <span class="strong strong"><strong>Image Size</strong></span> and click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Upload to Azure</strong></span> page, enter the following information:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the Authentication page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Your <span class="strong strong"><strong>Storage account</strong></span> name. You can find it on the <span class="strong strong"><strong>Storage account</strong></span> page, in the <a class="link" href="https://portal.azure.com/">Microsoft Azure portal</a>.
									</li><li class="listitem">
										Your <span class="strong strong"><strong>Storage access key</strong></span>: You can find it on the <span class="strong strong"><strong>Access Key</strong></span> Storage page.
									</li><li class="listitem">
										Click <span class="guibutton">Next</span>.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>Authentication</strong></span> page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										The image name.
									</li><li class="listitem">
										The <span class="strong strong"><strong>Storage container</strong></span>. It is the blob container to which you will upload the image. Find it under the <span class="strong strong"><strong>Blob service</strong></span> section, in the <a class="link" href="https://portal.azure.com/">Microsoft Azure portal</a>.
									</li><li class="listitem">
										Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem">
						On the <span class="strong strong"><strong>Review</strong></span> page, click <span class="guibutton">Create</span>. The image build and upload processes start.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Next Steps</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						To access the image you pushed into <span class="strong strong"><strong>Microsoft Azure Cloud</strong></span>, access the <a class="link" href="https://portal.azure.com/">Microsoft Azure portal</a>.
					</li><li class="listitem">
						In the search bar, type "storage account" and click <span class="strong strong"><strong>Storage accounts</strong></span> from the list.
					</li><li class="listitem">
						On the search bar, type "Images" and select the first entry under <span class="strong strong"><strong>Services</strong></span>. You are redirected to the <span class="strong strong"><strong>Image dashboard</strong></span>.
					</li><li class="listitem">
						On the navigation panel, click <span class="strong strong"><strong>Containers</strong></span>.
					</li><li class="listitem">
						Find the container you created. Inside the container is the <code class="literal"><span class="emphasis"><em>your_image_name</em></span>.vhd</code> file you created and pushed.
					</li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					Verify that you can create a VM image and launch it.
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						In the search bar, type images account and click <span class="strong strong"><strong>Images</strong></span> from the list.
					</li><li class="listitem">
						Click <span class="guibutton">+Create</span>.
					</li><li class="listitem">
						From the dropdown list, choose the resource group you used earlier.
					</li><li class="listitem">
						Enter a name for the image.
					</li><li class="listitem">
						For the <span class="strong strong"><strong>OS type</strong></span>, select <span class="strong strong"><strong>Linux</strong></span>.
					</li><li class="listitem">
						For the <span class="strong strong"><strong>VM generation</strong></span>, select <span class="strong strong"><strong>Gen 2</strong></span>.
					</li><li class="listitem">
						Under <span class="strong strong"><strong>Storage Blob</strong></span>, click <span class="guibutton">Browse</span> and click through the storage accounts and container until you reach your VHD file.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Select</strong></span> at the end of the page.
					</li><li class="listitem">
						Choose an Account Type, for example, <span class="strong strong"><strong>Standard SSD</strong></span>.
					</li><li class="listitem">
						Click <span class="guibutton">Review + Create</span> and then <span class="guibutton">Create</span>. Wait a few moments for the image creation.
					</li></ol></div><p>
				To launch the VM, follow the steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Click <span class="guibutton">Go to resource</span>.
					</li><li class="listitem">
						Click <span class="guibutton">+ Create VM</span> from the menu bar on the header.
					</li><li class="listitem">
						Enter a name for your virtual machine.
					</li><li class="listitem">
						Complete the <span class="strong strong"><strong>Size</strong></span> and <span class="strong strong"><strong>Administrator account</strong></span> sections.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Review + Create</span> and then <span class="guibutton">Create</span>. You can see the deployment progress.
					</p><p class="simpara">
						After the deployment finishes, click the virtual machine name to 
retrieve the public IP address of the instance to connect by using SSH.
					</p></li><li class="listitem">
						Open a terminal to create an SSH connection to connect to VM.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/storage/">Microsoft Azure Storage Documentation</a>.
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/storage/common/storage-account-create?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&amp;tabs=azure-portal">Create a Microsoft Azure Storage account</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/support/cases/#/case/new/open-case?intcmp=hp|a|a3|case&amp;caseCreate=true">Open a case on Red Hat Customer Portal</a>.
					</li><li class="listitem">
						<a class="link" href="https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview">Help + support</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/support/contact/">Contacting Red Hat</a>.
					</li></ul></div></section><section class="section" id="uploading-vmdk-images-to-vsphere_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.7. Uploading VMDK images and creating a RHEL virtual machine in vSphere</h2></div></div></div><p class="_abstract _abstract">
				Upload a .vmdk image to VMware vSphere using the <code class="literal">govc import.vmdk</code> CLI tool.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Uploading the image via the UI is not supported.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint with username and password customizations.
					</li><li class="listitem">
						You created an <code class="literal">.vmdk</code> image by using image builder and downloaded it to your host system.
					</li><li class="listitem">
						You installed the <code class="literal">govc import.vmdk</code> CLI tool.
					</li><li class="listitem"><p class="simpara">
						You configured the <code class="literal">govc import.vmdk</code> CLI tool client.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								you must set the following values in the environment:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--h8ovh3h"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="literallayout language-none codeblock codeblock--processed">GOVC_URL
GOVC_DATACENTER
GOVC_FOLDER
GOVC_DATASTORE
GOVC_RESOURCE_POOL
GOVC_NETWORK</pre></div></div></li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Navigate to the directory where you downloaded your <code class="literal">.vmdk</code> image.
					</li><li class="listitem"><p class="simpara">
						Launch the image on vSphere by following the steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Import the <code class="literal">.vmdk</code> image in to vSphere:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--pmr5cs4"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ govc import.vmdk ./composer-api.vmdk <span class="emphasis"><em><span class="replaceable replaceable">foldername</span></em></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Create the VM in vSphere without powering it on:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--5c6ly7u"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">govc vm.create \
-net.adapter=vmxnet3 \
-m=4096 -c=2 -g=rhel8_64Guest \
-firmware=efi -disk=”<span class="emphasis"><em><span class="replaceable replaceable">foldername</span></em></span>/composer-api.vmdk” \
-disk.controller=scsi -on=false \
 vmname</pre></div></div></li><li class="listitem"><p class="simpara">
								Power-on the VM:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--3fx2jr7"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">govc vm.power -on <span class="emphasis"><em>vmname</em></span></pre></div></div></li><li class="listitem"><p class="simpara">
								Retrieve the VM IP address:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ivxb0sk"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">HOST=$(govc vm.ip <span class="emphasis"><em><span class="replaceable replaceable">vmname</span></em></span>)</pre></div></div></li><li class="listitem"><p class="simpara">
								Use SSH to log in to the VM, using the username and password you specified in your blueprint:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--gdroaod"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ ssh <span class="emphasis"><em>admin@HOST</em></span></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If you copied the <code class="literal">.vmdk</code> image from your local host to the destination using the <code class="literal">govc datastore.upload</code> command, using the image is not supported. There is no option to use the <code class="literal">import.vmdk</code> command in the vSphere GUI and as a consequence, the vSphere GUI does not support the direct upload, as a consequence, the <code class="literal">.vmdk</code> image is not directly usable from the vSphere GUI.
								</p></div></div></li></ol></div></li></ol></div></section><section class="section" id="assembly_uploading-images-to-gcp-with-image-builder_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.8. Uploading images to GCP with image builder</h2></div></div></div><p>
				With image builder you can build a <code class="literal">gce</code> image, provide credentials for your user or GCP service account, and then upload the <code class="literal">gce</code> image directly to the GCP environment.
			</p><section class="section" id="proc_uploading-a-gce-image-to-gcp_assembly_uploading-images-to-gcp-with-image-builder"><div class="titlepage"><div><div><h3 class="title">10.8.1. Uploading a gce image to GCP using the CLI</h3></div></div></div><p>
					Follow the procedure to set up a configuration file with credentials to upload your <code class="literal">gce</code> image to GCP.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You have a user or service account Google credentials to upload 
images to GCP. The account associated with the credentials must have at 
least the following IAM roles assigned:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<code class="literal">roles/storage.admin</code> - to create and delete storage objects
								</li><li class="listitem">
									<code class="literal">roles/compute.storageAdmin</code> - to import a VM image to Compute Engine.
								</li></ul></div></li><li class="listitem">
							You have an existing GCP bucket.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Using a text editor, create a <code class="literal">gcp-config.toml</code> configuration file with the following content:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--joyat1z"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">provider = "gcp"

[settings]
bucket = "GCP_BUCKET"
region = "GCP_STORAGE_REGION"
object = "OBJECT_KEY"
credentials = "GCP_CREDENTIALS"</pre></div></div><p class="simpara">
							Where:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">GCP_BUCKET</code> points to an existing bucket. It is used to store the intermediate storage object of the image which is being uploaded.
								</li><li class="listitem">
									<code class="literal">GCP_STORAGE_REGION</code> is both a regular Google storage region and, a dual or multi region.
								</li><li class="listitem">
									<code class="literal">OBJECT_KEY</code> is the name of an 
intermediate storage object. It must not exist before the upload, and it
 is deleted when the upload process is done. If the object name does not
 end with <code class="literal">.tar.gz</code>, the extension is automatically added to the object name.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">GCP_CREDENTIALS</code> is a 
Base64-encoded scheme of the credentials JSON file downloaded from GCP. 
The credentials determine which project the GCP uploads the image to.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Specifying <code class="literal">GCP_CREDENTIALS</code> in the <code class="literal">gcp-config.toml</code>
 is optional if you use a different mechanism to authenticate with GCP. 
For more details on different ways to authenticate with GCP, see <a class="link" href="https://www.osbuild.org/guides/image-builder-on-premises/uploading-to-gcp.html#authenticating-with-gcp">Authentication with GCP</a>.
									</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Create a compose with an additional image name and cloud provider profile:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--9xzn1mb"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo composer-cli compose start BLUEPRINT-NAME gce IMAGE_KEY gcp-config.toml</pre></div></div><p class="simpara">
							Note: The image build, upload, and cloud registration processes can take up to ten minutes to complete.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify that the image status is FINISHED:
						</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ljsb152"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ sudo composer-cli compose status</pre></div></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://cloud.google.com/storage/docs/access-control/iam">Identity and Access Management</a>.
						</li><li class="listitem">
							<a class="link" href="https://cloud.google.com/storage/docs/creating-buckets">Create storage buckets</a>.
						</li></ul></div></section><section class="section" id="con_authentication-with-gcp_assembly_uploading-images-to-gcp-with-image-builder"><div class="titlepage"><div><div><h3 class="title">10.8.2. Authenticating with GCP</h3></div></div></div><p>
					You can use several different types of credentials with image 
builder to authenticate with GCP. If image builder configuration is set 
to authenticate with GCP using multiple sets of credentials, it uses the
 credentials in the following order of preference:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Credentials specified with the <code class="literal">composer-cli</code> command in the configuration file.
						</li><li class="listitem">
							Credentials configured in the <code class="literal">osbuild-composer</code> worker configuration.
						</li><li class="listitem"><p class="simpara">
							Application Default Credentials from the <code class="literal">Google GCP SDK</code> library, which tries to automatically find a way to authenticate using the following options:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									If the <span class="emphasis"><em><span class="replaceable replaceable">GOOGLE_APPLICATION_CREDENTIALS</span></em></span>
 environment variable is set, Application Default Credentials tries to 
load and use credentials from the file pointed to by the variable.
								</li><li class="listitem"><p class="simpara">
									Application Default Credentials tries to authenticate using the
 service account attached to the resource that is running the code. For 
example, Google Compute Engine VM.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										You must use the GCP credentials to determine which GCP 
project to upload the image to. Therefore, unless you want to upload all
 of your images to the same GCP project, you always must specify the 
credentials in the <code class="literal">gcp-config.toml</code> configuration file with the <code class="literal">composer-cli</code> command.
									</p></div></div></li></ol></div></li></ol></div><section class="section" id="proc_specifying-credentials-with-the-composer-cli-command_assembly_uploading-images-to-gcp-with-image-builder"><div class="titlepage"><div><div><h4 class="title">10.8.2.1. Specifying credentials with the composer-cli command</h4></div></div></div><p>
						You can specify GCP authentication credentials in the provided upload target configuration <code class="literal">gcp-config.toml</code>. Use a <code class="literal">Base64</code>-encoded scheme of the Google account credentials JSON file to save time.
					</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								In the provided upload target configuration <code class="literal">gcp-config.toml</code>, set the credentials:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--tm1g9ke"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">provider = "gcp"

[settings]
provider = "gcp"

[settings]
...
credentials = "GCP_CREDENTIALS"</pre></div></div></li><li class="listitem"><p class="simpara">
								To get the encoded content of the Google account credentials file with the path stored in <code class="literal">GOOGLE_APPLICATION_CREDENTIALS</code> environment variable, run the following command:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--m6hyb9f"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ base64 -w 0 "${GOOGLE_APPLICATION_CREDENTIALS}"</pre></div></div></li></ul></div></section><section class="section" id="proc_specifying-credentials-in-the-osbuild-composer-worker-configuration_assembly_uploading-images-to-gcp-with-image-builder"><div class="titlepage"><div><div><h4 class="title">10.8.2.2. Specifying credentials in the osbuild-composer worker configuration</h4></div></div></div><p>
						You can configure GCP authentication credentials to be used for 
GCP globally for all image builds. This way, if you want to import 
images to the same GCP project, you can use the same credentials for all
 image uploads to GCP.
					</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								In the <code class="literal">/etc/osbuild-worker/osbuild-worker.toml</code> worker configuration, set the following credential value:
							</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--aw886qc"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">[gcp]
credentials = "PATH_TO_GCP_ACCOUNT_CREDENTIALS"</pre></div></div></li></ul></div></section></section></section><section class="section" id="pushing-vmware-images-to-vsphere_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.9. Pushing VMDK images to vSphere using the GUI image builder tool</h2></div></div></div><p class="_abstract _abstract">
				You can build VMware images by using the GUI image builder tool and 
push the images directly to your vSphere instance, to avoid having to 
download the image file and push it manually. To create <code class="literal">.vmdk</code> images using image builder directly to vSphere instances service provider, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have <code class="literal">root</code> or <code class="literal">wheel</code> group user access to the system.
					</li><li class="listitem">
						You have opened the https://localhost:9090/ interface of the RHEL web console in a browser.
					</li><li class="listitem">
						You have created a blueprint. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating an image builder blueprint in the web console interface</a>.
					</li><li class="listitem">
						You have a <a class="link" href="https://my.vmware.com/web/vmware/login">vSphere Account</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						For the blueprint you created, click the <span class="guibutton">Images</span> tab .
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create Image</span> to create your customized image.
					</p><p class="simpara">
						The Image type window opens.
					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Image type</strong></span> window:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the dropdown menu, select the Type: VMware vSphere (.vmdk).
							</li><li class="listitem">
								Check the <span class="strong strong"><strong>Upload to VMware</strong></span> checkbox to upload your image to the vSphere.
							</li><li class="listitem">
								Optional: Set the size of the image you want to instantiate. The minimal default size is 2GB.
							</li><li class="listitem">
								Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Upload to VMware</strong></span> window, under <span class="strong strong"><strong>Authentication</strong></span>, enter the following details:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								<span class="strong strong"><strong>Username</strong></span>: username of the vSphere account.
							</li><li class="listitem">
								<span class="strong strong"><strong>Password</strong></span>: password of the vSphere account.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Upload to VMware</strong></span> window, under <span class="strong strong"><strong>Destination</strong></span>, enter the following details:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								<span class="strong strong"><strong>Image name</strong></span>: a name for the image to be uploaded.
							</li><li class="listitem">
								<span class="strong strong"><strong>Host</strong></span>: The URL of your VMware vSphere where the image will be uploaded.
							</li><li class="listitem">
								<span class="strong strong"><strong>Cluster</strong></span>: The name of the cluster where the image will be uploaded.
							</li><li class="listitem">
								<span class="strong strong"><strong>Data center</strong></span>: The name of the data center where the image will be uploaded.
							</li><li class="listitem">
								<span class="strong strong"><strong>Data store</strong></span>:The name of the Data store where the image will be uploaded.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Next</strong></span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Review</strong></span> window, review the details of the image creation and click <span class="guibutton">Finish</span>.
					</p><p class="simpara">
						You can click <span class="guibutton">Back</span> to modify any incorrect detail.
					</p><p class="simpara">
						Image builder adds the compose of a RHEL vSphere image to the 
queue, and creates and uploads the image to the Cluster on the vSphere 
instance you specified.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The image build and upload processes take a few minutes to complete.
						</p></div></div><p class="simpara">
						After the process is complete, you can see the <span class="strong strong"><strong>Image build complete</strong></span> status.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After the image status upload is completed successfully, you can 
create a Virtual Machine (VM) from the image you uploaded and login into
 it. To do so:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Access VMware vSphere Client.
					</li><li class="listitem">
						Search for the image in the Cluster on the vSphere instance you specified.
					</li><li class="listitem"><p class="simpara">
						You can create a new VM from the image you uploaded:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Select the image you uploaded.
							</li><li class="listitem">
								Right-click the selected image.
							</li><li class="listitem"><p class="simpara">
								Click <code class="literal">New Virtual Machine</code>.
							</p><p class="simpara">
								A <span class="strong strong"><strong>New Virtual Machine</strong></span> window opens.
							</p><p class="simpara">
								In the <span class="strong strong"><strong>New Virtual Machine</strong></span> window, provide the following details:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Select <code class="literal">New Virtual Machine</code>.
									</li><li class="listitem">
										Select a name and a folder for your VM.
									</li><li class="listitem">
										Select a computer resource: choose a destination computer resource for this operation.
									</li><li class="listitem">
										Select storage: For example, select NFS-Node1
									</li><li class="listitem">
										Select compatibility: The image should be BIOS only.
									</li><li class="listitem">
										Select a guest operating system: For example, select <span class="emphasis"><em>Linux</em></span> and <span class="emphasis"><em>Red Hat Fedora (64-bit)</em></span>.
									</li><li class="listitem">
										<span class="strong strong"><strong>Customize hardware</strong></span>: When creating a VM, on the <span class="strong strong"><strong>Device Configuration</strong></span> button on the upper right, delete the default New Hard Disk and use the drop-down to select an Existing Hard Disk disk image:
									</li><li class="listitem">
										Ready to complete: Review the details and click <span class="strong strong"><strong>Finish</strong></span> to create the image.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Navigate to the <span class="strong strong"><strong>VMs</strong></span> tab.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										From the list, select the VM you created.
									</li><li class="listitem">
										Click the <span class="strong strong"><strong>Start</strong></span> button from the panel. A new window appears, showing the VM image loading.
									</li><li class="listitem">
										Log in with the credentials you created for the blueprint.
									</li><li class="listitem"><p class="simpara">
										You can verify if the packages you added to the blueprint are installed. For example:
									</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--t9zeov9"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ rpm -qa | grep firefox</pre></div></div></li></ol></div></li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.vmware.com/en/VMware-vSphere/5.5/com.vmware.vsphere.hostclient.doc/GUID-DE4F3DF7-F2C3-4679-B096-A8DE255CA0AD.html">Installing the vSphere Client</a>.
					</li></ul></div></section><section class="section" id="proc_pushing-customized-images-to-oracle-cloud-infrastructure_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.10. Pushing customized images to OCI</h2></div></div></div><p>
				With image builder, you can build customized images and push them 
directly to your Oracle Cloud Infrastructure (OCI) instance. Then, you 
can start an image instance from the OCI dashboard.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have <code class="literal">root</code> or <code class="literal">wheel</code> group user access to the system.
					</li><li class="listitem">
						You have an <a class="link" href="https://www.oracle.com/cloud/sign-in.html">Oracle Cloud</a> account.
					</li><li class="listitem">
						You must be granted security access in an <span class="strong strong"><strong>OCI policy</strong></span> by your administrator.
					</li><li class="listitem">
						You have created an OCI Bucket in the <code class="literal">OCI_REGION</code> of your choice.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open the image builder interface of the web console in a browser.
					</li><li class="listitem">
						Click <span class="guibutton">Create blueprint</span>. The <span class="strong strong"><strong>Create blueprint</strong></span> wizard opens.
					</li><li class="listitem">
						On the <span class="strong strong"><strong>Details</strong></span> page, enter a name for the blueprint, and optionally, a description. Click <span class="guibutton">Next</span>.
					</li><li class="listitem">
						On the <span class="strong strong"><strong>Packages</strong></span> page, select the components and packages that you want to include in the image. Click <span class="guibutton">Next</span>.
					</li><li class="listitem">
						On the <span class="strong strong"><strong>Customizations</strong></span> page, configure the customizations that you want for your blueprint. Click <span class="guibutton">Next</span>.
					</li><li class="listitem">
						On the <span class="strong strong"><strong>Review</strong></span> page, click <span class="guibutton">Create</span>.
					</li><li class="listitem">
						To create an image, click <span class="guibutton">Create Image</span>. The <span class="strong strong"><strong>Create image</strong></span> wizard opens.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Image output</strong></span> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>"Select a blueprint"</strong></span> drop-down menu, select the blueprint you want.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>"Image output type"</strong></span> drop-down menu, select <code class="literal">Oracle Cloud Infrastructure (.qcow2)</code>.
							</li><li class="listitem">
								Check the <span class="strong strong"><strong>"Upload OCI</strong></span> check box to upload your image to the OCI.
							</li><li class="listitem">
								Enter the <span class="strong strong"><strong>"image size"</strong></span>. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Upload to OCI - Authentication</strong></span> page, enter the following mandatory details:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								User OCID: you can find it in the Console on the page showing the user’s details.
							</li><li class="listitem">
								Private key
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Upload to OCI - Destination</strong></span> page, enter the following mandatory details and click <span class="guibutton">Next</span>.:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Image name: a name for the image to be uploaded.
							</li><li class="listitem">
								OCI bucket
							</li><li class="listitem">
								Bucket namespace
							</li><li class="listitem">
								Bucket region
							</li><li class="listitem">
								Bucket compartment
							</li><li class="listitem">
								Bucket tenancy
							</li></ol></div></li><li class="listitem">
						Review the details in the wizard and click <span class="guibutton">Finish</span>.
					</li></ol></div><p>
				Image builder adds the compose of a RHEL <code class="literal">.qcow2</code> image to the queue.
			</p><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Access the <a class="link" href="https://www.oracle.com/cloud/">OCI dashboard</a> → Custom Images.
					</li><li class="listitem">
						Select the <code class="literal">Compartment</code> you specified for the image and locate the image in the <span class="strong strong"><strong>Import image</strong></span> table.
					</li><li class="listitem">
						Click the image name and verify the image information.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.oracle.com/en-us/iaas/Content/Compute/Tasks/managingcustomimages.htm">Managing custom images in the OCI.</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/managingbuckets.htm">Managing buckets in the OCI.</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/securing_networks/assembly_using-secure-communications-between-two-systems-with-openssh_securing-networks#generating-ssh-key-pairs_assembly_using-secure-communications-between-two-systems-with-openssh">Generating SSH keys.</a>
					</li></ul></div></section><section class="section" id="uploading-and-qcow2-image-on-openstack_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.11. Uploading QCOW2 images to OpenStack</h2></div></div></div><p class="_abstract _abstract">
				With the image builder tool, you can create customized <code class="literal">.qcow2</code> images that are suitable for uploading to OpenStack cloud deployments, and starting instances there.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Do not mistake the generic <code class="literal">QCOW2</code> image
 type output format you create by using image builder with the OpenStack
 image type, which is also in the QCOW2 format, but contains further 
changes specific to OpenStack.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a blueprint.
					</li><li class="listitem">
						created a <code class="literal">QCOW2</code> image by using image builder. See
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the compose of a <code class="literal">QCOW2</code> image.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--0u3yz9c"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose start <span class="emphasis"><em>blueprint_name</em></span> openstack</pre></div></div></li><li class="listitem"><p class="simpara">
						Check the status of the building.
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--7h0id1f"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose status</pre></div></div><p class="simpara">
						After the image build finishes, you can download the image.
					</p></li><li class="listitem"><p class="simpara">
						Download the <code class="literal">QCOW2</code> image:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--ysn7egp"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># composer-cli compose image <span class="emphasis"><em>UUID</em></span></pre></div></div></li><li class="listitem">
						Access the OpenStack dashboard and click <span class="guibutton">+Create Image</span>.
					</li><li class="listitem"><p class="simpara">
						On the left menu, select the <code class="literal">Admin</code> tab.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								From the <code class="literal">System Panel</code>, click <code class="literal">Image</code>.
							</p><p class="simpara">
								The <code class="literal">Create An Image</code> wizard opens.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						In the <code class="literal">Create An Image</code> wizard:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter a name for the image
							</li><li class="listitem">
								Click <code class="literal">Browse</code> to upload the <code class="literal">QCOW2</code> image.
							</li><li class="listitem">
								From the <code class="literal">Format</code> dropdown list, select the <code class="literal">QCOW2 - QEMU Emulator</code>.
							</li><li class="listitem"><p class="simpara">
								Click <span class="guibutton">Create Image</span>.
							</p><p class="simpara">
								<span class="inlinemediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_a_customized_RHEL_system_image-en-US/images/a27cd8c1d12d87331c88a398335105a9/composer-openstack-upload-image.png" class="rh_docs--zoom" title="composer openstack upload image"><img src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/composer-openstack-upload-image.png" alt="composer openstack upload image"></a></span>

							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						On the left menu, select the <code class="literal">Project</code> tab.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <code class="literal">Compute</code> menu, select <code class="literal">Instances</code>.
							</li><li class="listitem"><p class="simpara">
								Click the <span class="guibutton"><code class="literal">Launch Instance</code></span> button.
							</p><p class="simpara">
								The <code class="literal">Launch Instance</code> wizard opens.
							</p></li><li class="listitem">
								On the <code class="literal">Details</code> page, enter a name for the instance. Click <span class="guibutton">Next</span>.
							</li><li class="listitem">
								On the <code class="literal">Source</code> page, select the name of the image you uploaded. Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								On the <code class="literal">Flavor</code> page, select the machine resources that best fit your needs. Click <span class="guibutton"><code class="literal">Launch</code></span>.
							</p><p class="simpara">
								<span class="inlinemediaobject"><a href="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_a_customized_RHEL_system_image-en-US/images/03af63aa9192bfc684112aadd15f44c0/composer-openstack-start-instance.png" class="rh_docs--zoom" title="composer openstack start instance"><img src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/composer-openstack-start-instance.png" alt="composer openstack start instance"></a></span>

							</p></li></ol></div></li><li class="listitem">
						You can run the image instance using any mechanism (CLI or 
OpenStack web UI) from the image. Use your private key via SSH to access
 the resulting instance. Log in as <code class="literal">cloud-user</code>.
					</li></ol></div></section><section class="section" id="preparing-uploading-images-to-alibaba_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.12. Preparing to upload customized RHEL images to Alibaba</h2></div></div></div><p class="_abstract _abstract">
				To deploy a customized RHEL image to the <code class="literal">Alibaba Cloud</code>,
 first you need to verify the customized image. The image needs a 
specific configuration to boot successfully, because Alibaba Cloud 
requests the custom images to meet certain requirements before you use 
it.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Image builder generates images that conform to Alibaba’s requirements. However, Red Hat recommends also using the Alibaba <span class="strong strong"><strong>image_check tool</strong></span> to verify the format compliance of your image.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have created an Alibaba image by using image builder.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Connect to the system containing the image that you want to check by using the Alibaba <span class="strong strong"><strong>image_check tool</strong></span>.
					</li><li class="listitem"><p class="simpara">
						Download the <span class="strong strong"><strong>image_check tool</strong></span>:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--8rptufw"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed">$ curl -O http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/attach/73848/cn_zh/1557459863884/image_check</pre></div></div></li><li class="listitem"><p class="simpara">
						Change the file permission of the image compliance tool:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--h3np2ia"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># chmod +x image_check</pre></div></div></li><li class="listitem"><p class="simpara">
						Run the command to start the image compliance tool checkup:
					</p><div class="codeblock__wrapper" data-plain-code-block-id="codeblock--plain--os4xrey"><pfe-clipboard title="Copy" copy-from="property" class="codeblock__copy PFElement" copied-duration="3" role="button" tabindex="0" pfelement="" type="content"><span slot="text">Copy</span><span slot="text--success">Copied!</span></pfe-clipboard><div class="codeblock__inner-wrapper" tabindex="0"><pre class="screen language-none codeblock codeblock--processed"># ./image_check</pre></div></div><p class="simpara">
						The tool verifies the system configuration and generates a report 
that is displayed on your screen. The image_check tool saves this report
 in the same folder where the image compliance tool is running.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Troubleshooting</strong></p><p>
					If any of the <span class="strong strong"><strong>Detection Items</strong></span> fail, follow the instructions in the terminal to correct it. See link: <a class="link" href="https://www.alibabacloud.com/help/doc-detail/73848.htm">Detection items section.</a>
				</p></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/73848.htm">Image Compliance Tool.</a>
					</li></ul></div></section><section class="section" id="uploading-images-to-alibaba_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.13. Uploading customized RHEL images to Alibaba</h2></div></div></div><p class="_abstract _abstract">
				You can upload the customized <code class="literal">AMI</code> image you created by using image builder to the Object Storage Service (OSS).
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Your system is set up for uploading Alibaba images. See <a class="link" href="#preparing-uploading-images-to-alibaba_creating-cloud-images-with-composer" title="10.12.&nbsp;Preparing to upload customized RHEL images to Alibaba">Preparing for uploading images to Alibaba</a>.
					</li><li class="listitem">
						You have created an <code class="literal">ami</code> image by using image builder.
					</li><li class="listitem">
						You have a bucket. See <a class="link" href="https://www.alibabacloud.com/help/doc-detail/31885.htm?spm=a2c63.p38356.b99.19.5c3f465a0WnfaV">Creating a bucket</a>.
					</li><li class="listitem">
						You have an <a class="link" href="https://account.alibabacloud.com/register/intl_register.htm?spm=a2c63.p38356.879954.7.2ce96962qvmvAi">active Alibaba Account</a>.
					</li><li class="listitem">
						You activated <a class="link" href="https://www.alibabacloud.com/help/doc-detail/31884.htm?spm=a2c63.p38356.879954.10.7c0a64baufqGup#task-njz-hf4-tdb">OSS</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the <a class="link" href="https://oss.console.aliyun.com/?spm=a2c63.p38356.879954.10.2171455fhuA3H5">OSS console</a>.
					</li><li class="listitem">
						In Bucket menu on the left, select the bucket to which you want to upload an image.
					</li><li class="listitem">
						In the upper right menu, click the <span class="keycap"><strong>Files</strong></span> tab.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Upload</span>. A dialog window opens on the right side. Configure the following:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Upload To</strong></span>: Choose to upload the file to the <span class="strong strong"><strong>Current</strong></span> directory or to a <span class="strong strong"><strong>Specified</strong></span> directory.
							</li><li class="listitem">
								<span class="strong strong"><strong>File ACL</strong></span>: Choose the type of permission of the uploaded file.
							</li></ul></div></li><li class="listitem">
						Click <span class="guibutton">Upload</span>.
					</li><li class="listitem">
						Select the image you want to upload.
					</li><li class="listitem">
						Click <span class="guibutton">Open</span>.
					</li></ol></div><p>
				As a result, the customized <code class="literal">AMI</code> image is uploaded to the OSS Console.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/31886.htm?spm=a2c63.p38356.b99.20.454c5dc4qRcnad">Upload an object.</a>
					</li><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/25542.htm?spm=a2c63.p38356.879954.20.7c0a64batcdSMD#ImportImage">Creating an instance from custom images.</a>
					</li><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/48226.htm">Importing images.</a>
					</li></ul></div></section><section class="section" id="importing-images-to-alibaba_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.14. Importing images to Alibaba</h2></div></div></div><p class="_abstract _abstract">
				To import a customized Alibaba RHEL image that you created by using 
image builder to the Elastic Cloud Console (ECS), follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Your system is set up for uploading Alibaba images. See <a class="link" href="#preparing-uploading-images-to-alibaba_creating-cloud-images-with-composer" title="10.12.&nbsp;Preparing to upload customized RHEL images to Alibaba">Preparing for uploading images to Alibaba</a>.
					</li><li class="listitem">
						You have created an <code class="literal">ami</code> image by using image builder.
					</li><li class="listitem">
						You have a bucket. See <a class="link" href="https://www.alibabacloud.com/help/doc-detail/31885.htm?spm=a2c63.p38356.b99.19.5c3f465a0WnfaV">Creating a bucket</a>.
					</li><li class="listitem">
						You have an <a class="link" href="https://account.alibabacloud.com/register/intl_register.htm?spm=a2c63.p38356.879954.7.2ce96962qvmvAi">active Alibaba Account</a>.
					</li><li class="listitem">
						You activated <a class="link" href="https://www.alibabacloud.com/help/doc-detail/31884.htm?spm=a2c63.p38356.879954.10.7c0a64baufqGup#task-njz-hf4-tdb">OSS</a>.
					</li><li class="listitem">
						You have uploaded the image to Object Storage Service (OSS). See <a class="link" href="#uploading-images-to-alibaba_creating-cloud-images-with-composer" title="10.13.&nbsp;Uploading customized RHEL images to Alibaba">Uploading images to Alibaba</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the <a class="link" href="https://account.alibabacloud.com/login/login.htm?oauth_callback=https%3A%2F%2Fecs.console.aliyun.com%2F%3Fspm%3Da2c63.p38356.879954.13.7c0a64bajaDXMi">ECS console.</a>
					</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
								On the left-side menu, click <span class="guibutton">Images</span>.
							</li><li class="listitem">
								On the upper right side, click <span class="guibutton">Import Image</span>. A dialog window opens.
							</li><li class="listitem"><p class="simpara">
								Confirm that you have set up the correct region where the image is located. Enter the following information:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										<code class="literal">OSS Object Address</code>: See how to obtain <a class="link" href="https://www.alibabacloud.com/help/doc-detail/31912.htm?spm=5176.2020520101.0.0.34cc7d33vYKnS3">OSS Object Address</a>.
									</li><li class="listitem">
										<code class="literal">Image Name</code>
									</li><li class="listitem">
										<code class="literal">Operating System</code>
									</li><li class="listitem">
										<code class="literal">System Disk Size</code>
									</li><li class="listitem">
										<code class="literal">System Architecture</code>
									</li><li class="listitem">
										<code class="literal">Platform</code>: Red Hat
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Optionally, provide the following details:
							</p><div class="orderedlist"><ol class="orderedlist" type="a" start="7"><li class="listitem">
										<code class="literal">Image Format</code>: <code class="literal">qcow2</code> or <code class="literal">ami</code>, depending on the uploaded image format.
									</li><li class="listitem">
										<code class="literal">Image Description</code>
									</li><li class="listitem"><p class="simpara">
										<code class="literal">Add Images of Data Disks</code>
									</p><p class="simpara">
										The address can be determined in the OSS management console. After selecting the required bucket in the left menu:
									</p></li></ol></div></li></ol></div></li><li class="listitem">
						Select <code class="literal">Files</code> section.
					</li><li class="listitem"><p class="simpara">
						Click the <span class="keycap"><strong>Details</strong></span> link on the right for the appropriate image.
					</p><p class="simpara">
						A window appears on the right side of the screen, showing image details. The <code class="literal">OSS</code> object address is in the <code class="literal">URL</code> box.
					</p></li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">OK</span>.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The importing process time can vary depending on the image size.
						</p></div></div></li></ol></div><p>
				The customized image is imported to the <code class="literal">ECS</code> Console.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/48226.htm">Notes for importing images.</a>
					</li><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/25542.htm?spm=a2c63.p38356.879954.20.7c0a64batcdSMD#ImportImage">Creating an instance from custom images.</a>
					</li><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/31886.htm?spm=a2c63.p38356.b99.20.454c5dc4qRcnad">Upload an object.</a>
					</li></ul></div></section><section class="section" id="creating_an_instance_on_alibaba_creating-cloud-images-with-composer"><div class="titlepage"><div><div><h2 class="title">10.15. Creating an instance of a customized RHEL image using Alibaba</h2></div></div></div><p class="_abstract _abstract">
				You can create instances of a customized RHEL image using <code class="literal">Alibaba ECS Console</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have activated <a class="link" href="https://www.alibabacloud.com/help/doc-detail/31884.htm?spm=a2c63.p38356.879954.10.7c0a64baufqGup#task-njz-hf4-tdb">OSS</a> and uploaded your custom image.
					</li><li class="listitem">
						You have successfully imported your image to ECS Console. See <a class="link" href="#importing-images-to-alibaba_creating-cloud-images-with-composer" title="10.14.&nbsp;Importing images to Alibaba">Importing images to Alibaba</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the <a class="link" href="https://account.alibabacloud.com/login/login.htm?oauth_callback=https%3A%2F%2Fecs.console.aliyun.com%2F%3Fspm%3Da2c63.p38356.879954.13.7c0a64bajaDXMi">ECS console.</a>
					</li><li class="listitem">
						On the left-side menu, select <span class="strong strong"><strong>Instances</strong></span>.
					</li><li class="listitem">
						In the upper-right corner, click <span class="strong strong"><strong>Create Instance</strong></span>. You are redirected to a new window.
					</li><li class="listitem">
						Complete all the required information. See <a class="link" href="https://www.alibabacloud.com/help/doc-detail/87190.htm?spm=a2c63.p38356.879954.13.581344d6KkTITK#task-vwq-5g4-r2b">Creating an instance by using the wizard</a> for more details.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Create Instance</strong></span> and confirm the order.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You can see the option <span class="strong strong"><strong>Create Order</strong></span> instead of <span class="strong strong"><strong>Create Instance</strong></span>, depending on your subscription.
						</p></div></div></li></ol></div><p>
				As a result, you have an active instance ready for deployment from the <code class="literal">Alibaba ECS Console</code>.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/25465.htm?spm=a2c63.p38356.b99.108.6f3f33f9vAQ1Vb">Creating an instance by using a custom image.</a>
					</li><li class="listitem">
						<a class="link" href="https://www.alibabacloud.com/help/doc-detail/87190.htm?spm=a2c63.p38356.b99.107.26bd44d6rRcb4v">Create an instance by using the wizard.</a>
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140523809596208"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2023 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat
 under a Creative Commons Attribution–Share Alike 3.0 Unported license 
("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>.
 In accordance with CC-BY-SA, if you distribute this document or an 
adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to 
enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest
 extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat 
logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are 
trademarks of Red Hat, Inc., registered in the United States and other 
countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of 
Joyent. Red Hat is not formally related to or endorsed by the official 
Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack 
logo are either registered trademarks/service marks or 
trademarks/service marks of the OpenStack Foundation, in the United 
States and other countries and are used with the OpenStack Foundation's 
permission. We are not affiliated with, endorsed or sponsored by the 
OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div>


  <nav class="pvof-doc__book-nav">
  <ol class="book-nav__list">
              </ol>
</nav>


          </div>
              </div>
              <div id="comments-footer" class="book-comments">
          

  

        </div>
          </div>
  </article>
<meta itemscope="" itemref="md1">



    </div>
      <!-- CP_PRIMER_FOOTER -->            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto affix-top" href="#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com/">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path class="rh-logo-hat" d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"></path>
                      <path class="rh-logo-band" d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"></path>
                      <path class="rh-logo-type" d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"></path>
                  </svg>
                </a>
              </div>

              <div role="navigation" aria-label="quick">
                  <h3>Quick Links</h3>
                  <ul>
                      <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                      <li><a class="manage-subscriptions" href="https://access.redhat.com/management">Subscriptions</a></li>
                      <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                      <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                      <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="help">
                  <h3>Help</h3>
                  <ul>
                      <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                      <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                      <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="site">
                  <h3>Site Info</h3>
                  <ul>
                      <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                      <li><a class="browser-support-policy" href="https://www.redhat.com/en/about/browser-support">Browser Support Policy</a></li>
                      <li><a class="accessibility" href="https://www.redhat.com/en/about/digital-accessibility">Accessibility</a></li>
                      <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                      <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="other">
                  <h3>Related Sites</h3>
                  <ul>
                      <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                      <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                      <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                      <li><a href="https://cloud.redhat.com/" class="cloud-com">cloud.redhat.com</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="about">
                  <h3>About</h3>
                  <ul>
                      <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                      <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                      <li><a href="http://jobs.redhat.com/" class="about-jobs">Red Hat Jobs</a></li>
                  </ul>
              </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a href="https://status.redhat.com/" class="status-page-widget">
                        <span class="status-description">All systems operational</span>
                        <span class="status-dot shape-circle shape-dash-lime"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2023 Red Hat, Inc.</div>

                        <div role="navigation" aria-label="legal" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://www.redhat.com/en/about/terms-use" class="terms-of-use">Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                                <li><a id="teconsent" consent="0,1,2"><a role="link" id="icon-id03938391109218774" tabindex="0" aria-haspopup="dialog" aria-label="Cookie Preferences, opens a dedicated popup modal window" class="truste_cursor_pointer" lang="en">Cookie preferences</a></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                        <img src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/rh-summit-red-a.svg" alt="Red Hat Summit"> <span class="offscreen">Red Hat Summit</span>
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHat" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>                        
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- TrustArc -->
    <div id="consent_blackbar"></div> 
    <!--googleon: all-->
</div>
<!-- /CP_PRIMER_FOOTER -->


  </div>

    
  

<script>_satellite["_runScript2"](function(event, target, Promise) {
window._sdi=window._sdi||{},window._sdi.addEventHandler=window.addEventListener?function(e,i,t){e.addEventListener(i,t,!1)}:function(e,i,t){e.attachEvent("on"+i,t)},window._sdi.addEventHandler(window,"message",(function(e){var i={},t=0;(-1!==e.origin.indexOf("loop=1")||e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.loop)&&(t=1);var a=0;if(e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.autoplay&&(a=1),e.origin.match(/youtube\.com/)&&"undefined"!=typeof JSON&&!t&&!a){i=JSON.parse(e.data);var n=window._sdi.yt.videos;if("infoDelivery"==i.event){var d,o={};for(var r in i.info.videoData&&((o=n[d=i.info.videoData.video_id]||{}).info=i.info,o.id=i.id,n[d]=o),window._sdi.yt.videos){(c=window._sdi.yt.videos[r]).id==i.id&&(o=c)}var s=window._sdi.yt.sc||{};o.info&&(Math.abs(i.info.currentTime-o.info.currentTime)>1.5&&!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),"paused"!=o.state&&s.s().Media.play(o.info.videoData.title,i.info.currentTime)),o.info.currentTime=i.info.currentTime),2==i.info.playerState&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),1==i.info.playerState&&(o.started?!0===s.track&&s.s().Media.play(o.info.videoData.title,o.info.currentTime):(o.started=!0,!0===s.track&&(s.s().Media.open(o.info.videoData.title,o.info.duration,"youtube"),s.s().Media.play(o.info.videoData.title,o.info.currentTime))),o.state="playing"),3==i.info.playerState&&o.started&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),0===i.info.playerState&&(!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),s.s().Media.close(o.info.videoData.title)),o.state="completed")}else if("onStateChange"==i.event){for(var r in window._sdi.yt.videos){var c;(c=window._sdi.yt.videos[r]).id==i.id&&(o=c)}s=window._sdi.yt.sc||{};1==i.info&&(o.started?!0===s.track&&s.s().Media.play(o.info.videoData.title,o.info.currentTime):(o.started=!0,!0===s.track&&(s.s().Media.open(o.info.videoData.title,o.info.duration,"youtube"),"paused"!=o.state&&s.s().Media.play(o.info.videoData.title,i.info.currentTime))),o.state="playing"),2==i.info&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),3==i.info&&o.started&&(!0===s.track&&s.s().Media.stop(o.info.videoData.title,o.info.currentTime),o.state="paused"),0===i.info&&(!0===s.track&&(s.s().Media.stop(o.info.videoData.title,o.info.currentTime),s.s().Media.close(o.info.videoData.title)),o.state="completed")}}})),window._sdi.loadScript=function(e,i){var t=document.createElement("script");t.type="text/javascript",i&&"function"==typeof i&&(t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,i())}:t.onload=function(){i()}),t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},window._sdi.yt={stages:{},players:{},sc:{track:!0,s:function(){return window.s}},init:function(){for(var e=document.getElementsByTagName("script"),i=!1,t=(window._sdi.yt.videos,0);t<e.length;t++){(e[t].src||"").match(/youtube\.com\/iframe_api/)&&(i=!0)}!1===i?window._sdi.loadScript("//www.youtube.com/iframe_api",(function(){window._sdi.yt.ready("api")})):window._sdi.yt.ready("api")},ready:function(e){window._sdi.yt.stages[e]=!0,window._sdi.yt.stages.dom&&window._sdi.yt.stages.api&&window._sdi.yt.checkIframes()},checkIframes:function(){var e=window._sdi.yt.videos,i=1e3,t=0;document.querySelectorAll("iframe[src*=youtube][data-sdiyt]").forEach((a=>{if("true"==a.dataset.sdiyt)return!1;if(-1!=a.src.indexOf("loop=1"))var n=null;else{var d;n=a.src.match(/h?t?t?p?s?\:?\/\/www\.youtube(-nocookie)?\.com\/embed\/([\w-]{11})(?:\?.*)?/)}if(n){d=n.length>2?n[2]:"",a.id||(a.id=d+t,t++);var o=!1;if(a.src.match(/enablejsapi=1/)||(a.src+=(a.src.indexOf("?")>-1?"&":"?")+"enablejsapi=1",o=!0),o){var r=a.cloneNode(!0);r.src=a.src,r.id=a.id,a.replaceWith(r)}else"undefined"!=typeof YT&&void 0!==YT.get?(ready=!0,e[d]={},(!YT.get(a.id)||void 0===YT.get(a.id).v&&void 0!==YT.get(a.id).v.videoId)&&(e[d].player=new YT.Player(a.id,{events:{onReady:function(){},onStateChange:function(){},videoId:a.id}})),a.setAttribute("data-sdiyt","true")):i=100}})),setTimeout((function(){window._sdi.yt.checkIframes()}),i)},videos:{}},void 0!==window._sdi&&void 0!==window._sdi.addEventHandler&&window._sdi.addEventHandler(window,"load",(function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1?(window._sdi.yt.init(),window._sdi.yt.ready("dom")):window._sdi.ytinterval=setInterval((function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1&&(window._sdi.yt.init(),window._sdi.yt.ready("dom"),clearInterval(window._sdi.ytinterval))}),500)}));
});</script><script>_satellite["_runScript3"](function(event, target, Promise) {
var dataLayerName="appEventData",reservedAttributes=["event"],internalDomains=[],downloadExtensions=["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"],parseAttributes=function(t){var e={};for(var n in t.dataset)if("analytics"===n.substr(0,9)){var a=n.replace("analytics","");e[a[0]?a[0].toLocaleLowerCase()+a.slice(1):""]=t.dataset[n]}return e},addAttributes=function(t,e){return isJavascript(t)&&(e.isJavascript=!0),isDownload(t)&&(e.isDownload=!0),isCrossPropertyDomain(t)&&(e.isCrossPropertyDomain=!0,e.linkTypeName="cross property link"),isCta(t)&&(e.isCta=!0,e.linkTypeName="cta link"),isExitLink(t)&&(e.isExitLink=!0,e.linkTypeName="exit link"),isFooter(t)&&(e.isFooter=!0),isInternalCampaign(t)&&(e.isInternalCampaign=!0),isPromoSection(t)&&(e.isPromoSection=!0),isSearchContainer(t)&&(e.isSearchContainer=!0),e.targetHost=getHostName(t.href),e.internalCampaign=window._sdi.util.getQueryParam("icid",t.href)||window._sdi.util.getQueryParam("intcmp",t.href),e},getLinkText=function(t){return t.getAttribute("data-analytics-text")||t.getAttribute("sObjectId")||t.getAttribute("s-object-id")||t.getAttribute("sObjectID")||t.getAttribute("data-s-object-id")||t.innerText&&""!==t.innerText.trim()&&t.innerText.trim()||t.textContent&&""!==t.textContent.trim()&&t.textContent.trim()||t.querySelector("[alt]")&&t.querySelector("[alt]").getAttribute("alt")||t.querySelector("[title]")&&t.querySelector("[title]").getAttribute("title")||t.getAttribute("aria-label")||t.href||"unknown"},getRegions=function(t,e){if(e=e||[],!t)return e;var n=t.closest("[data-analytics-region]");return n?(e.push(n.dataset.analyticsRegion),e=getRegions(n.parentElement,e)):e},removeReservedAttributes=function(t){return reservedAttributes.forEach((function(e){delete t[e]})),t},redactEmail=function(t){return t.replace(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}/gi,"email_address_redacted")},buildDataObject=function(t,e,n){return n=n||getRegions(t),{event:buildEventName(t,e,n),linkInfo:Object.assign({href:t.href,regions:n.reverse().join("|"),text:redactEmail(getLinkText(t))},removeReservedAttributes(e))}},buildEventName=function(t,e,n){if(e.event)return e.event;var a={};if(n=n||getRegions(t))for(var i=0;i<n.length;i++)if(a[n[i]])return a[n[i]];return"Master Link Clicked"},findRootElement=function(t){if(t)return t.closest("a, [data-analytics-event]")},isJavascript=function(t){return new RegExp("^javascript:","i").test(t.href)},isDownload=function(t){return new RegExp(".("+downloadExtensions.join("|")+")$","i").test(t.href)},isInternalDomain=function(t){return new RegExp(internalDomains.join("|"),"i").test(t.href)},isExitLink=function(t){return!!t.href&&!new RegExp(_satellite.getVar("exitExclusionArray").join("|"),"i").test(t.href)},isCrossPropertyDomain=function(t){return document.location.hostname!==getHostName(t.href)&&"access.cdn.redhat.com"!==getHostName(t.href)&&new RegExp(_satellite.getVar("redHatDomains").join("|"),"i").test(getHostName(t.href))},isCta=function(t){return!(!t.classList.contains("cta-primary")&&"primary"!=t.getAttribute("data-rh-cta-type")&&"primary"!=t.getAttribute("data-ux-cta-type"))},isTab=function(t){return!!(t.classList.contains('[data-toggle="tab"]')||t.classList.contains("pfe-accordion-header")||t.classList.contains('[role="tab"]')||t.classList.contains("ux-vtab-nav-link")||t.classList.contains("ux-tile-nav-link")||t.classList.contains("btn-brick")||t.classList.contains("ux-htab-nav-link")||t.classList.contains("ux-horizontal-tab-nav-link")||t.classList.contains("ux-oss-hub-filter-type-text")||t.classList.contains("ux-htabb-nav-link")||"tab"==t.getAttribute("data-toggle")||"PFE-ACCORDION-HEADER"==t.tagName||"tab"==t.getAttribute("role"))},isFooter=function(t){return el=t.closest("footer"),"undefined"!=typeof el&&null!=el},isInternalCampaign=function(t){return(""!=window._sdi.util.getQueryParam("icid",t.href)||""!=window._sdi.util.getQueryParam("intcmp",t.href))&&(linkRole=t.getAttribute("role")||"",_satellite.logger.log("isInternalCampaign: linkRole:",linkRole),"tab"!==linkRole||void 0)},isPromoSection=function(t){return el=t.closest("div.band-hero"),"undefined"!=typeof el&&null!=el},isSearchContainer=function(t){return _satellite.logger.log("isSearchContainer ran"),el=t.closest("div.cp-sidebar")||t.closest("div.cp-search-results"),_satellite.logger.log("isSearchContainer el",el),_satellite.logger.log("isSearchContainer return","undefined"!=typeof el&&null!=el&&document.location.href.indexOf("search")>-1),"undefined"!=typeof el&&null!=el&&document.location.href.indexOf("search")>-1},getHostName=function(e){return t=document.createElement("a"),t.href=e,t.hostname},pushEvent=function(t){window.appEventData=window.appEventData||[],console.info("Pushing to the dataLayer",t);var e=window[dataLayerName];Array.isArray(e)&&e.push(t)};window.analyticsHelper=window.analyticsHelper||{},window.analyticsHelper.parseCustomEvent=function(t,e,n){_satellite.logger.log("target:",t);var a=parseAttributes(t),i=null,r=getRegions(t);if(e)i=e.closest("[data-analytics-region]");else{var s=t.getRootNode();s&&s.host&&(i=t.getRootNode().host.closest("[data-analytics-region]"))}i&&(r=r.concat(getRegions(i))),"expand"===n&&r.includes("mega menu")&&(a.event="Mega Menu Expanded"),"expand"===n&&r.includes("site-switcher")&&(a.event="Site Switcher Expanded"),"true"!==a.istab&&"true"!==a.isTab||(a.event="Tab Link Clicked",tabHref=t.getAttribute("href")||getLinkText(t)||"",tabHref=tabHref.trim(),a.tabHref=tabHref),_satellite.logger.log("attributes",a),_satellite.logger.log("event type",n),_satellite.logger.log("regions",r),a=addAttributes(t,a);var o=buildDataObject(t,a,r);o.event&&pushEvent(o)};var clickHandler=function(t){if(!(t.target&&t.target.tagName&&t.target.tagName.indexOf("-")>0)){var e=findRootElement(t.target);if(e){var n=parseAttributes(e);isTab(e)&&(n.event="Tab Link Clicked",tabHref=e.getAttribute("href")||getLinkText(e)||"",tabHref=tabHref.trim(),n.tabHref=tabHref),n=addAttributes(e,n);var a=buildDataObject(e,n);a.event&&pushEvent(a)}}};document.addEventListener("click",clickHandler,!0),document.addEventListener("pfe-tabs:shown-tab",(function(t){if(window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent){var e=t.target.closest("pfe-content-set")||t.target.closest("pfe-tabs"),n=null;if(e){if("PFE-CONTENT-SET"===e.tagName){var a=t.detail.tab.querySelector("slot");if(a)(n=e.getSlot(a.getAttribute("name")))&&(n=e.getSlot(t.detail.tab.querySelector("slot").getAttribute("name"))[0])}else n=t.detail.tab;n?(n.setAttribute("data-analytics-isTab","true"),_satellite.logger.info("Called pfe-tabs:shown-tab:parseCustomEvent clicked"),window.analyticsHelper.parseCustomEvent(n,e,"clicked")):console.warn("Wasn't able to find the tabTextWrapper")}else console.warn("Wasn't able to find the componentParent")}})),document.addEventListener("pfe-accordion:change",(function(t){if(window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent){var e=t.target.closest("pfe-content-set")||t.target.closest("pfe-accordion");if(t.detail.expanded){var n="PFE-ACCORDION-HEADER"===t.target.tagName?t.target:t.path[0];if(e&&"PFE-CONTENT-SET"===e.tagName){var a=n.querySelector("slot");if(a){var i=e.getSlot(a.getAttribute("name"));i&&i[0]&&(n=i[0])}}n&&n.setAttribute("data-analytics-isTab","true"),_satellite.logger.info("Called pfe-accordion:change:parseCustomEvent expand"),window.analyticsHelper.parseCustomEvent(n,e,"expand")}}})),document.addEventListener("pfe-shadow-dom-event",(function(t){window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent&&window.analyticsHelper.parseCustomEvent(t.detail.target,t.detail.parentComponent,"click")})),document.addEventListener("pfe-navigation:expanded-item",(function(t){window.analyticsHelper&&"function"==typeof window.analyticsHelper.parseCustomEvent&&window.analyticsHelper.parseCustomEvent(t.detail.toggle,t.target,"expand")}));
});</script><div id="ZN_bCxD2jjWRr4bfVQ"></div><script type="text/javascript" src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/Untitled.js"></script><script src="Composing%20a%20customized%20RHEL%20system%20image%20Red%20Hat%20Enterprise%20Linux%209%20Red%20Hat%20Customer%20Portal_files/CoreModule.js" defer="defer"></script><script>_satellite["_runScript4"](function(event, target, Promise) {
_satellite.getVar("eloqua_Tag");
});</script><script>_satellite["_runScript5"](function(event, target, Promise) {
var body=document.body,html=document.documentElement,pageHeight=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),viewportHeight=window.innerHeight,initialPercent=viewportHeight/pageHeight,maxInterval=0;initialPercent=initialPercent>1?100:Math.round(100*initialPercent);var maxScroll=Math.floor(initialPercent);_satellite.cookie.set("sat_ppv",maxScroll,{domain:".redhat.com"});var ticking=!1,s=window.scrollY;document.addEventListener("scroll",(()=>{ticking||(window.requestAnimationFrame((()=>{var t=document.body,e=document.documentElement;s=window.scrollY;var i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),o=window.innerHeight,l=s/(i-o)*100;l>maxScroll&&(maxScroll=Math.floor(l)),_satellite.cookie.set("sat_ppv",maxScroll,{domain:".redhat.com"}),ticking=!1})),ticking=!0)}),{passive:!0});
});</script><script>
if("yes"==_satellite.getVar("tagsAllowedFunc")){var profileID=_satellite.getVar("profileID")||"";if(profileID)try{!function(e){!function(t,n,i,a,o){var c,l,r,f,s;for((o=t[a]=t[a]||{})._q=[],l=0,r=(c=["initialize","identify","updateOptions","pageLoad"]).length;l<r;++l)!function(e){o[e]=o[e]||function(){o._q[e===c[0]?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}}(c[l]);(f=n.createElement(i)).async=!0,f.src="https://cdn.pendo.io/agent/static/"+e+"/pendo.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(f,s)}(window,document,"script","pendo"),setTimeout((function(){"undefined"!=typeof pendo&&pendo.initialize({visitor:{id:_satellite.getVar("profileID"),internal:"",lang:""},account:{id:_satellite.getVar("accountID"),account_number:_satellite.getVar("accountID")}})}),2e3)}("f210c485-387f-43ad-4eee-f55bab22507f")}catch(e){}}
</script></body></html>